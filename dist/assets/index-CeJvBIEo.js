function Mk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function iE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sE={exports:{}},wd={},oE={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=Symbol.for("react.element"),Vk=Symbol.for("react.portal"),jk=Symbol.for("react.fragment"),Fk=Symbol.for("react.strict_mode"),Uk=Symbol.for("react.profiler"),zk=Symbol.for("react.provider"),Bk=Symbol.for("react.context"),$k=Symbol.for("react.forward_ref"),Hk=Symbol.for("react.suspense"),Wk=Symbol.for("react.memo"),qk=Symbol.for("react.lazy"),wv=Symbol.iterator;function Kk(t){return t===null||typeof t!="object"?null:(t=wv&&t[wv]||t["@@iterator"],typeof t=="function"?t:null)}var aE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lE=Object.assign,cE={};function Eo(t,e,n){this.props=t,this.context=e,this.refs=cE,this.updater=n||aE}Eo.prototype.isReactComponent={};Eo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Eo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uE(){}uE.prototype=Eo.prototype;function hm(t,e,n){this.props=t,this.context=e,this.refs=cE,this.updater=n||aE}var fm=hm.prototype=new uE;fm.constructor=hm;lE(fm,Eo.prototype);fm.isPureReactComponent=!0;var _v=Array.isArray,dE=Object.prototype.hasOwnProperty,pm={current:null},hE={key:!0,ref:!0,__self:!0,__source:!0};function fE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)dE.call(e,r)&&!hE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fl,type:t,key:s,ref:o,props:i,_owner:pm.current}}function Gk(t,e){return{$$typeof:fl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mm(t){return typeof t=="object"&&t!==null&&t.$$typeof===fl}function Qk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ev=/\/+/g;function Rh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Qk(""+t.key):e.toString(36)}function Vc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fl:case Vk:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Rh(o,0):r,_v(i)?(n="",t!=null&&(n=t.replace(Ev,"$&/")+"/"),Vc(i,e,n,"",function(u){return u})):i!=null&&(mm(i)&&(i=Gk(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ev,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",_v(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+Rh(s,a);o+=Vc(s,e,n,c,i)}else if(c=Kk(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+Rh(s,a++),o+=Vc(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function tc(t,e,n){if(t==null)return t;var r=[],i=0;return Vc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Yk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},jc={transition:null},Xk={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:jc,ReactCurrentOwner:pm};function pE(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:tc,forEach:function(t,e,n){tc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tc(t,function(){e++}),e},toArray:function(t){return tc(t,function(e){return e})||[]},only:function(t){if(!mm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=Eo;de.Fragment=jk;de.Profiler=Uk;de.PureComponent=hm;de.StrictMode=Fk;de.Suspense=Hk;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xk;de.act=pE;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=pm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)dE.call(e,c)&&!hE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:fl,type:t.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:Bk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zk,_context:t},t.Consumer=t};de.createElement=fE;de.createFactory=function(t){var e=fE.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:$k,render:t}};de.isValidElement=mm;de.lazy=function(t){return{$$typeof:qk,_payload:{_status:-1,_result:t},_init:Yk}};de.memo=function(t,e){return{$$typeof:Wk,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=jc.transition;jc.transition={};try{t()}finally{jc.transition=e}};de.unstable_act=pE;de.useCallback=function(t,e){return Mt.current.useCallback(t,e)};de.useContext=function(t){return Mt.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};de.useEffect=function(t,e){return Mt.current.useEffect(t,e)};de.useId=function(){return Mt.current.useId()};de.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return Mt.current.useMemo(t,e)};de.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};de.useRef=function(t){return Mt.current.useRef(t)};de.useState=function(t){return Mt.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return Mt.current.useTransition()};de.version="18.3.1";oE.exports=de;var T=oE.exports;const ft=iE(T),mE=Mk({__proto__:null,default:ft},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jk=T,Zk=Symbol.for("react.element"),eC=Symbol.for("react.fragment"),tC=Object.prototype.hasOwnProperty,nC=Jk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rC={key:!0,ref:!0,__self:!0,__source:!0};function gE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tC.call(e,r)&&!rC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Zk,type:t,key:s,ref:o,props:i,_owner:nC.current}}wd.Fragment=eC;wd.jsx=gE;wd.jsxs=gE;sE.exports=wd;var m=sE.exports,yE={exports:{}},nn={},vE={exports:{}},wE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,$){var X=L.length;L.push($);e:for(;0<X;){var he=X-1>>>1,le=L[he];if(0<i(le,$))L[he]=$,L[X]=le,X=he;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var $=L[0],X=L.pop();if(X!==$){L[0]=X;e:for(var he=0,le=L.length,oe=le>>>1;he<oe;){var _e=2*(he+1)-1,He=L[_e],Ke=_e+1,H=L[Ke];if(0>i(He,X))Ke<le&&0>i(H,He)?(L[he]=H,L[Ke]=X,he=Ke):(L[he]=He,L[_e]=X,he=_e);else if(Ke<le&&0>i(H,X))L[he]=H,L[Ke]=X,he=Ke;else break e}}return $}function i(L,$){var X=L.sortIndex-$.sortIndex;return X!==0?X:L.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,p=3,_=!1,I=!1,w=!1,R=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=L)r(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(u)}}function O(L){if(w=!1,S(L),!I)if(n(c)!==null)I=!0,Z(D);else{var $=n(u);$!==null&&q(O,$.startTime-L)}}function D(L,$){I=!1,w&&(w=!1,E(v),v=-1),_=!0;var X=p;try{for(S($),f=n(c);f!==null&&(!(f.expirationTime>$)||L&&!P());){var he=f.callback;if(typeof he=="function"){f.callback=null,p=f.priorityLevel;var le=he(f.expirationTime<=$);$=t.unstable_now(),typeof le=="function"?f.callback=le:f===n(c)&&r(c),S($)}else r(c);f=n(c)}if(f!==null)var oe=!0;else{var _e=n(u);_e!==null&&q(O,_e.startTime-$),oe=!1}return oe}finally{f=null,p=X,_=!1}}var V=!1,x=null,v=-1,b=5,C=-1;function P(){return!(t.unstable_now()-C<b)}function N(){if(x!==null){var L=t.unstable_now();C=L;var $=!0;try{$=x(!0,L)}finally{$?A():(V=!1,x=null)}}else V=!1}var A;if(typeof y=="function")A=function(){y(N)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,re=W.port2;W.port1.onmessage=N,A=function(){re.postMessage(null)}}else A=function(){R(N,0)};function Z(L){x=L,V||(V=!0,A())}function q(L,$){v=R(function(){L(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){I||_||(I=!0,Z(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var X=p;p=$;try{return L()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=p;p=L;try{return $()}finally{p=X}},t.unstable_scheduleCallback=function(L,$,X){var he=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?he+X:he):X=he,L){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=X+le,L={id:d++,callback:$,priorityLevel:L,startTime:X,expirationTime:le,sortIndex:-1},X>he?(L.sortIndex=X,e(u,L),n(c)===null&&L===n(u)&&(w?(E(v),v=-1):w=!0,q(O,X-he))):(L.sortIndex=le,e(c,L),I||_||(I=!0,Z(D))),L},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(L){var $=p;return function(){var X=p;p=$;try{return L.apply(this,arguments)}finally{p=X}}}})(wE);vE.exports=wE;var iC=vE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC=T,tn=iC;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _E=new Set,ja={};function as(t,e){ro(t,e),ro(t+"Capture",e)}function ro(t,e){for(ja[t]=e,t=0;t<e.length;t++)_E.add(e[t])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=Object.prototype.hasOwnProperty,oC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xv={},Tv={};function aC(t){return Nf.call(Tv,t)?!0:Nf.call(xv,t)?!1:oC.test(t)?Tv[t]=!0:(xv[t]=!0,!1)}function lC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cC(t,e,n,r){if(e===null||typeof e>"u"||lC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gm=/[\-:]([a-z])/g;function ym(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gm,ym);gt[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gm,ym);gt[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gm,ym);gt[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function vm(t,e,n,r){var i=gt.hasOwnProperty(e)?gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cC(e,n,i,r)&&(n=null),r||i===null?aC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Or=sC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nc=Symbol.for("react.element"),As=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),wm=Symbol.for("react.strict_mode"),Of=Symbol.for("react.profiler"),EE=Symbol.for("react.provider"),xE=Symbol.for("react.context"),_m=Symbol.for("react.forward_ref"),Df=Symbol.for("react.suspense"),Lf=Symbol.for("react.suspense_list"),Em=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),TE=Symbol.for("react.offscreen"),Sv=Symbol.iterator;function ea(t){return t===null||typeof t!="object"?null:(t=Sv&&t[Sv]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Ah;function da(t){if(Ah===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ah=e&&e[1]||""}return`
`+Ah+t}var Ph=!1;function Nh(t,e){if(!t||Ph)return"";Ph=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Ph=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?da(t):""}function uC(t){switch(t.tag){case 5:return da(t.type);case 16:return da("Lazy");case 13:return da("Suspense");case 19:return da("SuspenseList");case 0:case 2:case 15:return t=Nh(t.type,!1),t;case 11:return t=Nh(t.type.render,!1),t;case 1:return t=Nh(t.type,!0),t;default:return""}}function Mf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ps:return"Fragment";case As:return"Portal";case Of:return"Profiler";case wm:return"StrictMode";case Df:return"Suspense";case Lf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xE:return(t.displayName||"Context")+".Consumer";case EE:return(t._context.displayName||"Context")+".Provider";case _m:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Em:return e=t.displayName||null,e!==null?e:Mf(t.type)||"Memo";case Hr:e=t._payload,t=t._init;try{return Mf(t(e))}catch{}}return null}function dC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mf(e);case 8:return e===wm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function SE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hC(t){var e=SE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rc(t){t._valueTracker||(t._valueTracker=hC(t))}function IE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=SE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function du(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vf(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Iv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bE(t,e){e=e.checked,e!=null&&vm(t,"checked",e,!1)}function jf(t,e){bE(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ff(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ff(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ff(t,e,n){(e!=="number"||du(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ha=Array.isArray;function Bs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Uf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(ha(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function kE(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function CE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?CE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ic,RE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ic=ic||document.createElement("div"),ic.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ic.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fC=["Webkit","ms","Moz","O"];Object.keys(Ta).forEach(function(t){fC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ta[e]=Ta[t]})});function AE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ta.hasOwnProperty(t)&&Ta[t]?(""+e).trim():e+"px"}function PE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=AE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pC=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bf(t,e){if(e){if(pC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function $f(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hf=null;function xm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wf=null,$s=null,Hs=null;function Rv(t){if(t=gl(t)){if(typeof Wf!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Sd(e),Wf(t.stateNode,t.type,e))}}function NE(t){$s?Hs?Hs.push(t):Hs=[t]:$s=t}function OE(){if($s){var t=$s,e=Hs;if(Hs=$s=null,Rv(t),e)for(t=0;t<e.length;t++)Rv(e[t])}}function DE(t,e){return t(e)}function LE(){}var Oh=!1;function ME(t,e,n){if(Oh)return t(e,n);Oh=!0;try{return DE(t,e,n)}finally{Oh=!1,($s!==null||Hs!==null)&&(LE(),OE())}}function Ua(t,e){var n=t.stateNode;if(n===null)return null;var r=Sd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var qf=!1;if(Er)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){qf=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{qf=!1}function mC(t,e,n,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Sa=!1,hu=null,fu=!1,Kf=null,gC={onError:function(t){Sa=!0,hu=t}};function yC(t,e,n,r,i,s,o,a,c){Sa=!1,hu=null,mC.apply(gC,arguments)}function vC(t,e,n,r,i,s,o,a,c){if(yC.apply(this,arguments),Sa){if(Sa){var u=hu;Sa=!1,hu=null}else throw Error(z(198));fu||(fu=!0,Kf=u)}}function ls(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function VE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Av(t){if(ls(t)!==t)throw Error(z(188))}function wC(t){var e=t.alternate;if(!e){if(e=ls(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Av(i),t;if(s===r)return Av(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function jE(t){return t=wC(t),t!==null?FE(t):null}function FE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FE(t);if(e!==null)return e;t=t.sibling}return null}var UE=tn.unstable_scheduleCallback,Pv=tn.unstable_cancelCallback,_C=tn.unstable_shouldYield,EC=tn.unstable_requestPaint,qe=tn.unstable_now,xC=tn.unstable_getCurrentPriorityLevel,Tm=tn.unstable_ImmediatePriority,zE=tn.unstable_UserBlockingPriority,pu=tn.unstable_NormalPriority,TC=tn.unstable_LowPriority,BE=tn.unstable_IdlePriority,_d=null,Fn=null;function SC(t){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(_d,t,void 0,(t.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:kC,IC=Math.log,bC=Math.LN2;function kC(t){return t>>>=0,t===0?32:31-(IC(t)/bC|0)|0}var sc=64,oc=4194304;function fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=fa(a):(s&=o,s!==0&&(r=fa(s)))}else o=n&~i,o!==0?r=fa(o):s!==0&&(r=fa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sn(e),i=1<<n,r|=t[n],e&=~i;return r}function CC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Sn(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=CC(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function Gf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $E(){var t=sc;return sc<<=1,!(sc&4194240)&&(sc=64),t}function Dh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sn(e),t[e]=n}function AC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Sm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function HE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var WE,Im,qE,KE,GE,Qf=!1,ac=[],Jr=null,Zr=null,ei=null,za=new Map,Ba=new Map,qr=[],PC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nv(t,e){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":za.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(e.pointerId)}}function na(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gl(e),e!==null&&Im(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function NC(t,e,n,r,i){switch(e){case"focusin":return Jr=na(Jr,t,e,n,r,i),!0;case"dragenter":return Zr=na(Zr,t,e,n,r,i),!0;case"mouseover":return ei=na(ei,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return za.set(s,na(za.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ba.set(s,na(Ba.get(s)||null,t,e,n,r,i)),!0}return!1}function QE(t){var e=Vi(t.target);if(e!==null){var n=ls(e);if(n!==null){if(e=n.tag,e===13){if(e=VE(n),e!==null){t.blockedOn=e,GE(t.priority,function(){qE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hf=r,n.target.dispatchEvent(r),Hf=null}else return e=gl(n),e!==null&&Im(e),t.blockedOn=n,!1;e.shift()}return!0}function Ov(t,e,n){Fc(t)&&n.delete(e)}function OC(){Qf=!1,Jr!==null&&Fc(Jr)&&(Jr=null),Zr!==null&&Fc(Zr)&&(Zr=null),ei!==null&&Fc(ei)&&(ei=null),za.forEach(Ov),Ba.forEach(Ov)}function ra(t,e){t.blockedOn===e&&(t.blockedOn=null,Qf||(Qf=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,OC)))}function $a(t){function e(i){return ra(i,t)}if(0<ac.length){ra(ac[0],t);for(var n=1;n<ac.length;n++){var r=ac[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Jr!==null&&ra(Jr,t),Zr!==null&&ra(Zr,t),ei!==null&&ra(ei,t),za.forEach(e),Ba.forEach(e),n=0;n<qr.length;n++)r=qr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qr.length&&(n=qr[0],n.blockedOn===null);)QE(n),n.blockedOn===null&&qr.shift()}var Ws=Or.ReactCurrentBatchConfig,gu=!0;function DC(t,e,n,r){var i=Se,s=Ws.transition;Ws.transition=null;try{Se=1,bm(t,e,n,r)}finally{Se=i,Ws.transition=s}}function LC(t,e,n,r){var i=Se,s=Ws.transition;Ws.transition=null;try{Se=4,bm(t,e,n,r)}finally{Se=i,Ws.transition=s}}function bm(t,e,n,r){if(gu){var i=Yf(t,e,n,r);if(i===null)Hh(t,e,r,yu,n),Nv(t,r);else if(NC(i,t,e,n,r))r.stopPropagation();else if(Nv(t,r),e&4&&-1<PC.indexOf(t)){for(;i!==null;){var s=gl(i);if(s!==null&&WE(s),s=Yf(t,e,n,r),s===null&&Hh(t,e,r,yu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Hh(t,e,r,null,n)}}var yu=null;function Yf(t,e,n,r){if(yu=null,t=xm(r),t=Vi(t),t!==null)if(e=ls(t),e===null)t=null;else if(n=e.tag,n===13){if(t=VE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yu=t,null}function YE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xC()){case Tm:return 1;case zE:return 4;case pu:case TC:return 16;case BE:return 536870912;default:return 16}default:return 16}}var Qr=null,km=null,Uc=null;function XE(){if(Uc)return Uc;var t,e=km,n=e.length,r,i="value"in Qr?Qr.value:Qr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Uc=i.slice(t,1<r?1-r:void 0)}function zc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lc(){return!0}function Dv(){return!1}function rn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lc:Dv,this.isPropagationStopped=Dv,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lc)},persist:function(){},isPersistent:lc}),e}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cm=rn(xo),ml=Fe({},xo,{view:0,detail:0}),MC=rn(ml),Lh,Mh,ia,Ed=Fe({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ia&&(ia&&t.type==="mousemove"?(Lh=t.screenX-ia.screenX,Mh=t.screenY-ia.screenY):Mh=Lh=0,ia=t),Lh)},movementY:function(t){return"movementY"in t?t.movementY:Mh}}),Lv=rn(Ed),VC=Fe({},Ed,{dataTransfer:0}),jC=rn(VC),FC=Fe({},ml,{relatedTarget:0}),Vh=rn(FC),UC=Fe({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),zC=rn(UC),BC=Fe({},xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$C=rn(BC),HC=Fe({},xo,{data:0}),Mv=rn(HC),WC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KC[t])?!!e[t]:!1}function Rm(){return GC}var QC=Fe({},ml,{key:function(t){if(t.key){var e=WC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rm,charCode:function(t){return t.type==="keypress"?zc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YC=rn(QC),XC=Fe({},Ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vv=rn(XC),JC=Fe({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rm}),ZC=rn(JC),eR=Fe({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),tR=rn(eR),nR=Fe({},Ed,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rR=rn(nR),iR=[9,13,27,32],Am=Er&&"CompositionEvent"in window,Ia=null;Er&&"documentMode"in document&&(Ia=document.documentMode);var sR=Er&&"TextEvent"in window&&!Ia,JE=Er&&(!Am||Ia&&8<Ia&&11>=Ia),jv=" ",Fv=!1;function ZE(t,e){switch(t){case"keyup":return iR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ex(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ns=!1;function oR(t,e){switch(t){case"compositionend":return ex(e);case"keypress":return e.which!==32?null:(Fv=!0,jv);case"textInput":return t=e.data,t===jv&&Fv?null:t;default:return null}}function aR(t,e){if(Ns)return t==="compositionend"||!Am&&ZE(t,e)?(t=XE(),Uc=km=Qr=null,Ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JE&&e.locale!=="ko"?null:e.data;default:return null}}var lR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lR[t.type]:e==="textarea"}function tx(t,e,n,r){NE(r),e=vu(e,"onChange"),0<e.length&&(n=new Cm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ba=null,Ha=null;function cR(t){hx(t,0)}function xd(t){var e=Ls(t);if(IE(e))return t}function uR(t,e){if(t==="change")return e}var nx=!1;if(Er){var jh;if(Er){var Fh="oninput"in document;if(!Fh){var zv=document.createElement("div");zv.setAttribute("oninput","return;"),Fh=typeof zv.oninput=="function"}jh=Fh}else jh=!1;nx=jh&&(!document.documentMode||9<document.documentMode)}function Bv(){ba&&(ba.detachEvent("onpropertychange",rx),Ha=ba=null)}function rx(t){if(t.propertyName==="value"&&xd(Ha)){var e=[];tx(e,Ha,t,xm(t)),ME(cR,e)}}function dR(t,e,n){t==="focusin"?(Bv(),ba=e,Ha=n,ba.attachEvent("onpropertychange",rx)):t==="focusout"&&Bv()}function hR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xd(Ha)}function fR(t,e){if(t==="click")return xd(e)}function pR(t,e){if(t==="input"||t==="change")return xd(e)}function mR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:mR;function Wa(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Nf.call(e,i)||!Cn(t[i],e[i]))return!1}return!0}function $v(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hv(t,e){var n=$v(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$v(n)}}function ix(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ix(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sx(){for(var t=window,e=du();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=du(t.document)}return e}function Pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gR(t){var e=sx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ix(n.ownerDocument.documentElement,n)){if(r!==null&&Pm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Hv(n,s);var o=Hv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yR=Er&&"documentMode"in document&&11>=document.documentMode,Os=null,Xf=null,ka=null,Jf=!1;function Wv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jf||Os==null||Os!==du(r)||(r=Os,"selectionStart"in r&&Pm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ka&&Wa(ka,r)||(ka=r,r=vu(Xf,"onSelect"),0<r.length&&(e=new Cm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Os)))}function cc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ds={animationend:cc("Animation","AnimationEnd"),animationiteration:cc("Animation","AnimationIteration"),animationstart:cc("Animation","AnimationStart"),transitionend:cc("Transition","TransitionEnd")},Uh={},ox={};Er&&(ox=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Td(t){if(Uh[t])return Uh[t];if(!Ds[t])return t;var e=Ds[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ox)return Uh[t]=e[n];return t}var ax=Td("animationend"),lx=Td("animationiteration"),cx=Td("animationstart"),ux=Td("transitionend"),dx=new Map,qv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(t,e){dx.set(t,e),as(e,[t])}for(var zh=0;zh<qv.length;zh++){var Bh=qv[zh],vR=Bh.toLowerCase(),wR=Bh[0].toUpperCase()+Bh.slice(1);Ei(vR,"on"+wR)}Ei(ax,"onAnimationEnd");Ei(lx,"onAnimationIteration");Ei(cx,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(ux,"onTransitionEnd");ro("onMouseEnter",["mouseout","mouseover"]);ro("onMouseLeave",["mouseout","mouseover"]);ro("onPointerEnter",["pointerout","pointerover"]);ro("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_R=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function Kv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vC(r,e,void 0,t),t.currentTarget=null}function hx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Kv(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Kv(i,a,u),s=c}}}if(fu)throw t=Kf,fu=!1,Kf=null,t}function Ae(t,e){var n=e[rp];n===void 0&&(n=e[rp]=new Set);var r=t+"__bubble";n.has(r)||(fx(e,t,2,!1),n.add(r))}function $h(t,e,n){var r=0;e&&(r|=4),fx(n,t,r,e)}var uc="_reactListening"+Math.random().toString(36).slice(2);function qa(t){if(!t[uc]){t[uc]=!0,_E.forEach(function(n){n!=="selectionchange"&&(_R.has(n)||$h(n,!1,t),$h(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uc]||(e[uc]=!0,$h("selectionchange",!1,e))}}function fx(t,e,n,r){switch(YE(e)){case 1:var i=DC;break;case 4:i=LC;break;default:i=bm}n=i.bind(null,e,n,t),i=void 0,!qf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Vi(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ME(function(){var u=s,d=xm(n),f=[];e:{var p=dx.get(t);if(p!==void 0){var _=Cm,I=t;switch(t){case"keypress":if(zc(n)===0)break e;case"keydown":case"keyup":_=YC;break;case"focusin":I="focus",_=Vh;break;case"focusout":I="blur",_=Vh;break;case"beforeblur":case"afterblur":_=Vh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Lv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=jC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=ZC;break;case ax:case lx:case cx:_=zC;break;case ux:_=tR;break;case"scroll":_=MC;break;case"wheel":_=rR;break;case"copy":case"cut":case"paste":_=$C;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Vv}var w=(e&4)!==0,R=!w&&t==="scroll",E=w?p!==null?p+"Capture":null:p;w=[];for(var y=u,S;y!==null;){S=y;var O=S.stateNode;if(S.tag===5&&O!==null&&(S=O,E!==null&&(O=Ua(y,E),O!=null&&w.push(Ka(y,O,S)))),R)break;y=y.return}0<w.length&&(p=new _(p,I,null,n,d),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",p&&n!==Hf&&(I=n.relatedTarget||n.fromElement)&&(Vi(I)||I[xr]))break e;if((_||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,_?(I=n.relatedTarget||n.toElement,_=u,I=I?Vi(I):null,I!==null&&(R=ls(I),I!==R||I.tag!==5&&I.tag!==6)&&(I=null)):(_=null,I=u),_!==I)){if(w=Lv,O="onMouseLeave",E="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=Vv,O="onPointerLeave",E="onPointerEnter",y="pointer"),R=_==null?p:Ls(_),S=I==null?p:Ls(I),p=new w(O,y+"leave",_,n,d),p.target=R,p.relatedTarget=S,O=null,Vi(d)===u&&(w=new w(E,y+"enter",I,n,d),w.target=S,w.relatedTarget=R,O=w),R=O,_&&I)t:{for(w=_,E=I,y=0,S=w;S;S=ws(S))y++;for(S=0,O=E;O;O=ws(O))S++;for(;0<y-S;)w=ws(w),y--;for(;0<S-y;)E=ws(E),S--;for(;y--;){if(w===E||E!==null&&w===E.alternate)break t;w=ws(w),E=ws(E)}w=null}else w=null;_!==null&&Gv(f,p,_,w,!1),I!==null&&R!==null&&Gv(f,R,I,w,!0)}}e:{if(p=u?Ls(u):window,_=p.nodeName&&p.nodeName.toLowerCase(),_==="select"||_==="input"&&p.type==="file")var D=uR;else if(Uv(p))if(nx)D=pR;else{D=hR;var V=dR}else(_=p.nodeName)&&_.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=fR);if(D&&(D=D(t,u))){tx(f,D,n,d);break e}V&&V(t,p,u),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&Ff(p,"number",p.value)}switch(V=u?Ls(u):window,t){case"focusin":(Uv(V)||V.contentEditable==="true")&&(Os=V,Xf=u,ka=null);break;case"focusout":ka=Xf=Os=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,Wv(f,n,d);break;case"selectionchange":if(yR)break;case"keydown":case"keyup":Wv(f,n,d)}var x;if(Am)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ns?ZE(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(JE&&n.locale!=="ko"&&(Ns||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ns&&(x=XE()):(Qr=d,km="value"in Qr?Qr.value:Qr.textContent,Ns=!0)),V=vu(u,v),0<V.length&&(v=new Mv(v,t,null,n,d),f.push({event:v,listeners:V}),x?v.data=x:(x=ex(n),x!==null&&(v.data=x)))),(x=sR?oR(t,n):aR(t,n))&&(u=vu(u,"onBeforeInput"),0<u.length&&(d=new Mv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=x))}hx(f,e)})}function Ka(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ua(t,n),s!=null&&r.unshift(Ka(t,s,i)),s=Ua(t,e),s!=null&&r.push(Ka(t,s,i))),t=t.return}return r}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=Ua(n,s),c!=null&&o.unshift(Ka(n,c,a))):i||(c=Ua(n,s),c!=null&&o.push(Ka(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ER=/\r\n?/g,xR=/\u0000|\uFFFD/g;function Qv(t){return(typeof t=="string"?t:""+t).replace(ER,`
`).replace(xR,"")}function dc(t,e,n){if(e=Qv(e),Qv(t)!==e&&n)throw Error(z(425))}function wu(){}var Zf=null,ep=null;function tp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var np=typeof setTimeout=="function"?setTimeout:void 0,TR=typeof clearTimeout=="function"?clearTimeout:void 0,Yv=typeof Promise=="function"?Promise:void 0,SR=typeof queueMicrotask=="function"?queueMicrotask:typeof Yv<"u"?function(t){return Yv.resolve(null).then(t).catch(IR)}:np;function IR(t){setTimeout(function(){throw t})}function Wh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$a(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$a(e)}function ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var To=Math.random().toString(36).slice(2),Mn="__reactFiber$"+To,Ga="__reactProps$"+To,xr="__reactContainer$"+To,rp="__reactEvents$"+To,bR="__reactListeners$"+To,kR="__reactHandles$"+To;function Vi(t){var e=t[Mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xr]||n[Mn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xv(t);t!==null;){if(n=t[Mn])return n;t=Xv(t)}return e}t=n,n=t.parentNode}return null}function gl(t){return t=t[Mn]||t[xr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Sd(t){return t[Ga]||null}var ip=[],Ms=-1;function xi(t){return{current:t}}function Oe(t){0>Ms||(t.current=ip[Ms],ip[Ms]=null,Ms--)}function Ce(t,e){Ms++,ip[Ms]=t.current,t.current=e}var di={},At=xi(di),$t=xi(!1),qi=di;function io(t,e){var n=t.type.contextTypes;if(!n)return di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(t){return t=t.childContextTypes,t!=null}function _u(){Oe($t),Oe(At)}function Jv(t,e,n){if(At.current!==di)throw Error(z(168));Ce(At,e),Ce($t,n)}function px(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,dC(t)||"Unknown",i));return Fe({},n,r)}function Eu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,qi=At.current,Ce(At,t),Ce($t,$t.current),!0}function Zv(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=px(t,e,qi),r.__reactInternalMemoizedMergedChildContext=t,Oe($t),Oe(At),Ce(At,t)):Oe($t),Ce($t,n)}var cr=null,Id=!1,qh=!1;function mx(t){cr===null?cr=[t]:cr.push(t)}function CR(t){Id=!0,mx(t)}function Ti(){if(!qh&&cr!==null){qh=!0;var t=0,e=Se;try{var n=cr;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cr=null,Id=!1}catch(i){throw cr!==null&&(cr=cr.slice(t+1)),UE(Tm,Ti),i}finally{Se=e,qh=!1}}return null}var Vs=[],js=0,xu=null,Tu=0,sn=[],on=0,Ki=null,fr=1,pr="";function Di(t,e){Vs[js++]=Tu,Vs[js++]=xu,xu=t,Tu=e}function gx(t,e,n){sn[on++]=fr,sn[on++]=pr,sn[on++]=Ki,Ki=t;var r=fr;t=pr;var i=32-Sn(r)-1;r&=~(1<<i),n+=1;var s=32-Sn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,fr=1<<32-Sn(e)+i|n<<i|r,pr=s+t}else fr=1<<s|n<<i|r,pr=t}function Nm(t){t.return!==null&&(Di(t,1),gx(t,1,0))}function Om(t){for(;t===xu;)xu=Vs[--js],Vs[js]=null,Tu=Vs[--js],Vs[js]=null;for(;t===Ki;)Ki=sn[--on],sn[on]=null,pr=sn[--on],sn[on]=null,fr=sn[--on],sn[on]=null}var Zt=null,Jt=null,De=!1,_n=null;function yx(t,e){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ew(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Jt=ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ki!==null?{id:fr,overflow:pr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Jt=null,!0):!1;default:return!1}}function sp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function op(t){if(De){var e=Jt;if(e){var n=e;if(!ew(t,e)){if(sp(t))throw Error(z(418));e=ti(n.nextSibling);var r=Zt;e&&ew(t,e)?yx(r,n):(t.flags=t.flags&-4097|2,De=!1,Zt=t)}}else{if(sp(t))throw Error(z(418));t.flags=t.flags&-4097|2,De=!1,Zt=t}}}function tw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function hc(t){if(t!==Zt)return!1;if(!De)return tw(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tp(t.type,t.memoizedProps)),e&&(e=Jt)){if(sp(t))throw vx(),Error(z(418));for(;e;)yx(t,e),e=ti(e.nextSibling)}if(tw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=Zt?ti(t.stateNode.nextSibling):null;return!0}function vx(){for(var t=Jt;t;)t=ti(t.nextSibling)}function so(){Jt=Zt=null,De=!1}function Dm(t){_n===null?_n=[t]:_n.push(t)}var RR=Or.ReactCurrentBatchConfig;function sa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function fc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nw(t){var e=t._init;return e(t._payload)}function wx(t){function e(E,y){if(t){var S=E.deletions;S===null?(E.deletions=[y],E.flags|=16):S.push(y)}}function n(E,y){if(!t)return null;for(;y!==null;)e(E,y),y=y.sibling;return null}function r(E,y){for(E=new Map;y!==null;)y.key!==null?E.set(y.key,y):E.set(y.index,y),y=y.sibling;return E}function i(E,y){return E=si(E,y),E.index=0,E.sibling=null,E}function s(E,y,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<y?(E.flags|=2,y):S):(E.flags|=2,y)):(E.flags|=1048576,y)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,y,S,O){return y===null||y.tag!==6?(y=Zh(S,E.mode,O),y.return=E,y):(y=i(y,S),y.return=E,y)}function c(E,y,S,O){var D=S.type;return D===Ps?d(E,y,S.props.children,O,S.key):y!==null&&(y.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Hr&&nw(D)===y.type)?(O=i(y,S.props),O.ref=sa(E,y,S),O.return=E,O):(O=Gc(S.type,S.key,S.props,null,E.mode,O),O.ref=sa(E,y,S),O.return=E,O)}function u(E,y,S,O){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=ef(S,E.mode,O),y.return=E,y):(y=i(y,S.children||[]),y.return=E,y)}function d(E,y,S,O,D){return y===null||y.tag!==7?(y=$i(S,E.mode,O,D),y.return=E,y):(y=i(y,S),y.return=E,y)}function f(E,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Zh(""+y,E.mode,S),y.return=E,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case nc:return S=Gc(y.type,y.key,y.props,null,E.mode,S),S.ref=sa(E,null,y),S.return=E,S;case As:return y=ef(y,E.mode,S),y.return=E,y;case Hr:var O=y._init;return f(E,O(y._payload),S)}if(ha(y)||ea(y))return y=$i(y,E.mode,S,null),y.return=E,y;fc(E,y)}return null}function p(E,y,S,O){var D=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:a(E,y,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case nc:return S.key===D?c(E,y,S,O):null;case As:return S.key===D?u(E,y,S,O):null;case Hr:return D=S._init,p(E,y,D(S._payload),O)}if(ha(S)||ea(S))return D!==null?null:d(E,y,S,O,null);fc(E,S)}return null}function _(E,y,S,O,D){if(typeof O=="string"&&O!==""||typeof O=="number")return E=E.get(S)||null,a(y,E,""+O,D);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case nc:return E=E.get(O.key===null?S:O.key)||null,c(y,E,O,D);case As:return E=E.get(O.key===null?S:O.key)||null,u(y,E,O,D);case Hr:var V=O._init;return _(E,y,S,V(O._payload),D)}if(ha(O)||ea(O))return E=E.get(S)||null,d(y,E,O,D,null);fc(y,O)}return null}function I(E,y,S,O){for(var D=null,V=null,x=y,v=y=0,b=null;x!==null&&v<S.length;v++){x.index>v?(b=x,x=null):b=x.sibling;var C=p(E,x,S[v],O);if(C===null){x===null&&(x=b);break}t&&x&&C.alternate===null&&e(E,x),y=s(C,y,v),V===null?D=C:V.sibling=C,V=C,x=b}if(v===S.length)return n(E,x),De&&Di(E,v),D;if(x===null){for(;v<S.length;v++)x=f(E,S[v],O),x!==null&&(y=s(x,y,v),V===null?D=x:V.sibling=x,V=x);return De&&Di(E,v),D}for(x=r(E,x);v<S.length;v++)b=_(x,E,v,S[v],O),b!==null&&(t&&b.alternate!==null&&x.delete(b.key===null?v:b.key),y=s(b,y,v),V===null?D=b:V.sibling=b,V=b);return t&&x.forEach(function(P){return e(E,P)}),De&&Di(E,v),D}function w(E,y,S,O){var D=ea(S);if(typeof D!="function")throw Error(z(150));if(S=D.call(S),S==null)throw Error(z(151));for(var V=D=null,x=y,v=y=0,b=null,C=S.next();x!==null&&!C.done;v++,C=S.next()){x.index>v?(b=x,x=null):b=x.sibling;var P=p(E,x,C.value,O);if(P===null){x===null&&(x=b);break}t&&x&&P.alternate===null&&e(E,x),y=s(P,y,v),V===null?D=P:V.sibling=P,V=P,x=b}if(C.done)return n(E,x),De&&Di(E,v),D;if(x===null){for(;!C.done;v++,C=S.next())C=f(E,C.value,O),C!==null&&(y=s(C,y,v),V===null?D=C:V.sibling=C,V=C);return De&&Di(E,v),D}for(x=r(E,x);!C.done;v++,C=S.next())C=_(x,E,v,C.value,O),C!==null&&(t&&C.alternate!==null&&x.delete(C.key===null?v:C.key),y=s(C,y,v),V===null?D=C:V.sibling=C,V=C);return t&&x.forEach(function(N){return e(E,N)}),De&&Di(E,v),D}function R(E,y,S,O){if(typeof S=="object"&&S!==null&&S.type===Ps&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case nc:e:{for(var D=S.key,V=y;V!==null;){if(V.key===D){if(D=S.type,D===Ps){if(V.tag===7){n(E,V.sibling),y=i(V,S.props.children),y.return=E,E=y;break e}}else if(V.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Hr&&nw(D)===V.type){n(E,V.sibling),y=i(V,S.props),y.ref=sa(E,V,S),y.return=E,E=y;break e}n(E,V);break}else e(E,V);V=V.sibling}S.type===Ps?(y=$i(S.props.children,E.mode,O,S.key),y.return=E,E=y):(O=Gc(S.type,S.key,S.props,null,E.mode,O),O.ref=sa(E,y,S),O.return=E,E=O)}return o(E);case As:e:{for(V=S.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(E,y.sibling),y=i(y,S.children||[]),y.return=E,E=y;break e}else{n(E,y);break}else e(E,y);y=y.sibling}y=ef(S,E.mode,O),y.return=E,E=y}return o(E);case Hr:return V=S._init,R(E,y,V(S._payload),O)}if(ha(S))return I(E,y,S,O);if(ea(S))return w(E,y,S,O);fc(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(E,y.sibling),y=i(y,S),y.return=E,E=y):(n(E,y),y=Zh(S,E.mode,O),y.return=E,E=y),o(E)):n(E,y)}return R}var oo=wx(!0),_x=wx(!1),Su=xi(null),Iu=null,Fs=null,Lm=null;function Mm(){Lm=Fs=Iu=null}function Vm(t){var e=Su.current;Oe(Su),t._currentValue=e}function ap(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qs(t,e){Iu=t,Lm=Fs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(Lm!==t)if(t={context:t,memoizedValue:e,next:null},Fs===null){if(Iu===null)throw Error(z(308));Fs=t,Iu.dependencies={lanes:0,firstContext:t}}else Fs=Fs.next=t;return e}var ji=null;function jm(t){ji===null?ji=[t]:ji.push(t)}function Ex(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,jm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Tr(t,r)}function Tr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wr=!1;function Fm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ni(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Tr(t,n)}return i=r.interleaved,i===null?(e.next=e,jm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Tr(t,n)}function Bc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sm(t,n)}}function rw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bu(t,e,n,r){var i=t.updateQueue;Wr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=u=c=null,a=s;do{var p=a.lane,_=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,w=a;switch(p=e,_=n,w.tag){case 1:if(I=w.payload,typeof I=="function"){f=I.call(_,f,p);break e}f=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=w.payload,p=typeof I=="function"?I.call(_,f,p):I,p==null)break e;f=Fe({},f,p);break e;case 2:Wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else _={eventTime:_,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=_,c=f):d=d.next=_,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qi|=o,t.lanes=o,t.memoizedState=f}}function iw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var yl={},Un=xi(yl),Qa=xi(yl),Ya=xi(yl);function Fi(t){if(t===yl)throw Error(z(174));return t}function Um(t,e){switch(Ce(Ya,e),Ce(Qa,t),Ce(Un,yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zf(e,t)}Oe(Un),Ce(Un,e)}function ao(){Oe(Un),Oe(Qa),Oe(Ya)}function Tx(t){Fi(Ya.current);var e=Fi(Un.current),n=zf(e,t.type);e!==n&&(Ce(Qa,t),Ce(Un,n))}function zm(t){Qa.current===t&&(Oe(Un),Oe(Qa))}var Ve=xi(0);function ku(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kh=[];function Bm(){for(var t=0;t<Kh.length;t++)Kh[t]._workInProgressVersionPrimary=null;Kh.length=0}var $c=Or.ReactCurrentDispatcher,Gh=Or.ReactCurrentBatchConfig,Gi=0,je=null,Ze=null,st=null,Cu=!1,Ca=!1,Xa=0,AR=0;function St(){throw Error(z(321))}function $m(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cn(t[n],e[n]))return!1;return!0}function Hm(t,e,n,r,i,s){if(Gi=s,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$c.current=t===null||t.memoizedState===null?DR:LR,t=n(r,i),Ca){s=0;do{if(Ca=!1,Xa=0,25<=s)throw Error(z(301));s+=1,st=Ze=null,e.updateQueue=null,$c.current=MR,t=n(r,i)}while(Ca)}if($c.current=Ru,e=Ze!==null&&Ze.next!==null,Gi=0,st=Ze=je=null,Cu=!1,e)throw Error(z(300));return t}function Wm(){var t=Xa!==0;return Xa=0,t}function Dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?je.memoizedState=st=t:st=st.next=t,st}function hn(){if(Ze===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=st===null?je.memoizedState:st.next;if(e!==null)st=e,Ze=t;else{if(t===null)throw Error(z(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},st===null?je.memoizedState=st=t:st=st.next=t}return st}function Ja(t,e){return typeof e=="function"?e(t):e}function Qh(t){var e=hn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var d=u.lane;if((Gi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,je.lanes|=d,Qi|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,Cn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,je.lanes|=s,Qi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yh(t){var e=hn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Cn(s,e.memoizedState)||(Bt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Sx(){}function Ix(t,e){var n=je,r=hn(),i=e(),s=!Cn(r.memoizedState,i);if(s&&(r.memoizedState=i,Bt=!0),r=r.queue,qm(Cx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,Za(9,kx.bind(null,n,r,i,e),void 0,null),ot===null)throw Error(z(349));Gi&30||bx(n,e,i)}return i}function bx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kx(t,e,n,r){e.value=n,e.getSnapshot=r,Rx(e)&&Ax(t)}function Cx(t,e,n){return n(function(){Rx(e)&&Ax(t)})}function Rx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cn(t,n)}catch{return!0}}function Ax(t){var e=Tr(t,1);e!==null&&In(e,t,1,-1)}function sw(t){var e=Dn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:t},e.queue=t,t=t.dispatch=OR.bind(null,je,t),[e.memoizedState,t]}function Za(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Px(){return hn().memoizedState}function Hc(t,e,n,r){var i=Dn();je.flags|=t,i.memoizedState=Za(1|e,n,void 0,r===void 0?null:r)}function bd(t,e,n,r){var i=hn();r=r===void 0?null:r;var s=void 0;if(Ze!==null){var o=Ze.memoizedState;if(s=o.destroy,r!==null&&$m(r,o.deps)){i.memoizedState=Za(e,n,s,r);return}}je.flags|=t,i.memoizedState=Za(1|e,n,s,r)}function ow(t,e){return Hc(8390656,8,t,e)}function qm(t,e){return bd(2048,8,t,e)}function Nx(t,e){return bd(4,2,t,e)}function Ox(t,e){return bd(4,4,t,e)}function Dx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Lx(t,e,n){return n=n!=null?n.concat([t]):null,bd(4,4,Dx.bind(null,e,t),n)}function Km(){}function Mx(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$m(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Vx(t,e){var n=hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$m(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jx(t,e,n){return Gi&21?(Cn(n,e)||(n=$E(),je.lanes|=n,Qi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function PR(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=Gh.transition;Gh.transition={};try{t(!1),e()}finally{Se=n,Gh.transition=r}}function Fx(){return hn().memoizedState}function NR(t,e,n){var r=ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ux(t))zx(e,n);else if(n=Ex(t,e,n,r),n!==null){var i=Lt();In(n,t,r,i),Bx(n,e,r)}}function OR(t,e,n){var r=ii(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ux(t))zx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Cn(a,o)){var c=e.interleaved;c===null?(i.next=i,jm(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Ex(t,e,i,r),n!==null&&(i=Lt(),In(n,t,r,i),Bx(n,e,r))}}function Ux(t){var e=t.alternate;return t===je||e!==null&&e===je}function zx(t,e){Ca=Cu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Bx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sm(t,n)}}var Ru={readContext:dn,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},DR={readContext:dn,useCallback:function(t,e){return Dn().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:ow,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hc(4194308,4,Dx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hc(4,2,t,e)},useMemo:function(t,e){var n=Dn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=NR.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=Dn();return t={current:t},e.memoizedState=t},useState:sw,useDebugValue:Km,useDeferredValue:function(t){return Dn().memoizedState=t},useTransition:function(){var t=sw(!1),e=t[0];return t=PR.bind(null,t[1]),Dn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,i=Dn();if(De){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),ot===null)throw Error(z(349));Gi&30||bx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ow(Cx.bind(null,r,s,t),[t]),r.flags|=2048,Za(9,kx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Dn(),e=ot.identifierPrefix;if(De){var n=pr,r=fr;n=(r&~(1<<32-Sn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=AR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LR={readContext:dn,useCallback:Mx,useContext:dn,useEffect:qm,useImperativeHandle:Lx,useInsertionEffect:Nx,useLayoutEffect:Ox,useMemo:Vx,useReducer:Qh,useRef:Px,useState:function(){return Qh(Ja)},useDebugValue:Km,useDeferredValue:function(t){var e=hn();return jx(e,Ze.memoizedState,t)},useTransition:function(){var t=Qh(Ja)[0],e=hn().memoizedState;return[t,e]},useMutableSource:Sx,useSyncExternalStore:Ix,useId:Fx,unstable_isNewReconciler:!1},MR={readContext:dn,useCallback:Mx,useContext:dn,useEffect:qm,useImperativeHandle:Lx,useInsertionEffect:Nx,useLayoutEffect:Ox,useMemo:Vx,useReducer:Yh,useRef:Px,useState:function(){return Yh(Ja)},useDebugValue:Km,useDeferredValue:function(t){var e=hn();return Ze===null?e.memoizedState=t:jx(e,Ze.memoizedState,t)},useTransition:function(){var t=Yh(Ja)[0],e=hn().memoizedState;return[t,e]},useMutableSource:Sx,useSyncExternalStore:Ix,useId:Fx,unstable_isNewReconciler:!1};function vn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function lp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kd={isMounted:function(t){return(t=t._reactInternals)?ls(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=ii(t),s=yr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ni(t,s,i),e!==null&&(In(e,t,i,r),Bc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=ii(t),s=yr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ni(t,s,i),e!==null&&(In(e,t,i,r),Bc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=ii(t),i=yr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ni(t,i,r),e!==null&&(In(e,t,r,n),Bc(e,t,r))}};function aw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Wa(n,r)||!Wa(i,s):!0}function $x(t,e,n){var r=!1,i=di,s=e.contextType;return typeof s=="object"&&s!==null?s=dn(s):(i=Ht(e)?qi:At.current,r=e.contextTypes,s=(r=r!=null)?io(t,i):di),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function lw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kd.enqueueReplaceState(e,e.state,null)}function cp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Fm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=dn(s):(s=Ht(e)?qi:At.current,i.context=io(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(lp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kd.enqueueReplaceState(i,i.state,null),bu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function lo(t,e){try{var n="",r=e;do n+=uC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Xh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function up(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var VR=typeof WeakMap=="function"?WeakMap:Map;function Hx(t,e,n){n=yr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pu||(Pu=!0,_p=r),up(t,e)},n}function Wx(t,e,n){n=yr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){up(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){up(t,e),typeof r!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new VR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=XR.bind(null,t,e,n),e.then(t,t))}function uw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yr(-1,1),e.tag=2,ni(n,e,1))),n.lanes|=1),t)}var jR=Or.ReactCurrentOwner,Bt=!1;function Dt(t,e,n,r){e.child=t===null?_x(e,null,n,r):oo(e,t.child,n,r)}function hw(t,e,n,r,i){n=n.render;var s=e.ref;return qs(e,i),r=Hm(t,e,n,r,s,i),n=Wm(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sr(t,e,i)):(De&&n&&Nm(e),e.flags|=1,Dt(t,e,r,i),e.child)}function fw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!tg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,qx(t,e,s,r,i)):(t=Gc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wa,n(o,r)&&t.ref===e.ref)return Sr(t,e,i)}return e.flags|=1,t=si(s,r),t.ref=e.ref,t.return=e,e.child=t}function qx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Wa(s,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,Sr(t,e,i)}return dp(t,e,n,r,i)}function Kx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(zs,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(zs,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(zs,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ce(zs,Yt),Yt|=r;return Dt(t,e,i,n),e.child}function Gx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dp(t,e,n,r,i){var s=Ht(n)?qi:At.current;return s=io(e,s),qs(e,i),n=Hm(t,e,n,r,s,i),r=Wm(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sr(t,e,i)):(De&&r&&Nm(e),e.flags|=1,Dt(t,e,n,i),e.child)}function pw(t,e,n,r,i){if(Ht(n)){var s=!0;Eu(e)}else s=!1;if(qs(e,i),e.stateNode===null)Wc(t,e),$x(e,n,r),cp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=dn(u):(u=Ht(n)?qi:At.current,u=io(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&lw(e,o,r,u),Wr=!1;var p=e.memoizedState;o.state=p,bu(e,r,o,i),c=e.memoizedState,a!==r||p!==c||$t.current||Wr?(typeof d=="function"&&(lp(e,n,d,r),c=e.memoizedState),(a=Wr||aw(e,n,a,r,p,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:vn(e.type,a),o.props=u,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=dn(c):(c=Ht(n)?qi:At.current,c=io(e,c));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==c)&&lw(e,o,r,c),Wr=!1,p=e.memoizedState,o.state=p,bu(e,r,o,i);var I=e.memoizedState;a!==f||p!==I||$t.current||Wr?(typeof _=="function"&&(lp(e,n,_,r),I=e.memoizedState),(u=Wr||aw(e,n,u,r,p,I,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return hp(t,e,n,r,s,i)}function hp(t,e,n,r,i,s){Gx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Zv(e,n,!1),Sr(t,e,s);r=e.stateNode,jR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=oo(e,t.child,null,s),e.child=oo(e,null,a,s)):Dt(t,e,a,s),e.memoizedState=r.state,i&&Zv(e,n,!0),e.child}function Qx(t){var e=t.stateNode;e.pendingContext?Jv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jv(t,e.context,!1),Um(t,e.containerInfo)}function mw(t,e,n,r,i){return so(),Dm(i),e.flags|=256,Dt(t,e,n,r),e.child}var fp={dehydrated:null,treeContext:null,retryLane:0};function pp(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yx(t,e,n){var r=e.pendingProps,i=Ve.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce(Ve,i&1),t===null)return op(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ad(o,r,0,null),t=$i(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=pp(n),e.memoizedState=fp,t):Gm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return FR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=si(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=si(a,s):(s=$i(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?pp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=fp,r}return s=t.child,t=s.sibling,r=si(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gm(t,e){return e=Ad({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pc(t,e,n,r){return r!==null&&Dm(r),oo(e,t.child,null,n),t=Gm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Xh(Error(z(422))),pc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ad({mode:"visible",children:r.children},i,0,null),s=$i(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&oo(e,t.child,null,o),e.child.memoizedState=pp(o),e.memoizedState=fp,s);if(!(e.mode&1))return pc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=Xh(s,r,void 0),pc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Bt||a){if(r=ot,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Tr(t,i),In(r,t,i,-1))}return eg(),r=Xh(Error(z(421))),pc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=JR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Jt=ti(i.nextSibling),Zt=e,De=!0,_n=null,t!==null&&(sn[on++]=fr,sn[on++]=pr,sn[on++]=Ki,fr=t.id,pr=t.overflow,Ki=e),e=Gm(e,r.children),e.flags|=4096,e)}function gw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ap(t.return,e,n)}function Jh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Xx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Dt(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gw(t,n,e);else if(t.tag===19)gw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ku(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ku(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jh(e,!0,n,null,s);break;case"together":Jh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function UR(t,e,n){switch(e.tag){case 3:Qx(e),so();break;case 5:Tx(e);break;case 1:Ht(e.type)&&Eu(e);break;case 4:Um(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(Su,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?Yx(t,e,n):(Ce(Ve,Ve.current&1),t=Sr(t,e,n),t!==null?t.sibling:null);Ce(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Xx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,Kx(t,e,n)}return Sr(t,e,n)}var Jx,mp,Zx,eT;Jx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mp=function(){};Zx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Fi(Un.current);var s=null;switch(n){case"input":i=Vf(t,i),r=Vf(t,r),s=[];break;case"select":i=Fe({},i,{value:void 0}),r=Fe({},r,{value:void 0}),s=[];break;case"textarea":i=Uf(t,i),r=Uf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wu)}Bf(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ja.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ja.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ae("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};eT=function(t,e,n,r){n!==r&&(e.flags|=4)};function oa(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zR(t,e,n){var r=e.pendingProps;switch(Om(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return Ht(e.type)&&_u(),It(e),null;case 3:return r=e.stateNode,ao(),Oe($t),Oe(At),Bm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_n!==null&&(Tp(_n),_n=null))),mp(t,e),It(e),null;case 5:zm(e);var i=Fi(Ya.current);if(n=e.type,t!==null&&e.stateNode!=null)Zx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return It(e),null}if(t=Fi(Un.current),hc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Mn]=e,r[Ga]=s,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(i=0;i<pa.length;i++)Ae(pa[i],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":Iv(r,s),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ae("invalid",r);break;case"textarea":kv(r,s),Ae("invalid",r)}Bf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&dc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&dc(r.textContent,a,t),i=["children",""+a]):ja.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":rc(r),bv(r,s,!0);break;case"textarea":rc(r),Cv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=CE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Mn]=e,t[Ga]=r,Jx(t,e,!1,!1),e.stateNode=t;e:{switch(o=$f(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),i=r;break;case"iframe":case"object":case"embed":Ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<pa.length;i++)Ae(pa[i],t);i=r;break;case"source":Ae("error",t),i=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=r;break;case"details":Ae("toggle",t),i=r;break;case"input":Iv(t,r),i=Vf(t,r),Ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fe({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":kv(t,r),i=Uf(t,r),Ae("invalid",t);break;default:i=r}Bf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?PE(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&RE(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Fa(t,c):typeof c=="number"&&Fa(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ja.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ae("scroll",t):c!=null&&vm(t,s,c,o))}switch(n){case"input":rc(t),bv(t,r,!1);break;case"textarea":rc(t),Cv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Bs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Bs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return It(e),null;case 6:if(t&&e.stateNode!=null)eT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Fi(Ya.current),Fi(Un.current),hc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mn]=e,(s=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:dc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mn]=e,e.stateNode=r}return It(e),null;case 13:if(Oe(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Jt!==null&&e.mode&1&&!(e.flags&128))vx(),so(),e.flags|=98560,s=!1;else if(s=hc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Mn]=e}else so(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),s=!1}else _n!==null&&(Tp(_n),_n=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?tt===0&&(tt=3):eg())),e.updateQueue!==null&&(e.flags|=4),It(e),null);case 4:return ao(),mp(t,e),t===null&&qa(e.stateNode.containerInfo),It(e),null;case 10:return Vm(e.type._context),It(e),null;case 17:return Ht(e.type)&&_u(),It(e),null;case 19:if(Oe(Ve),s=e.memoizedState,s===null)return It(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)oa(s,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ku(t),o!==null){for(e.flags|=128,oa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Ve,Ve.current&1|2),e.child}t=t.sibling}s.tail!==null&&qe()>co&&(e.flags|=128,r=!0,oa(s,!1),e.lanes=4194304)}else{if(!r)if(t=ku(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),oa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return It(e),null}else 2*qe()-s.renderingStartTime>co&&n!==1073741824&&(e.flags|=128,r=!0,oa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qe(),e.sibling=null,n=Ve.current,Ce(Ve,r?n&1|2:n&1),e):(It(e),null);case 22:case 23:return Zm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function BR(t,e){switch(Om(e),e.tag){case 1:return Ht(e.type)&&_u(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ao(),Oe($t),Oe(At),Bm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zm(e),null;case 13:if(Oe(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));so()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(Ve),null;case 4:return ao(),null;case 10:return Vm(e.type._context),null;case 22:case 23:return Zm(),null;case 24:return null;default:return null}}var mc=!1,Ct=!1,$R=typeof WeakSet=="function"?WeakSet:Set,G=null;function Us(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function gp(t,e,n){try{n()}catch(r){Be(t,e,r)}}var yw=!1;function HR(t,e){if(Zf=gu,t=sx(),Pm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var _;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(_=f.firstChild)!==null;)p=f,f=_;for(;;){if(f===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++d===r&&(c=o),(_=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=_}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ep={focusedElem:t,selectionRange:n},gu=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var w=I.memoizedProps,R=I.memoizedState,E=e.stateNode,y=E.getSnapshotBeforeUpdate(e.elementType===e.type?w:vn(e.type,w),R);E.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(O){Be(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return I=yw,yw=!1,I}function Ra(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&gp(e,n,s)}i=i.next}while(i!==r)}}function Cd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function yp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tT(t){var e=t.alternate;e!==null&&(t.alternate=null,tT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mn],delete e[Ga],delete e[rp],delete e[bR],delete e[kR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nT(t){return t.tag===5||t.tag===3||t.tag===4}function vw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wu));else if(r!==4&&(t=t.child,t!==null))for(vp(t,e,n),t=t.sibling;t!==null;)vp(t,e,n),t=t.sibling}function wp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wp(t,e,n),t=t.sibling;t!==null;)wp(t,e,n),t=t.sibling}var ut=null,wn=!1;function Fr(t,e,n){for(n=n.child;n!==null;)rT(t,e,n),n=n.sibling}function rT(t,e,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(_d,n)}catch{}switch(n.tag){case 5:Ct||Us(n,e);case 6:var r=ut,i=wn;ut=null,Fr(t,e,n),ut=r,wn=i,ut!==null&&(wn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(wn?(t=ut,n=n.stateNode,t.nodeType===8?Wh(t.parentNode,n):t.nodeType===1&&Wh(t,n),$a(t)):Wh(ut,n.stateNode));break;case 4:r=ut,i=wn,ut=n.stateNode.containerInfo,wn=!0,Fr(t,e,n),ut=r,wn=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gp(n,e,o),i=i.next}while(i!==r)}Fr(t,e,n);break;case 1:if(!Ct&&(Us(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Be(n,e,a)}Fr(t,e,n);break;case 21:Fr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Fr(t,e,n),Ct=r):Fr(t,e,n);break;default:Fr(t,e,n)}}function ww(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $R),e.forEach(function(r){var i=ZR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,wn=!1;break e;case 3:ut=a.stateNode.containerInfo,wn=!0;break e;case 4:ut=a.stateNode.containerInfo,wn=!0;break e}a=a.return}if(ut===null)throw Error(z(160));rT(s,o,i),ut=null,wn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Be(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iT(e,t),e=e.sibling}function iT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gn(e,t),On(t),r&4){try{Ra(3,t,t.return),Cd(3,t)}catch(w){Be(t,t.return,w)}try{Ra(5,t,t.return)}catch(w){Be(t,t.return,w)}}break;case 1:gn(e,t),On(t),r&512&&n!==null&&Us(n,n.return);break;case 5:if(gn(e,t),On(t),r&512&&n!==null&&Us(n,n.return),t.flags&32){var i=t.stateNode;try{Fa(i,"")}catch(w){Be(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&bE(i,s),$f(a,o);var u=$f(a,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?PE(i,f):d==="dangerouslySetInnerHTML"?RE(i,f):d==="children"?Fa(i,f):vm(i,d,f,u)}switch(a){case"input":jf(i,s);break;case"textarea":kE(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Bs(i,!!s.multiple,_,!1):p!==!!s.multiple&&(s.defaultValue!=null?Bs(i,!!s.multiple,s.defaultValue,!0):Bs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ga]=s}catch(w){Be(t,t.return,w)}}break;case 6:if(gn(e,t),On(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Be(t,t.return,w)}}break;case 3:if(gn(e,t),On(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$a(e.containerInfo)}catch(w){Be(t,t.return,w)}break;case 4:gn(e,t),On(t);break;case 13:gn(e,t),On(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Xm=qe())),r&4&&ww(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(u=Ct)||d,gn(e,t),Ct=u):gn(e,t),On(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(G=t,d=t.child;d!==null;){for(f=G=d;G!==null;){switch(p=G,_=p.child,p.tag){case 0:case 11:case 14:case 15:Ra(4,p,p.return);break;case 1:Us(p,p.return);var I=p.stateNode;if(typeof I.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(w){Be(r,n,w)}}break;case 5:Us(p,p.return);break;case 22:if(p.memoizedState!==null){Ew(f);continue}}_!==null?(_.return=p,G=_):Ew(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=AE("display",o))}catch(w){Be(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Be(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gn(e,t),On(t),r&4&&ww(t);break;case 21:break;default:gn(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nT(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fa(i,""),r.flags&=-33);var s=vw(t);wp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=vw(t);vp(t,a,o);break;default:throw Error(z(161))}}catch(c){Be(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WR(t,e,n){G=t,sT(t)}function sT(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||mc;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Ct;a=mc;var u=Ct;if(mc=o,(Ct=c)&&!u)for(G=i;G!==null;)o=G,c=o.child,o.tag===22&&o.memoizedState!==null?xw(i):c!==null?(c.return=o,G=c):xw(i);for(;s!==null;)G=s,sT(s),s=s.sibling;G=i,mc=a,Ct=u}_w(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):_w(t)}}function _w(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||Cd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&iw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&$a(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ct||e.flags&512&&yp(e)}catch(p){Be(e,e.return,p)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function Ew(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function xw(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cd(4,e)}catch(c){Be(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Be(e,i,c)}}var s=e.return;try{yp(e)}catch(c){Be(e,s,c)}break;case 5:var o=e.return;try{yp(e)}catch(c){Be(e,o,c)}}}catch(c){Be(e,e.return,c)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var qR=Math.ceil,Au=Or.ReactCurrentDispatcher,Qm=Or.ReactCurrentOwner,un=Or.ReactCurrentBatchConfig,we=0,ot=null,Ye=null,mt=0,Yt=0,zs=xi(0),tt=0,el=null,Qi=0,Rd=0,Ym=0,Aa=null,Ut=null,Xm=0,co=1/0,lr=null,Pu=!1,_p=null,ri=null,gc=!1,Yr=null,Nu=0,Pa=0,Ep=null,qc=-1,Kc=0;function Lt(){return we&6?qe():qc!==-1?qc:qc=qe()}function ii(t){return t.mode&1?we&2&&mt!==0?mt&-mt:RR.transition!==null?(Kc===0&&(Kc=$E()),Kc):(t=Se,t!==0||(t=window.event,t=t===void 0?16:YE(t.type)),t):1}function In(t,e,n,r){if(50<Pa)throw Pa=0,Ep=null,Error(z(185));pl(t,n,r),(!(we&2)||t!==ot)&&(t===ot&&(!(we&2)&&(Rd|=n),tt===4&&Kr(t,mt)),Wt(t,r),n===1&&we===0&&!(e.mode&1)&&(co=qe()+500,Id&&Ti()))}function Wt(t,e){var n=t.callbackNode;RC(t,e);var r=mu(t,t===ot?mt:0);if(r===0)n!==null&&Pv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pv(n),e===1)t.tag===0?CR(Tw.bind(null,t)):mx(Tw.bind(null,t)),SR(function(){!(we&6)&&Ti()}),n=null;else{switch(HE(r)){case 1:n=Tm;break;case 4:n=zE;break;case 16:n=pu;break;case 536870912:n=BE;break;default:n=pu}n=fT(n,oT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oT(t,e){if(qc=-1,Kc=0,we&6)throw Error(z(327));var n=t.callbackNode;if(Ks()&&t.callbackNode!==n)return null;var r=mu(t,t===ot?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ou(t,r);else{e=r;var i=we;we|=2;var s=lT();(ot!==t||mt!==e)&&(lr=null,co=qe()+500,Bi(t,e));do try{QR();break}catch(a){aT(t,a)}while(!0);Mm(),Au.current=s,we=i,Ye!==null?e=0:(ot=null,mt=0,e=tt)}if(e!==0){if(e===2&&(i=Gf(t),i!==0&&(r=i,e=xp(t,i))),e===1)throw n=el,Bi(t,0),Kr(t,r),Wt(t,qe()),n;if(e===6)Kr(t,r);else{if(i=t.current.alternate,!(r&30)&&!KR(i)&&(e=Ou(t,r),e===2&&(s=Gf(t),s!==0&&(r=s,e=xp(t,s))),e===1))throw n=el,Bi(t,0),Kr(t,r),Wt(t,qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Li(t,Ut,lr);break;case 3:if(Kr(t,r),(r&130023424)===r&&(e=Xm+500-qe(),10<e)){if(mu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Lt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=np(Li.bind(null,t,Ut,lr),e);break}Li(t,Ut,lr);break;case 4:if(Kr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Sn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qR(r/1960))-r,10<r){t.timeoutHandle=np(Li.bind(null,t,Ut,lr),r);break}Li(t,Ut,lr);break;case 5:Li(t,Ut,lr);break;default:throw Error(z(329))}}}return Wt(t,qe()),t.callbackNode===n?oT.bind(null,t):null}function xp(t,e){var n=Aa;return t.current.memoizedState.isDehydrated&&(Bi(t,e).flags|=256),t=Ou(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&Tp(e)),t}function Tp(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function KR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Cn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kr(t,e){for(e&=~Ym,e&=~Rd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sn(e),r=1<<n;t[n]=-1,e&=~r}}function Tw(t){if(we&6)throw Error(z(327));Ks();var e=mu(t,0);if(!(e&1))return Wt(t,qe()),null;var n=Ou(t,e);if(t.tag!==0&&n===2){var r=Gf(t);r!==0&&(e=r,n=xp(t,r))}if(n===1)throw n=el,Bi(t,0),Kr(t,e),Wt(t,qe()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Li(t,Ut,lr),Wt(t,qe()),null}function Jm(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(co=qe()+500,Id&&Ti())}}function Yi(t){Yr!==null&&Yr.tag===0&&!(we&6)&&Ks();var e=we;we|=1;var n=un.transition,r=Se;try{if(un.transition=null,Se=1,t)return t()}finally{Se=r,un.transition=n,we=e,!(we&6)&&Ti()}}function Zm(){Yt=zs.current,Oe(zs)}function Bi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,TR(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(Om(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_u();break;case 3:ao(),Oe($t),Oe(At),Bm();break;case 5:zm(r);break;case 4:ao();break;case 13:Oe(Ve);break;case 19:Oe(Ve);break;case 10:Vm(r.type._context);break;case 22:case 23:Zm()}n=n.return}if(ot=t,Ye=t=si(t.current,null),mt=Yt=e,tt=0,el=null,Ym=Rd=Qi=0,Ut=Aa=null,ji!==null){for(e=0;e<ji.length;e++)if(n=ji[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ji=null}return t}function aT(t,e){do{var n=Ye;try{if(Mm(),$c.current=Ru,Cu){for(var r=je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cu=!1}if(Gi=0,st=Ze=je=null,Ca=!1,Xa=0,Qm.current=null,n===null||n.return===null){tt=1,el=e,Ye=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=mt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=uw(o);if(_!==null){_.flags&=-257,dw(_,o,a,s,e),_.mode&1&&cw(s,u,e),e=_,c=u;var I=e.updateQueue;if(I===null){var w=new Set;w.add(c),e.updateQueue=w}else I.add(c);break e}else{if(!(e&1)){cw(s,u,e),eg();break e}c=Error(z(426))}}else if(De&&a.mode&1){var R=uw(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),dw(R,o,a,s,e),Dm(lo(c,a));break e}}s=c=lo(c,a),tt!==4&&(tt=2),Aa===null?Aa=[s]:Aa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=Hx(s,c,e);rw(s,E);break e;case 1:a=c;var y=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ri===null||!ri.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=Wx(s,a,e);rw(s,O);break e}}s=s.return}while(s!==null)}uT(n)}catch(D){e=D,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function lT(){var t=Au.current;return Au.current=Ru,t===null?Ru:t}function eg(){(tt===0||tt===3||tt===2)&&(tt=4),ot===null||!(Qi&268435455)&&!(Rd&268435455)||Kr(ot,mt)}function Ou(t,e){var n=we;we|=2;var r=lT();(ot!==t||mt!==e)&&(lr=null,Bi(t,e));do try{GR();break}catch(i){aT(t,i)}while(!0);if(Mm(),we=n,Au.current=r,Ye!==null)throw Error(z(261));return ot=null,mt=0,tt}function GR(){for(;Ye!==null;)cT(Ye)}function QR(){for(;Ye!==null&&!_C();)cT(Ye)}function cT(t){var e=hT(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?uT(t):Ye=e,Qm.current=null}function uT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=BR(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Ye=null;return}}else if(n=zR(n,e,Yt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);tt===0&&(tt=5)}function Li(t,e,n){var r=Se,i=un.transition;try{un.transition=null,Se=1,YR(t,e,n,r)}finally{un.transition=i,Se=r}return null}function YR(t,e,n,r){do Ks();while(Yr!==null);if(we&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(AC(t,s),t===ot&&(Ye=ot=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gc||(gc=!0,fT(pu,function(){return Ks(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=un.transition,un.transition=null;var o=Se;Se=1;var a=we;we|=4,Qm.current=null,HR(t,n),iT(n,t),gR(ep),gu=!!Zf,ep=Zf=null,t.current=n,WR(n),EC(),we=a,Se=o,un.transition=s}else t.current=n;if(gc&&(gc=!1,Yr=t,Nu=i),s=t.pendingLanes,s===0&&(ri=null),SC(n.stateNode),Wt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pu)throw Pu=!1,t=_p,_p=null,t;return Nu&1&&t.tag!==0&&Ks(),s=t.pendingLanes,s&1?t===Ep?Pa++:(Pa=0,Ep=t):Pa=0,Ti(),null}function Ks(){if(Yr!==null){var t=HE(Nu),e=un.transition,n=Se;try{if(un.transition=null,Se=16>t?16:t,Yr===null)var r=!1;else{if(t=Yr,Yr=null,Nu=0,we&6)throw Error(z(331));var i=we;for(we|=4,G=t.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(G=u;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:Ra(8,d,s)}var f=d.child;if(f!==null)f.return=d,G=f;else for(;G!==null;){d=G;var p=d.sibling,_=d.return;if(tT(d),d===u){G=null;break}if(p!==null){p.return=_,G=p;break}G=_}}}var I=s.alternate;if(I!==null){var w=I.child;if(w!==null){I.child=null;do{var R=w.sibling;w.sibling=null,w=R}while(w!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ra(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,G=E;break e}G=s.return}}var y=t.current;for(G=y;G!==null;){o=G;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,G=S;else e:for(o=y;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cd(9,a)}}catch(D){Be(a,a.return,D)}if(a===o){G=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,G=O;break e}G=a.return}}if(we=i,Ti(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(_d,t)}catch{}r=!0}return r}finally{Se=n,un.transition=e}}return!1}function Sw(t,e,n){e=lo(n,e),e=Hx(t,e,1),t=ni(t,e,1),e=Lt(),t!==null&&(pl(t,1,e),Wt(t,e))}function Be(t,e,n){if(t.tag===3)Sw(t,t,n);else for(;e!==null;){if(e.tag===3){Sw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ri===null||!ri.has(r))){t=lo(n,t),t=Wx(e,t,1),e=ni(e,t,1),t=Lt(),e!==null&&(pl(e,1,t),Wt(e,t));break}}e=e.return}}function XR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(mt&n)===n&&(tt===4||tt===3&&(mt&130023424)===mt&&500>qe()-Xm?Bi(t,0):Ym|=n),Wt(t,e)}function dT(t,e){e===0&&(t.mode&1?(e=oc,oc<<=1,!(oc&130023424)&&(oc=4194304)):e=1);var n=Lt();t=Tr(t,e),t!==null&&(pl(t,e,n),Wt(t,n))}function JR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dT(t,n)}function ZR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),dT(t,n)}var hT;hT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$t.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,UR(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,De&&e.flags&1048576&&gx(e,Tu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wc(t,e),t=e.pendingProps;var i=io(e,At.current);qs(e,n),i=Hm(null,e,r,t,i,n);var s=Wm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(s=!0,Eu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fm(e),i.updater=kd,e.stateNode=i,i._reactInternals=e,cp(e,r,t,n),e=hp(null,e,r,!0,s,n)):(e.tag=0,De&&s&&Nm(e),Dt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tA(r),t=vn(r,t),i){case 0:e=dp(null,e,r,t,n);break e;case 1:e=pw(null,e,r,t,n);break e;case 11:e=hw(null,e,r,t,n);break e;case 14:e=fw(null,e,r,vn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),dp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),pw(t,e,r,i,n);case 3:e:{if(Qx(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,xx(t,e),bu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=lo(Error(z(423)),e),e=mw(t,e,r,n,i);break e}else if(r!==i){i=lo(Error(z(424)),e),e=mw(t,e,r,n,i);break e}else for(Jt=ti(e.stateNode.containerInfo.firstChild),Zt=e,De=!0,_n=null,n=_x(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(so(),r===i){e=Sr(t,e,n);break e}Dt(t,e,r,n)}e=e.child}return e;case 5:return Tx(e),t===null&&op(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,tp(r,i)?o=null:s!==null&&tp(r,s)&&(e.flags|=32),Gx(t,e),Dt(t,e,o,n),e.child;case 6:return t===null&&op(e),null;case 13:return Yx(t,e,n);case 4:return Um(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oo(e,null,r,n):Dt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),hw(t,e,r,i,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce(Su,r._currentValue),r._currentValue=o,s!==null)if(Cn(s.value,o)){if(s.children===i.children&&!$t.current){e=Sr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=yr(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),ap(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ap(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Dt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qs(e,n),i=dn(i),r=r(i),e.flags|=1,Dt(t,e,r,n),e.child;case 14:return r=e.type,i=vn(r,e.pendingProps),i=vn(r.type,i),fw(t,e,r,i,n);case 15:return qx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vn(r,i),Wc(t,e),e.tag=1,Ht(r)?(t=!0,Eu(e)):t=!1,qs(e,n),$x(e,r,i),cp(e,r,i,n),hp(null,e,r,!0,t,n);case 19:return Xx(t,e,n);case 22:return Kx(t,e,n)}throw Error(z(156,e.tag))};function fT(t,e){return UE(t,e)}function eA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new eA(t,e,n,r)}function tg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tA(t){if(typeof t=="function")return tg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_m)return 11;if(t===Em)return 14}return 2}function si(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")tg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ps:return $i(n.children,i,s,e);case wm:o=8,i|=8;break;case Of:return t=cn(12,n,e,i|2),t.elementType=Of,t.lanes=s,t;case Df:return t=cn(13,n,e,i),t.elementType=Df,t.lanes=s,t;case Lf:return t=cn(19,n,e,i),t.elementType=Lf,t.lanes=s,t;case TE:return Ad(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EE:o=10;break e;case xE:o=9;break e;case _m:o=11;break e;case Em:o=14;break e;case Hr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=cn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $i(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function Ad(t,e,n,r){return t=cn(22,t,r,e),t.elementType=TE,t.lanes=n,t.stateNode={isHidden:!1},t}function Zh(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function ef(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dh(0),this.expirationTimes=Dh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ng(t,e,n,r,i,s,o,a,c){return t=new nA(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fm(s),t}function rA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:As,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pT(t){if(!t)return di;t=t._reactInternals;e:{if(ls(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Ht(n))return px(t,n,e)}return e}function mT(t,e,n,r,i,s,o,a,c){return t=ng(n,r,!0,t,i,s,o,a,c),t.context=pT(null),n=t.current,r=Lt(),i=ii(n),s=yr(r,i),s.callback=e??null,ni(n,s,i),t.current.lanes=i,pl(t,i,r),Wt(t,r),t}function Pd(t,e,n,r){var i=e.current,s=Lt(),o=ii(i);return n=pT(n),e.context===null?e.context=n:e.pendingContext=n,e=yr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ni(i,e,o),t!==null&&(In(t,i,o,s),Bc(t,i,o)),o}function Du(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Iw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rg(t,e){Iw(t,e),(t=t.alternate)&&Iw(t,e)}function iA(){return null}var gT=typeof reportError=="function"?reportError:function(t){console.error(t)};function ig(t){this._internalRoot=t}Nd.prototype.render=ig.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Pd(t,e,null,null)};Nd.prototype.unmount=ig.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yi(function(){Pd(null,t,null,null)}),e[xr]=null}};function Nd(t){this._internalRoot=t}Nd.prototype.unstable_scheduleHydration=function(t){if(t){var e=KE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qr.length&&e!==0&&e<qr[n].priority;n++);qr.splice(n,0,t),n===0&&QE(t)}};function sg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bw(){}function sA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Du(o);s.call(u)}}var o=mT(e,r,t,0,null,!1,!1,"",bw);return t._reactRootContainer=o,t[xr]=o.current,qa(t.nodeType===8?t.parentNode:t),Yi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Du(c);a.call(u)}}var c=ng(t,0,!1,null,null,!1,!1,"",bw);return t._reactRootContainer=c,t[xr]=c.current,qa(t.nodeType===8?t.parentNode:t),Yi(function(){Pd(e,c,n,r)}),c}function Dd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=Du(o);a.call(c)}}Pd(e,o,t,i)}else o=sA(n,e,t,i,r);return Du(o)}WE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fa(e.pendingLanes);n!==0&&(Sm(e,n|1),Wt(e,qe()),!(we&6)&&(co=qe()+500,Ti()))}break;case 13:Yi(function(){var r=Tr(t,1);if(r!==null){var i=Lt();In(r,t,1,i)}}),rg(t,1)}};Im=function(t){if(t.tag===13){var e=Tr(t,134217728);if(e!==null){var n=Lt();In(e,t,134217728,n)}rg(t,134217728)}};qE=function(t){if(t.tag===13){var e=ii(t),n=Tr(t,e);if(n!==null){var r=Lt();In(n,t,e,r)}rg(t,e)}};KE=function(){return Se};GE=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};Wf=function(t,e,n){switch(e){case"input":if(jf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Sd(r);if(!i)throw Error(z(90));IE(r),jf(r,i)}}}break;case"textarea":kE(t,n);break;case"select":e=n.value,e!=null&&Bs(t,!!n.multiple,e,!1)}};DE=Jm;LE=Yi;var oA={usingClientEntryPoint:!1,Events:[gl,Ls,Sd,NE,OE,Jm]},aa={findFiberByHostInstance:Vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aA={bundleType:aa.bundleType,version:aa.version,rendererPackageName:aa.rendererPackageName,rendererConfig:aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jE(t),t===null?null:t.stateNode},findFiberByHostInstance:aa.findFiberByHostInstance||iA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{_d=yc.inject(aA),Fn=yc}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oA;nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sg(e))throw Error(z(200));return rA(t,e,null,n)};nn.createRoot=function(t,e){if(!sg(t))throw Error(z(299));var n=!1,r="",i=gT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ng(t,1,!1,null,null,n,!1,r,i),t[xr]=e.current,qa(t.nodeType===8?t.parentNode:t),new ig(e)};nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=jE(e),t=t===null?null:t.stateNode,t};nn.flushSync=function(t){return Yi(t)};nn.hydrate=function(t,e,n){if(!Od(e))throw Error(z(200));return Dd(null,t,e,!0,n)};nn.hydrateRoot=function(t,e,n){if(!sg(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=gT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=mT(e,null,t,1,n??null,i,!1,s,o),t[xr]=e.current,qa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Nd(e)};nn.render=function(t,e,n){if(!Od(e))throw Error(z(200));return Dd(null,t,e,!1,n)};nn.unmountComponentAtNode=function(t){if(!Od(t))throw Error(z(40));return t._reactRootContainer?(Yi(function(){Dd(null,null,t,!1,function(){t._reactRootContainer=null,t[xr]=null})}),!0):!1};nn.unstable_batchedUpdates=Jm;nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Od(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Dd(t,e,n,!1,r)};nn.version="18.3.1-next-f1338f8080-20240426";function yT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yT)}catch(t){console.error(t)}}yT(),yE.exports=nn;var So=yE.exports;const lA=iE(So);var vT,kw=So;vT=kw.createRoot,kw.hydrateRoot;const ma={},Cw=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,Rw=t=>"init"in t,tf=t=>!!t.write,Aw=t=>"v"in t||"e"in t,vc=t=>{if("e"in t)throw t.e;if((ma?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},Lu=new WeakMap,Pw=t=>{var e;return Mu(t)&&!!((e=Lu.get(t))!=null&&e[0])},cA=t=>{const e=Lu.get(t);e!=null&&e[0]&&(e[0]=!1,e[1].forEach(n=>n()))},wT=(t,e)=>{let n=Lu.get(t);if(!n){n=[!0,new Set],Lu.set(t,n);const r=()=>{n[0]=!1};t.then(r,r)}n[1].add(e)},Mu=t=>typeof(t==null?void 0:t.then)=="function",_T=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},nf=(t,e,n)=>{const r=n(t),i="v"in r,s=r.v;if(Mu(e))for(const o of r.d.keys())_T(t,e,n(o));r.v=e,delete r.e,(!i||!Object.is(s,r.v))&&(++r.n,Mu(s)&&cA(s))},Nw=(t,e,n)=>{var r;const i=new Set;for(const s of((r=n.get(t))==null?void 0:r.t)||[])n.has(s)&&i.add(s);for(const s of e.p)i.add(s);return i},uA=()=>{const t=new Set,e=()=>{t.forEach(n=>n())};return e.add=n=>(t.add(n),()=>{t.delete(n)}),e},rf=()=>{const t={},e=new WeakMap,n=r=>{var i,s;(i=e.get(t))==null||i.forEach(o=>o(r)),(s=e.get(r))==null||s.forEach(o=>o())};return n.add=(r,i)=>{const s=r||t,o=(e.has(s)?e:e.set(s,new Set)).get(s);return o.add(i),()=>{o==null||o.delete(i),o.size||e.delete(s)}},n},dA=t=>(t.c||(t.c=rf()),t.m||(t.m=rf()),t.u||(t.u=rf()),t.f||(t.f=uA()),t),hA=Symbol(),fA=(t=new WeakMap,e=new WeakMap,n=new WeakMap,r=new Set,i=new Set,s=new Set,o={},a=(p,..._)=>p.read(..._),c=(p,..._)=>p.write(..._),u=(p,_)=>{var I;return(I=p.unstable_onInit)==null?void 0:I.call(p,_)},d=(p,_)=>{var I;return(I=p.onMount)==null?void 0:I.call(p,_)},...f)=>{const p=f[0]||(x=>{if((ma?"production":void 0)!=="production"&&!x)throw new Error("Atom is undefined or null");let v=t.get(x);return v||(v={d:new Map,p:new Set,n:0},t.set(x,v),u==null||u(x,V)),v}),_=f[1]||(()=>{const x=[],v=b=>{try{b()}catch(C){x.push(C)}};do{o.f&&v(o.f);const b=new Set,C=b.add.bind(b);r.forEach(P=>{var N;return(N=e.get(P))==null?void 0:N.l.forEach(C)}),r.clear(),s.forEach(C),s.clear(),i.forEach(C),i.clear(),b.forEach(v),r.size&&I()}while(r.size||s.size||i.size);if(x.length)throw new AggregateError(x)}),I=f[2]||(()=>{const x=[],v=new WeakSet,b=new WeakSet,C=Array.from(r);for(;C.length;){const P=C[C.length-1],N=p(P);if(b.has(P)){C.pop();continue}if(v.has(P)){if(n.get(P)===N.n)x.push([P,N]);else if((ma?"production":void 0)!=="production"&&n.has(P))throw new Error("[Bug] invalidated atom exists");b.add(P),C.pop();continue}v.add(P);for(const A of Nw(P,N,e))v.has(A)||C.push(A)}for(let P=x.length-1;P>=0;--P){const[N,A]=x[P];let W=!1;for(const re of A.d.keys())if(re!==N&&r.has(re)){W=!0;break}W&&(w(N),y(N)),n.delete(N)}}),w=f[3]||(x=>{var v;const b=p(x);if(Aw(b)&&(e.has(x)&&n.get(x)!==b.n||Array.from(b.d).every(([q,L])=>w(q).n===L)))return b;b.d.clear();let C=!0;const P=()=>{e.has(x)&&(y(x),I(),_())},N=q=>{var L;if(Cw(x,q)){const X=p(q);if(!Aw(X))if(Rw(q))nf(q,q.init,p);else throw new Error("no atom init");return vc(X)}const $=w(q);try{return vc($)}finally{b.d.set(q,$.n),Pw(b.v)&&_T(x,b.v,$),(L=e.get(q))==null||L.t.add(x),C||P()}};let A,W;const re={get signal(){return A||(A=new AbortController),A.signal},get setSelf(){return(ma?"production":void 0)!=="production"&&!tf(x)&&console.warn("setSelf function cannot be used with read-only atom"),!W&&tf(x)&&(W=(...q)=>{if((ma?"production":void 0)!=="production"&&C&&console.warn("setSelf function cannot be called in sync"),!C)try{return E(x,...q)}finally{I(),_()}}),W}},Z=b.n;try{const q=a(x,N,re);return nf(x,q,p),Mu(q)&&(wT(q,()=>A==null?void 0:A.abort()),q.then(P,P)),b}catch(q){return delete b.v,b.e=q,++b.n,b}finally{C=!1,Z!==b.n&&n.get(x)===Z&&(n.set(x,b.n),r.add(x),(v=o.c)==null||v.call(o,x))}}),R=f[4]||(x=>{const v=[x];for(;v.length;){const b=v.pop(),C=p(b);for(const P of Nw(b,C,e)){const N=p(P);n.set(P,N.n),v.push(P)}}}),E=f[5]||((x,...v)=>{let b=!0;const C=N=>vc(w(N)),P=(N,...A)=>{var W;const re=p(N);try{if(Cw(x,N)){if(!Rw(N))throw new Error("atom not writable");const Z=re.n,q=A[0];nf(N,q,p),y(N),Z!==re.n&&(r.add(N),(W=o.c)==null||W.call(o,N),R(N));return}else return E(N,...A)}finally{b||(I(),_())}};try{return c(x,C,P,...v)}finally{b=!1}}),y=f[6]||(x=>{var v;const b=p(x),C=e.get(x);if(C&&!Pw(b.v)){for(const[P,N]of b.d)if(!C.d.has(P)){const A=p(P);S(P).t.add(x),C.d.add(P),N!==A.n&&(r.add(P),(v=o.c)==null||v.call(o,P),R(P))}for(const P of C.d||[])if(!b.d.has(P)){C.d.delete(P);const N=O(P);N==null||N.t.delete(x)}}}),S=f[7]||(x=>{var v;const b=p(x);let C=e.get(x);if(!C){w(x);for(const P of b.d.keys())S(P).t.add(x);if(C={l:new Set,d:new Set(b.d.keys()),t:new Set},e.set(x,C),(v=o.m)==null||v.call(o,x),tf(x)){const P=()=>{let N=!0;const A=(...W)=>{try{return E(x,...W)}finally{N||(I(),_())}};try{const W=d(x,A);W&&(C.u=()=>{N=!0;try{W()}finally{N=!1}})}finally{N=!1}};i.add(P)}}return C}),O=f[8]||(x=>{var v;const b=p(x);let C=e.get(x);if(C&&!C.l.size&&!Array.from(C.t).some(P=>{var N;return(N=e.get(P))==null?void 0:N.d.has(x)})){C.u&&s.add(C.u),C=void 0,e.delete(x),(v=o.u)==null||v.call(o,x);for(const P of b.d.keys()){const N=O(P);N==null||N.t.delete(x)}return}return C}),D=[t,e,n,r,i,s,o,a,c,u,d,p,_,I,w,R,E,y,S,O],V={get:x=>vc(w(x)),set:(x,...v)=>{try{return E(x,...v)}finally{I(),_()}},sub:(x,v)=>{const C=S(x).l;return C.add(v),_(),()=>{C.delete(v),O(x),_()}}};return Object.defineProperty(V,hA,{value:D}),V},ET=fA,pA=dA,Ow=wT,og={};let mA=0;function xT(t,e){const n=`atom${++mA}`,r={toString(){return(og?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=gA,r.write=yA),r}function gA(t){return t(this)}function yA(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}const vA=()=>{let t=0;const e=pA({}),n=new WeakMap,r=new WeakMap,i=ET(n,r,void 0,void 0,void 0,void 0,e,void 0,(a,c,u,...d)=>t?u(a,...d):a.write(c,u,...d)),s=new Set;return e.m.add(void 0,a=>{s.add(a);const c=n.get(a);c.m=r.get(a)}),e.u.add(void 0,a=>{s.delete(a);const c=n.get(a);delete c.m}),Object.assign(i,{dev4_get_internal_weak_map:()=>(console.log("Deprecated: Use devstore from the devtools library"),n),dev4_get_mounted_atoms:()=>s,dev4_restore_atoms:a=>{const c={read:()=>null,write:(u,d)=>{++t;try{for(const[f,p]of a)"init"in f&&d(f,p)}finally{--t}}};i.set(c)}})};function wA(){return(og?"production":void 0)!=="production"?vA():ET()}let la;function _A(){return la||(la=wA(),(og?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=la),globalThis.__JOTAI_DEFAULT_STORE__!==la&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),la}const EA={},xA=T.createContext(void 0);function TT(t){return T.useContext(xA)||_A()}const Sp=t=>typeof(t==null?void 0:t.then)=="function",Ip=t=>{t.status||(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}))},TA=ft.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(Ip(t),t)}),sf=new WeakMap,Dw=(t,e)=>{let n=sf.get(t);return n||(n=new Promise((r,i)=>{let s=t;const o=u=>d=>{s===u&&r(d)},a=u=>d=>{s===u&&i(d)},c=()=>{try{const u=e();Sp(u)?(sf.set(u,n),s=u,u.then(o(u),a(u)),Ow(u,c)):r(u)}catch(u){i(u)}};t.then(o(t),a(t)),Ow(t,c)}),sf.set(t,n)),n};function SA(t,e){const{delay:n,unstable_promiseStatus:r=!ft.use}={},i=TT(),[[s,o,a],c]=T.useReducer(d=>{const f=i.get(t);return Object.is(d[0],f)&&d[1]===i&&d[2]===t?d:[f,i,t]},void 0,()=>[i.get(t),i,t]);let u=s;if((o!==i||a!==t)&&(c(),u=i.get(t)),T.useEffect(()=>{const d=i.sub(t,()=>{if(r)try{const f=i.get(t);Sp(f)&&Ip(Dw(f,()=>i.get(t)))}catch{}if(typeof n=="number"){setTimeout(c,n);return}c()});return c(),d},[i,t,n,r]),T.useDebugValue(u),Sp(u)){const d=Dw(u,()=>i.get(t));return r&&Ip(d),TA(d)}return u}function IA(t,e){const n=TT();return T.useCallback((...i)=>{if((EA?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...i)},[n,t])}function yt(t,e){return[SA(t),IA(t)]}/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Lw="popstate";function bA(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return bp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:tl(i)}return CA(e,n,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kA(){return Math.random().toString(36).substring(2,10)}function Mw(t,e){return{usr:t.state,key:t.key,idx:e}}function bp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Io(e):e,state:n,key:e&&e.key||r||kA()}}function tl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Io(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function CA(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let R=d(),E=R==null?null:R-u;u=R,c&&c({action:a,location:w.location,delta:E})}function p(R,E){a="PUSH";let y=bp(w.location,R,E);u=d()+1;let S=Mw(y,u),O=w.createHref(y);try{o.pushState(S,"",O)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(O)}s&&c&&c({action:a,location:w.location,delta:1})}function _(R,E){a="REPLACE";let y=bp(w.location,R,E);u=d();let S=Mw(y,u),O=w.createHref(y);o.replaceState(S,"",O),s&&c&&c({action:a,location:w.location,delta:0})}function I(R){return RA(R)}let w={get action(){return a},get location(){return t(i,o)},listen(R){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Lw,f),c=R,()=>{i.removeEventListener(Lw,f),c=null}},createHref(R){return e(i,R)},createURL:I,encodeLocation(R){let E=I(R);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:_,go(R){return o.go(R)}};return w}function RA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Le(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:tl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function ST(t,e,n="/"){return AA(t,e,n,!1)}function AA(t,e,n,r){let i=typeof e=="string"?Io(e):e,s=Ir(i.pathname||"/",n);if(s==null)return null;let o=IT(t);PA(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=BA(s);a=UA(o[c],u,r)}return a}function IT(t,e=[],n=[],r=""){let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Le(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let u=vr([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(Le(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),IT(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:jA(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of bT(s.path))i(s,o,c)}),e}function bT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=bT(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function PA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:FA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var NA=/^:[\w-]+$/,OA=3,DA=2,LA=1,MA=10,VA=-2,Vw=t=>t==="*";function jA(t,e){let n=t.split("/"),r=n.length;return n.some(Vw)&&(r+=VA),e&&(r+=DA),n.filter(i=>!Vw(i)).reduce((i,s)=>i+(NA.test(s)?OA:s===""?LA:MA),r)}function FA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function UA(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Vu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Vu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:vr([s,f.pathname]),pathnameBase:qA(vr([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=vr([s,f.pathnameBase]))}return o}function Vu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},p)=>{if(d==="*"){let I=a[p]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const _=a[p];return f&&!_?u[d]=void 0:u[d]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function zA(t,e=!1,n=!0){Rn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function BA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ir(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $A(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Io(t):t;return{pathname:n?n.startsWith("/")?n:HA(n,e):e,search:KA(r),hash:GA(i)}}function HA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function of(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ag(t){let e=WA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function lg(t,e,n,r=!1){let i;typeof t=="string"?i=Io(t):(i={...t},Le(!i.pathname||!i.pathname.includes("?"),of("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),of("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),of("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let c=$A(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var vr=t=>t.join("/").replace(/\/\/+/g,"/"),qA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var kT=["POST","PUT","PATCH","DELETE"];new Set(kT);var YA=["GET",...kT];new Set(YA);var bo=T.createContext(null);bo.displayName="DataRouter";var Ld=T.createContext(null);Ld.displayName="DataRouterState";T.createContext(!1);var CT=T.createContext({isTransitioning:!1});CT.displayName="ViewTransition";var XA=T.createContext(new Map);XA.displayName="Fetchers";var JA=T.createContext(null);JA.displayName="Await";var Nn=T.createContext(null);Nn.displayName="Navigation";var vl=T.createContext(null);vl.displayName="Location";var Jn=T.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var cg=T.createContext(null);cg.displayName="RouteError";function ZA(t,{relative:e}={}){Le(ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(Nn),{hash:i,pathname:s,search:o}=_l(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:vr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function ko(){return T.useContext(vl)!=null}function Si(){return Le(ko(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(vl).location}var RT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AT(t){T.useContext(Nn).static||T.useLayoutEffect(t)}function wl(){let{isDataRoute:t}=T.useContext(Jn);return t?hP():eP()}function eP(){Le(ko(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(bo),{basename:e,navigator:n}=T.useContext(Nn),{matches:r}=T.useContext(Jn),{pathname:i}=Si(),s=JSON.stringify(ag(r)),o=T.useRef(!1);return AT(()=>{o.current=!0}),T.useCallback((c,u={})=>{if(Rn(o.current,RT),!o.current)return;if(typeof c=="number"){n.go(c);return}let d=lg(c,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:vr([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}T.createContext(null);function _l(t,{relative:e}={}){let{matches:n}=T.useContext(Jn),{pathname:r}=Si(),i=JSON.stringify(ag(n));return T.useMemo(()=>lg(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function tP(t,e){return PT(t,e)}function PT(t,e,n,r){var E;Le(ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=T.useContext(Nn),{matches:s}=T.useContext(Jn),o=s[s.length-1],a=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let y=d&&d.path||"";NT(c,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=Si(),p;if(e){let y=typeof e=="string"?Io(e):e;Le(u==="/"||((E=y.pathname)==null?void 0:E.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${y.pathname}" was given in the \`location\` prop.`),p=y}else p=f;let _=p.pathname||"/",I=_;if(u!=="/"){let y=u.replace(/^\//,"").split("/");I="/"+_.replace(/^\//,"").split("/").slice(y.length).join("/")}let w=ST(t,{pathname:I});Rn(d||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Rn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=oP(w&&w.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:vr([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:vr([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&R?T.createElement(vl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},R):R}function nP(){let t=dP(),e=QA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,o)}var rP=T.createElement(nP,null),iP=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?T.createElement(Jn.Provider,{value:this.props.routeContext},T.createElement(cg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sP({routeContext:t,match:e,children:n}){let r=T.useContext(bo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Jn.Provider,{value:t},n)}function oP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let c=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Le(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let o=!1,a=-1;if(n)for(let c=0;c<i.length;c++){let u=i[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=c),u.route.id){let{loaderData:d,errors:f}=n,p=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||p){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((c,u,d)=>{let f,p=!1,_=null,I=null;n&&(f=s&&u.route.id?s[u.route.id]:void 0,_=u.route.errorElement||rP,o&&(a<0&&d===0?(NT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,I=null):a===d&&(p=!0,I=u.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,d+1)),R=()=>{let E;return f?E=_:p?E=I:u.route.Component?E=T.createElement(u.route.Component,null):u.route.element?E=u.route.element:E=c,T.createElement(sP,{match:u,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:E})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?T.createElement(iP,{location:n.location,revalidation:n.revalidation,component:_,error:f,children:R(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):R()},null)}function ug(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aP(t){let e=T.useContext(bo);return Le(e,ug(t)),e}function lP(t){let e=T.useContext(Ld);return Le(e,ug(t)),e}function cP(t){let e=T.useContext(Jn);return Le(e,ug(t)),e}function dg(t){let e=cP(t),n=e.matches[e.matches.length-1];return Le(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uP(){return dg("useRouteId")}function dP(){var r;let t=T.useContext(cg),e=lP("useRouteError"),n=dg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function hP(){let{router:t}=aP("useNavigate"),e=dg("useNavigate"),n=T.useRef(!1);return AT(()=>{n.current=!0}),T.useCallback(async(i,s={})=>{Rn(n.current,RT),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var jw={};function NT(t,e,n){!e&&!jw[t]&&(jw[t]=!0,Rn(!1,n))}T.memo(fP);function fP({routes:t,future:e,state:n}){return PT(t,void 0,n,e)}function pP({to:t,replace:e,state:n,relative:r}){Le(ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(Nn);Rn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(Jn),{pathname:o}=Si(),a=wl(),c=lg(t,ag(s),o,r==="path"),u=JSON.stringify(c);return T.useEffect(()=>{a(JSON.parse(u),{replace:e,state:n,relative:r})},[a,u,r,e,n]),null}function Br(t){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Le(!ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=T.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Io(n));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:p="default"}=n,_=T.useMemo(()=>{let I=Ir(c,o);return I==null?null:{location:{pathname:I,search:u,hash:d,state:f,key:p},navigationType:r}},[o,c,u,d,f,p,r]);return Rn(_!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:T.createElement(Nn.Provider,{value:a},T.createElement(vl.Provider,{children:e,value:_}))}function gP({children:t,location:e}){return tP(kp(t),e)}function kp(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,kp(r.props.children,s));return}Le(r.type===Br,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kp(r.props.children,s)),n.push(o)}),n}var Qc="get",Yc="application/x-www-form-urlencoded";function Md(t){return t!=null&&typeof t.tagName=="string"}function yP(t){return Md(t)&&t.tagName.toLowerCase()==="button"}function vP(t){return Md(t)&&t.tagName.toLowerCase()==="form"}function wP(t){return Md(t)&&t.tagName.toLowerCase()==="input"}function _P(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EP(t,e){return t.button===0&&(!e||e==="_self")&&!_P(t)}var wc=null;function xP(){if(wc===null)try{new FormData(document.createElement("form"),0),wc=!1}catch{wc=!0}return wc}var TP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function af(t){return t!=null&&!TP.has(t)?(Rn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):t}function SP(t,e){let n,r,i,s,o;if(vP(t)){let a=t.getAttribute("action");r=a?Ir(a,e):null,n=t.getAttribute("method")||Qc,i=af(t.getAttribute("enctype"))||Yc,s=new FormData(t)}else if(yP(t)||wP(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||a.getAttribute("action");if(r=c?Ir(c,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Qc,i=af(t.getAttribute("formenctype"))||af(a.getAttribute("enctype"))||Yc,s=new FormData(a,t),!xP()){let{name:u,type:d,value:f}=t;if(d==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,f)}}else{if(Md(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qc,r=null,i=Yc,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function IP(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ir(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function bP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function CP(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await bP(s,n);return o.links?o.links():[]}return[]}));return NP(r.flat(1).filter(kP).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Fw(t,e,n,r,i,s){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,a=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,u)=>o(c,u)||a(c,u)):s==="data"?e.filter((c,u)=>{var f;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||a(c,u))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function RP(t,e,{includeHydrateFallback:n}={}){return AP(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function AP(t){return[...new Set(t)]}function PP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function NP(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(PP(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function OT(){let t=T.useContext(bo);return hg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function OP(){let t=T.useContext(Ld);return hg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fg=T.createContext(void 0);fg.displayName="FrameworkContext";function DT(){let t=T.useContext(fg);return hg(t,"You must render this element inside a <HydratedRouter> element"),t}function DP(t,e){let n=T.useContext(fg),[r,i]=T.useState(!1),[s,o]=T.useState(!1),{onFocus:a,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,p=T.useRef(null);T.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=E=>{E.forEach(y=>{o(y.isIntersecting)})},R=new IntersectionObserver(w,{threshold:.5});return p.current&&R.observe(p.current),()=>{R.disconnect()}}},[t]),T.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let _=()=>{i(!0)},I=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:ca(a,_),onBlur:ca(c,I),onMouseEnter:ca(u,_),onMouseLeave:ca(d,I),onTouchStart:ca(f,_)}]:[!1,p,{}]}function ca(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function LP({page:t,...e}){let{router:n}=OT(),r=T.useMemo(()=>ST(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(VP,{page:t,matches:r,...e}):null}function MP(t){let{manifest:e,routeModules:n}=DT(),[r,i]=T.useState([]);return T.useEffect(()=>{let s=!1;return CP(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function VP({page:t,matches:e,...n}){let r=Si(),{manifest:i,routeModules:s}=DT(),{basename:o}=OT(),{loaderData:a,matches:c}=OP(),u=T.useMemo(()=>Fw(t,e,c,i,r,"data"),[t,e,c,i,r]),d=T.useMemo(()=>Fw(t,e,c,i,r,"assets"),[t,e,c,i,r]),f=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let I=new Set,w=!1;if(e.forEach(E=>{var S;let y=i.routes[E.route.id];!y||!y.hasLoader||(!u.some(O=>O.route.id===E.route.id)&&E.route.id in a&&((S=s[E.route.id])!=null&&S.shouldRevalidate)||y.hasClientLoader?w=!0:I.add(E.route.id))}),I.size===0)return[];let R=IP(t,o,"data");return w&&I.size>0&&R.searchParams.set("_routes",e.filter(E=>I.has(E.route.id)).map(E=>E.route.id).join(",")),[R.pathname+R.search]},[o,a,r,i,u,e,t,s]),p=T.useMemo(()=>RP(d,i),[d,i]),_=MP(d);return T.createElement(T.Fragment,null,f.map(I=>T.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),p.map(I=>T.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),_.map(({key:I,link:w})=>T.createElement("link",{key:I,...w})))}function jP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var LT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LT&&(window.__reactRouterVersion="7.7.1")}catch{}function FP({basename:t,children:e,window:n}){let r=T.useRef();r.current==null&&(r.current=bA({window:n,v5Compat:!0}));let i=r.current,[s,o]=T.useState({action:i.action,location:i.location}),a=T.useCallback(c=>{T.startTransition(()=>o(c))},[o]);return T.useLayoutEffect(()=>i.listen(a),[i,a]),T.createElement(mP,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var MT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qt=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f,...p},_){let{basename:I}=T.useContext(Nn),w=typeof u=="string"&&MT.test(u),R,E=!1;if(typeof u=="string"&&w&&(R=u,LT))try{let b=new URL(window.location.href),C=u.startsWith("//")?new URL(b.protocol+u):new URL(u),P=Ir(C.pathname,I);C.origin===b.origin&&P!=null?u=P+C.search+C.hash:E=!0}catch{Rn(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=ZA(u,{relative:i}),[S,O,D]=DP(r,p),V=$P(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:i,viewTransition:f});function x(b){e&&e(b),b.defaultPrevented||V(b)}let v=T.createElement("a",{...p,...D,href:R||y,onClick:E||s?e:x,ref:jP(_,O),target:c,"data-discover":!w&&n==="render"?"true":void 0});return S&&!w?T.createElement(T.Fragment,null,v,T.createElement(LP,{page:y})):v});qt.displayName="Link";var UP=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:c,...u},d){let f=_l(o,{relative:u.relative}),p=Si(),_=T.useContext(Ld),{navigator:I,basename:w}=T.useContext(Nn),R=_!=null&&GP(f)&&a===!0,E=I.encodeLocation?I.encodeLocation(f).pathname:f.pathname,y=p.pathname,S=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(y=y.toLowerCase(),S=S?S.toLowerCase():null,E=E.toLowerCase()),S&&w&&(S=Ir(S,w)||S);const O=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let D=y===E||!i&&y.startsWith(E)&&y.charAt(O)==="/",V=S!=null&&(S===E||!i&&S.startsWith(E)&&S.charAt(E.length)==="/"),x={isActive:D,isPending:V,isTransitioning:R},v=D?e:void 0,b;typeof r=="function"?b=r(x):b=[r,D?"active":null,V?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let C=typeof s=="function"?s(x):s;return T.createElement(qt,{...u,"aria-current":v,className:b,ref:d,style:C,to:o,viewTransition:a},typeof c=="function"?c(x):c)});UP.displayName="NavLink";var zP=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Qc,action:a,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...p},_)=>{let I=qP(),w=KP(a,{relative:u}),R=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&MT.test(a),y=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let O=S.nativeEvent.submitter,D=(O==null?void 0:O.getAttribute("formmethod"))||o;I(O||S.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:f})};return T.createElement("form",{ref:_,method:R,action:w,onSubmit:r?c:y,...p,"data-discover":!E&&t==="render"?"true":void 0})});zP.displayName="Form";function BP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VT(t){let e=T.useContext(bo);return Le(e,BP(t)),e}function $P(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=wl(),c=Si(),u=_l(t,{relative:s});return T.useCallback(d=>{if(EP(d,e)){d.preventDefault();let f=n!==void 0?n:tl(c)===tl(u);a(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[c,a,u,n,r,e,t,i,s,o])}var HP=0,WP=()=>`__${String(++HP)}__`;function qP(){let{router:t}=VT("useSubmit"),{basename:e}=T.useContext(Nn),n=uP();return T.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:c,body:u}=SP(r,e);if(i.navigate===!1){let d=i.fetcherKey||WP();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function KP(t,{relative:e}={}){let{basename:n}=T.useContext(Nn),r=T.useContext(Jn);Le(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={..._l(t||".",{relative:e})},o=Si();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),c=a.getAll("index");if(c.some(d=>d==="")){a.delete("index"),c.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:vr([n,s.pathname])),tl(s)}function GP(t,{relative:e}={}){let n=T.useContext(CT);Le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=VT("useViewTransitionState"),i=_l(t,{relative:e});if(!n.isTransitioning)return!1;let s=Ir(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ir(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vu(i.pathname,o)!=null||Vu(i.pathname,s)!=null}const El=xT(null),QP=()=>{};var Uw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},FT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,_=u&63;c||(_=64,o||(p=64)),r.push(n[d],n[f],n[p],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new XP;const p=s<<2|a>>4;if(r.push(p),u!==64){const _=a<<4&240|u>>2;if(r.push(_),f!==64){const I=u<<6&192|f;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JP=function(t){const e=jT(t);return FT.encodeByteArray(e,!0)},ju=function(t){return JP(t).replace(/\./g,"")},UT=function(t){try{return FT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=()=>ZP().__FIREBASE_DEFAULTS__,tN=()=>{if(typeof process>"u"||typeof Uw>"u")return;const t=Uw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&UT(t[1]);return e&&JSON.parse(e)},Vd=()=>{try{return QP()||eN()||tN()||nN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zT=t=>{var e,n;return(n=(e=Vd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},BT=t=>{const e=zT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$T=()=>{var t;return(t=Vd())==null?void 0:t.config},HT=t=>{var e;return(e=Vd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ju(JSON.stringify(n)),ju(JSON.stringify(o)),""].join(".")}const Na={};function iN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Na))Na[e]?t.emulator.push(e):t.prod.push(e);return t}function sN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zw=!1;function mg(t,e){if(typeof window>"u"||typeof document>"u"||!cs(window.location.host)||Na[t]===e||Na[t]||zw)return;Na[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=iN().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,_){p.setAttribute("width","24"),p.setAttribute("id",_),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{zw=!0,o()},p}function d(p,_){p.setAttribute("id",_),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=sN(r),_=n("text"),I=document.getElementById(_)||document.createElement("span"),w=n("learnmore"),R=document.getElementById(w)||document.createElement("a"),E=n("preprendIcon"),y=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const S=p.element;a(S),d(R,w);const O=u();c(y,E),S.append(y,I,R,O),document.body.appendChild(S)}s?(I.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function aN(){var e;const t=(e=Vd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dN(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hN(){return!aN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fN(){try{return typeof indexedDB=="object"}catch{return!1}}function pN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="FirebaseError";class Zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mN,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xl.prototype.create)}}class xl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?gN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Zn(i,a,r)}}function gN(t,e){return t.replace(yN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yN=/\{\$([^}]+)}/g;function vN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Bw(s)&&Bw(o)){if(!Xi(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Bw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ga(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ya(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wN(t,e){const n=new _N(t,e);return n.subscribe.bind(n)}class _N{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=lf),i.error===void 0&&(i.error=lf),i.complete===void 0&&(i.complete=lf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class hi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SN(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TN(t){return t===Mi?void 0:t}function SN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const bN={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},kN=me.INFO,CN={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},RN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=CN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gg{constructor(e){this.name=e,this._logLevel=kN,this._logHandler=RN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const AN=(t,e)=>e.some(n=>t instanceof n);let $w,Hw;function PN(){return $w||($w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NN(){return Hw||(Hw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qT=new WeakMap,Cp=new WeakMap,KT=new WeakMap,cf=new WeakMap,yg=new WeakMap;function ON(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(oi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qT.set(n,t)}).catch(()=>{}),yg.set(e,t),e}function DN(t){if(Cp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Cp.set(t,e)}let Rp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LN(t){Rp=t(Rp)}function MN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uf(this),e,...n);return KT.set(r,e.sort?e.sort():[e]),oi(r)}:NN().includes(t)?function(...e){return t.apply(uf(this),e),oi(qT.get(this))}:function(...e){return oi(t.apply(uf(this),e))}}function VN(t){return typeof t=="function"?MN(t):(t instanceof IDBTransaction&&DN(t),AN(t,PN())?new Proxy(t,Rp):t)}function oi(t){if(t instanceof IDBRequest)return ON(t);if(cf.has(t))return cf.get(t);const e=VN(t);return e!==t&&(cf.set(t,e),yg.set(e,t)),e}const uf=t=>yg.get(t);function jN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=oi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(oi(o.result),c.oldVersion,c.newVersion,oi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const FN=["get","getKey","getAll","getAllKeys","count"],UN=["put","add","delete","clear"],df=new Map;function Ww(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(df.get(e))return df.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=UN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FN.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return df.set(e,s),s}LN(t=>({...t,get:(e,n,r)=>Ww(e,n)||t.get(e,n,r),has:(e,n)=>!!Ww(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ap="@firebase/app",qw="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new gg("@firebase/app"),$N="@firebase/app-compat",HN="@firebase/analytics-compat",WN="@firebase/analytics",qN="@firebase/app-check-compat",KN="@firebase/app-check",GN="@firebase/auth",QN="@firebase/auth-compat",YN="@firebase/database",XN="@firebase/data-connect",JN="@firebase/database-compat",ZN="@firebase/functions",e2="@firebase/functions-compat",t2="@firebase/installations",n2="@firebase/installations-compat",r2="@firebase/messaging",i2="@firebase/messaging-compat",s2="@firebase/performance",o2="@firebase/performance-compat",a2="@firebase/remote-config",l2="@firebase/remote-config-compat",c2="@firebase/storage",u2="@firebase/storage-compat",d2="@firebase/firestore",h2="@firebase/ai",f2="@firebase/firestore-compat",p2="firebase",m2="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="[DEFAULT]",g2={[Ap]:"fire-core",[$N]:"fire-core-compat",[WN]:"fire-analytics",[HN]:"fire-analytics-compat",[KN]:"fire-app-check",[qN]:"fire-app-check-compat",[GN]:"fire-auth",[QN]:"fire-auth-compat",[YN]:"fire-rtdb",[XN]:"fire-data-connect",[JN]:"fire-rtdb-compat",[ZN]:"fire-fn",[e2]:"fire-fn-compat",[t2]:"fire-iid",[n2]:"fire-iid-compat",[r2]:"fire-fcm",[i2]:"fire-fcm-compat",[s2]:"fire-perf",[o2]:"fire-perf-compat",[a2]:"fire-rc",[l2]:"fire-rc-compat",[c2]:"fire-gcs",[u2]:"fire-gcs-compat",[d2]:"fire-fst",[f2]:"fire-fst-compat",[h2]:"fire-vertex","fire-js":"fire-js",[p2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Map,y2=new Map,Np=new Map;function Kw(t,e){try{t.container.addComponent(e)}catch(n){br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ji(t){const e=t.name;if(Np.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;Np.set(e,t);for(const n of Fu.values())Kw(n,t);for(const n of y2.values())Kw(n,t);return!0}function jd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ai=new xl("app","Firebase",v2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=m2;function GT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Pp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ai.create("bad-app-name",{appName:String(i)});if(n||(n=$T()),!n)throw ai.create("no-options");const s=Fu.get(i);if(s){if(Xi(n,s.options)&&Xi(r,s.config))return s;throw ai.create("duplicate-app",{appName:i})}const o=new IN(i);for(const c of Np.values())o.addComponent(c);const a=new w2(n,r,o);return Fu.set(i,a),a}function vg(t=Pp){const e=Fu.get(t);if(!e&&t===Pp&&$T())return GT();if(!e)throw ai.create("no-app",{appName:t});return e}function zn(t,e,n){let r=g2[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(o.join(" "));return}Ji(new hi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="firebase-heartbeat-database",E2=1,nl="firebase-heartbeat-store";let hf=null;function QT(){return hf||(hf=jN(_2,E2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ai.create("idb-open",{originalErrorMessage:t.message})})),hf}async function x2(t){try{const n=(await QT()).transaction(nl),r=await n.objectStore(nl).get(YT(t));return await n.done,r}catch(e){if(e instanceof Zn)br.warn(e.message);else{const n=ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(n.message)}}}async function Gw(t,e){try{const r=(await QT()).transaction(nl,"readwrite");await r.objectStore(nl).put(e,YT(t)),await r.done}catch(n){if(n instanceof Zn)br.warn(n.message);else{const r=ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});br.warn(r.message)}}}function YT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=1024,S2=30;class I2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new k2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Qw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>S2){const o=C2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qw(),{heartbeatsToSend:r,unsentEntries:i}=b2(this._heartbeatsCache.heartbeats),s=ju(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return br.warn(n),""}}}function Qw(){return new Date().toISOString().substring(0,10)}function b2(t,e=T2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Yw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class k2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fN()?pN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await x2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Yw(t){return ju(JSON.stringify({version:2,heartbeats:t})).length}function C2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){Ji(new hi("platform-logger",e=>new zN(e),"PRIVATE")),Ji(new hi("heartbeat",e=>new I2(e),"PRIVATE")),zn(Ap,qw,t),zn(Ap,qw,"esm2020"),zn("fire-js","")}R2("");function XT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A2=XT,JT=new xl("auth","Firebase",XT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new gg("@firebase/auth");function P2(t,...e){Uu.logLevel<=me.WARN&&Uu.warn(`Auth (${us}): ${t}`,...e)}function Xc(t,...e){Uu.logLevel<=me.ERROR&&Uu.error(`Auth (${us}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,...e){throw _g(t,...e)}function bn(t,...e){return _g(t,...e)}function wg(t,e,n){const r={...A2(),[e]:n};return new xl("auth","Firebase",r).create(e,{appName:t.name})}function wr(t){return wg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function N2(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&fn(t,"argument-error"),wg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _g(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JT.create(t,...e)}function te(t,e,...n){if(!t)throw _g(e,...n)}function mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xc(e),new Error(e)}function kr(t,e){t||mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function O2(){return Xw()==="http:"||Xw()==="https:"}function Xw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O2()||cN()||"connection"in navigator)?navigator.onLine:!0}function L2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this.shortDelay=e,this.longDelay=n,kr(n>e,"Short delay should be less than long delay!"),this.isMobile=oN()||uN()}get(){return D2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(t,e){kr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],j2=new Sl(3e4,6e4);function Dr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function er(t,e,n,r,i={}){return e1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Tl({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...s};return lN()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&cs(t.emulatorConfig.host)&&(u.credentials="include"),ZT.fetch()(await t1(t,t.config.apiHost,n,a),u)})}async function e1(t,e,n){t._canInitEmulator=!1;const r={...M2,...e};try{const i=new U2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _c(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw _c(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw _c(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw wg(t,d,u);fn(t,d)}}catch(i){if(i instanceof Zn)throw i;fn(t,"network-request-failed",{message:String(i)})}}async function Il(t,e,n,r,i={}){const s=await er(t,e,n,r,i);return"mfaPendingCredential"in s&&fn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function t1(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Eg(t.config,i):`${t.config.apiScheme}://${i}`;return V2.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function F2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bn(this.auth,"network-request-failed")),j2.get())})}}function _c(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bn(t,e,r);return i.customData._tokenResponse=n,i}function Jw(t){return t!==void 0&&t.enterprise!==void 0}class z2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return F2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B2(t,e){return er(t,"GET","/v2/recaptchaConfig",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(t,e){return er(t,"POST","/v1/accounts:delete",e)}async function zu(t,e){return er(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function H2(t,e=!1){const n=vt(t),r=await n.getIdToken(e),i=xg(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Oa(ff(i.auth_time)),issuedAtTime:Oa(ff(i.iat)),expirationTime:Oa(ff(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ff(t){return Number(t)*1e3}function xg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const i=UT(n);return i?JSON.parse(i):(Xc("Failed to decode base64 JWT payload"),null)}catch(i){return Xc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Zw(t){const e=xg(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zn&&W2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function W2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oa(this.lastLoginAt),this.creationTime=Oa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(t){var f;const e=t.auth,n=await t.getIdToken(),r=await uo(t,zu(e,{idToken:n}));te(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?n1(i.providerUserInfo):[],o=G2(t.providerData,s),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Dp(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function K2(t){const e=vt(t);await Bu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function G2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function n1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(t,e){const n=await e1(t,{},async()=>{const r=Tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await t1(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&cs(t.emulatorConfig.host)&&(c.credentials="include"),ZT.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Y2(t,e){return er(t,"POST","/v2/accounts:revokeToken",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");const n=Zw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Q2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Gs;return r&&(te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gs,this.toJSON())}_performRefresh(){return mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class En{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new q2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Dp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await uo(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return H2(this,e)}reload(){return K2(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new En({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zt(this.auth.app))return Promise.reject(wr(this.auth));const e=await this.getIdToken();return await uo(this,$2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:_,providerData:I,stsTokenManager:w}=n;te(f&&w,e,"internal-error");const R=Gs.fromJSON(this.name,w);te(typeof f=="string",e,"internal-error"),Ur(r,e.name),Ur(i,e.name),te(typeof p=="boolean",e,"internal-error"),te(typeof _=="boolean",e,"internal-error"),Ur(s,e.name),Ur(o,e.name),Ur(a,e.name),Ur(c,e.name),Ur(u,e.name),Ur(d,e.name);const E=new En({uid:f,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:_,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:R,createdAt:u,lastLoginAt:d});return I&&Array.isArray(I)&&(E.providerData=I.map(y=>({...y}))),c&&(E._redirectEventId=c),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new Gs;i.updateFromServerResponse(n);const s=new En({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];te(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?n1(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Gs;a.updateFromIdToken(r);const c=new En({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Dp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;function gr(t){kr(t instanceof Function,"Expected a class definition");let e=e_.get(t);return e?(kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,e_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}r1.type="NONE";const t_=r1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t,e,n){return`firebase:${t}:${e}:${n}`}class Qs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zu(this.auth,{idToken:e}).catch(()=>{});return n?En._fromGetAccountInfoResponse(this.auth,n,e):null}return En._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qs(gr(t_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||gr(t_);const o=Jc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let f;if(typeof d=="string"){const p=await zu(e,{idToken:d}).catch(()=>{});if(!p)break;f=await En._fromGetAccountInfoResponse(e,p,d)}else f=En._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Qs(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Qs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(a1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(c1(e))return"Blackberry";if(u1(e))return"Webos";if(s1(e))return"Safari";if((e.includes("chrome/")||o1(e))&&!e.includes("edge/"))return"Chrome";if(l1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function i1(t=Pt()){return/firefox\//i.test(t)}function s1(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o1(t=Pt()){return/crios\//i.test(t)}function a1(t=Pt()){return/iemobile/i.test(t)}function l1(t=Pt()){return/android/i.test(t)}function c1(t=Pt()){return/blackberry/i.test(t)}function u1(t=Pt()){return/webos/i.test(t)}function Tg(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function X2(t=Pt()){var e;return Tg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function J2(){return dN()&&document.documentMode===10}function d1(t=Pt()){return Tg(t)||l1(t)||u1(t)||c1(t)||/windows phone/i.test(t)||a1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t,e=[]){let n;switch(t){case"Browser":n=n_(Pt());break;case"Worker":n=`${n_(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${us}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(t,e={}){return er(t,"GET","/v2/passwordPolicy",Dr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=6;class nO{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??tO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r_(this),this.idTokenSubscription=new r_(this),this.beforeStateQueue=new Z2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Qs.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zu(this,{idToken:e}),r=await En._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(zt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=L2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zt(this.app))return Promise.reject(wr(this));const n=e?vt(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zt(this.app)?Promise.reject(wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zt(this.app)?Promise.reject(wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eO(this),n=new nO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Y2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await Qs.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=h1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&P2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function tr(t){return vt(t)}class r_{constructor(e){this.auth=e,this.observer=null,this.addObserver=wN(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iO(t){Fd=t}function f1(t){return Fd.loadJS(t)}function sO(){return Fd.recaptchaEnterpriseScript}function oO(){return Fd.gapiScript}function aO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class lO{constructor(){this.enterprise=new cO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uO="recaptcha-enterprise",p1="NO_RECAPTCHA";class dO{constructor(e){this.type=uO,this.auth=tr(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{B2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new z2(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;Jw(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(p1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lO().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Jw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=sO();c.length!==0&&(c+=a),f1(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function i_(t,e,n,r=!1,i=!1){const s=new dO(t);let o;if(i)o=p1;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function $u(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await i_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await i_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t,e){const n=jd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Xi(s,e??{}))return i;fn(i,"already-initialized")}return n.initialize({options:e})}function fO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function pO(t,e,n){const r=tr(t);te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=m1(e),{host:o,port:a}=mO(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),te(Xi(u,r.config.emulator)&&Xi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,cs(o)?(pg(`${s}//${o}${c}`),mg("Auth",!0)):gO()}function m1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mO(t){const e=m1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:s_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:s_(o)}}}function s_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}async function yO(t,e){return er(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(t,e){return Il(t,"POST","/v1/accounts:signInWithPassword",Dr(t,e))}async function g1(t,e){return er(t,"POST","/v1/accounts:sendOobCode",Dr(t,e))}async function wO(t,e){return g1(t,e)}async function _O(t,e){return g1(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(t,e){return Il(t,"POST","/v1/accounts:signInWithEmailLink",Dr(t,e))}async function xO(t,e){return Il(t,"POST","/v1/accounts:signInWithEmailLink",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends Sg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new rl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new rl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $u(e,n,"signInWithPassword",vO);case"emailLink":return EO(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $u(e,r,"signUpPassword",yO);case"emailLink":return xO(e,{idToken:n,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(t,e){return Il(t,"POST","/v1/accounts:signInWithIdp",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="http://localhost";class Zi extends Sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Zi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ys(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ys(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ys(e,n)}buildRequest(){const e={requestUri:TO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IO(t){const e=ga(ya(t)).link,n=e?ga(ya(e)).deep_link_id:null,r=ga(ya(t)).deep_link_id;return(r?ga(ya(r)).link:null)||r||n||e||t}class Ig{constructor(e){const n=ga(ya(e)),r=n.apiKey??null,i=n.oobCode??null,s=SO(n.mode??null);te(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=IO(e);try{return new Ig(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(e,n){return rl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ig.parseLink(n);return te(r,"argument-error"),rl._fromEmailAndCode(e,r.code,r.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends bg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends bl{constructor(){super("facebook.com")}static credential(e){return Zi._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";ur.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zi._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return dr.credential(n,r)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends bl{constructor(){super("github.com")}static credential(e){return Zi._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.GITHUB_SIGN_IN_METHOD="github.com";hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends bl{constructor(){super("twitter.com")}static credential(e,n){return Zi._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gr.credential(n,r)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(t,e){return Il(t,"POST","/v1/accounts:signUp",Dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await En._fromIdTokenResponse(e,r,i),o=o_(r);return new es({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=o_(r);return new es({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function o_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends Zn{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hu(e,n,r,i)}}function y1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hu._fromErrorAndOperation(t,s,e,r):s})}async function kO(t,e,n=!1){const r=await uo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return es._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(t,e,n=!1){const{auth:r}=t;if(zt(r.app))return Promise.reject(wr(r));const i="reauthenticate";try{const s=await uo(t,y1(r,i,e,t),n);te(s.idToken,r,"internal-error");const o=xg(s.idToken);te(o,r,"internal-error");const{sub:a}=o;return te(t.uid===a,r,"user-mismatch"),es._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&fn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(t,e,n=!1){if(zt(t.app))return Promise.reject(wr(t));const r="signIn",i=await y1(t,r,e),s=await es._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function RO(t,e){return v1(tr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(t){const e=tr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AO(t,e,n){const r=tr(t);await $u(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",_O)}async function PO(t,e,n){if(zt(t.app))return Promise.reject(wr(t));const r=tr(t),o=await $u(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bO).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&w1(t),c}),a=await es._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function NO(t,e,n){return zt(t.app)?Promise.reject(wr(t)):RO(vt(t),Co.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&w1(t),r})}async function OO(t,e){const n=vt(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await wO(n.auth,i);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(t,e){return er(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=vt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await uo(r,DO(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function MO(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function VO(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function jO(t,e,n,r){return vt(t).onAuthStateChanged(e,n,r)}async function FO(t){return vt(t).delete()}const Wu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wu,"1"),this.storage.removeItem(Wu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=1e3,zO=10;class E1 extends _1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=d1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);J2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}E1.type="LOCAL";const BO=E1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1 extends _1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}x1.type="SESSION";const T1=x1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ud(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await $O(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ud.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=kg("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return window}function WO(t){Bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}async function qO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function GO(){return S1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firebaseLocalStorageDb",QO=1,qu="firebaseLocalStorage",b1="fbase_key";class kl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zd(t,e){return t.transaction([qu],e?"readwrite":"readonly").objectStore(qu)}function YO(){const t=indexedDB.deleteDatabase(I1);return new kl(t).toPromise()}function Lp(){const t=indexedDB.open(I1,QO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qu,{keyPath:b1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qu)?e(r):(r.close(),await YO(),e(await Lp()))})})}async function a_(t,e,n){const r=zd(t,!0).put({[b1]:e,value:n});return new kl(r).toPromise()}async function XO(t,e){const n=zd(t,!1).get(e),r=await new kl(n).toPromise();return r===void 0?null:r.value}function l_(t,e){const n=zd(t,!0).delete(e);return new kl(n).toPromise()}const JO=800,ZO=3;class k1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return S1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ud._getInstance(GO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await qO(),!this.activeServiceWorker)return;this.sender=new HO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lp();return await a_(e,Wu,"1"),await l_(e,Wu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>a_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>l_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=zd(i,!1).getAll();return new kl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}k1.type="LOCAL";const eD=k1;new Sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t,e){return e?gr(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends Sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ys(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ys(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ys(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tD(t){return v1(t.auth,new Cg(t),t.bypassAuthState)}function nD(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),CO(n,new Cg(t),t.bypassAuthState)}async function rD(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),kO(n,new Cg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tD;case"linkViaPopup":case"linkViaRedirect":return rD;case"reauthViaPopup":case"reauthViaRedirect":return nD;default:fn(this.auth,"internal-error")}}resolve(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=new Sl(2e3,1e4);async function sD(t,e,n){if(zt(t.app))return Promise.reject(bn(t,"operation-not-supported-in-this-environment"));const r=tr(t);N2(t,e,bg);const i=C1(r,n);return new Ui(r,"signInViaPopup",e,i).executeNotNull()}class Ui extends R1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ui.currentPopupAction&&Ui.currentPopupAction.cancel(),Ui.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){kr(this.filter.length===1,"Popup operations only handle one event");const e=kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ui.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iD.get())};e()}}Ui.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="pendingRedirect",Zc=new Map;class aD extends R1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const r=await lD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lD(t,e){const n=dD(e),r=uD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function cD(t,e){Zc.set(t._key(),e)}function uD(t){return gr(t._redirectPersistence)}function dD(t){return Jc(oD,t.config.apiKey,t.name)}async function hD(t,e){return await tr(t)._initializationPromise,A1(t,e,!1)}async function A1(t,e,n=!1){if(zt(t.app))return Promise.reject(wr(t));const r=tr(t),i=C1(r,e),o=await new aD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=10*60*1e3;class pD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!P1(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(bn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fD&&this.cachedEventUids.clear(),this.cachedEventUids.has(c_(e))}saveEventToCache(e){this.cachedEventUids.add(c_(e)),this.lastProcessedEventTime=Date.now()}}function c_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function P1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(t,e={}){return er(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vD=/^https?/;async function wD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gD(t);for(const n of e)try{if(_D(n))return}catch{}fn(t,"unauthorized-domain")}function _D(t){const e=Op(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vD.test(n))return!1;if(yD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=new Sl(3e4,6e4);function u_(){const t=Bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xD(t){return new Promise((e,n)=>{var i,s,o;function r(){u_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u_(),n(bn(t,"network-request-failed"))},timeout:ED.get()})}if((s=(i=Bn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Bn().gapi)!=null&&o.load)r();else{const a=aO("iframefcb");return Bn()[a]=()=>{gapi.load?r():n(bn(t,"network-request-failed"))},f1(`${oO()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw eu=null,e})}let eu=null;function TD(t){return eu=eu||xD(t),eu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new Sl(5e3,15e3),ID="__/auth/iframe",bD="emulator/auth/iframe",kD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RD(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Eg(e,bD):`https://${t.config.authDomain}/${ID}`,r={apiKey:e.apiKey,appName:t.name,v:us},i=CD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Tl(r).slice(1)}`}async function AD(t){const e=await TD(t),n=Bn().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:RD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=bn(t,"network-request-failed"),a=Bn().setTimeout(()=>{s(o)},SD.get());function c(){Bn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ND=500,OD=600,DD="_blank",LD="http://localhost";class d_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MD(t,e,n,r=ND,i=OD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...PD,width:r.toString(),height:i.toString(),top:s,left:o},u=Pt().toLowerCase();n&&(a=o1(u)?DD:n),i1(u)&&(e=e||LD,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[_,I])=>`${p}${_}=${I},`,"");if(X2(u)&&a!=="_self")return VD(e||"",a),new d_(null);const f=window.open(e||"",a,d);te(f,t,"popup-blocked");try{f.focus()}catch{}return new d_(f)}function VD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="__/auth/handler",FD="emulator/auth/handler",UD=encodeURIComponent("fac");async function h_(t,e,n,r,i,s){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:us,eventId:i};if(e instanceof bg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof bl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${UD}=${encodeURIComponent(c)}`:"";return`${zD(t)}?${Tl(a).slice(1)}${u}`}function zD({config:t}){return t.emulator?Eg(t,FD):`https://${t.authDomain}/${jD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="webStorageSupport";class BD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T1,this._completeRedirectFn=A1,this._overrideRedirectResult=cD}async _openPopup(e,n,r,i){var o;kr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await h_(e,n,r,Op(),i);return MD(e,s,kg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await h_(e,n,r,Op(),i);return WO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(kr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await AD(e),r=new pD(e);return n.register("authEvent",i=>(te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pf,{type:pf},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[pf];s!==void 0&&n(!!s),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return d1()||s1()||Tg()}}const $D=BD;var f_="@firebase/auth",p_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qD(t){Ji(new hi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h1(t)},u=new rO(r,i,s,c);return fO(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ji(new hi("auth-internal",e=>{const n=tr(e.getProvider("auth").getImmediate());return(r=>new HD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(f_,p_,WD(t)),zn(f_,p_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=5*60,GD=HT("authIdTokenMaxAge")||KD;let m_=null;const QD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GD)return;const i=n==null?void 0:n.token;m_!==i&&(m_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function YD(t=vg()){const e=jd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hO(t,{popupRedirectResolver:$D,persistence:[eD,BO,T1]}),r=HT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=QD(s.toString());VO(n,o,()=>o(n.currentUser)),MO(n,a=>o(a))}}const i=zT("auth");return i&&pO(n,`http://${i}`),n}function XD(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}iO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=bn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",XD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qD("Browser");var JD="firebase",ZD="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(JD,ZD,"app");var g_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var li,N1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,v){function b(){}b.prototype=v.prototype,x.D=v.prototype,x.prototype=new b,x.prototype.constructor=x,x.C=function(C,P,N){for(var A=Array(arguments.length-2),W=2;W<arguments.length;W++)A[W-2]=arguments[W];return v.prototype[P].apply(C,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,v,b){b||(b=0);var C=Array(16);if(typeof v=="string")for(var P=0;16>P;++P)C[P]=v.charCodeAt(b++)|v.charCodeAt(b++)<<8|v.charCodeAt(b++)<<16|v.charCodeAt(b++)<<24;else for(P=0;16>P;++P)C[P]=v[b++]|v[b++]<<8|v[b++]<<16|v[b++]<<24;v=x.g[0],b=x.g[1],P=x.g[2];var N=x.g[3],A=v+(N^b&(P^N))+C[0]+3614090360&4294967295;v=b+(A<<7&4294967295|A>>>25),A=N+(P^v&(b^P))+C[1]+3905402710&4294967295,N=v+(A<<12&4294967295|A>>>20),A=P+(b^N&(v^b))+C[2]+606105819&4294967295,P=N+(A<<17&4294967295|A>>>15),A=b+(v^P&(N^v))+C[3]+3250441966&4294967295,b=P+(A<<22&4294967295|A>>>10),A=v+(N^b&(P^N))+C[4]+4118548399&4294967295,v=b+(A<<7&4294967295|A>>>25),A=N+(P^v&(b^P))+C[5]+1200080426&4294967295,N=v+(A<<12&4294967295|A>>>20),A=P+(b^N&(v^b))+C[6]+2821735955&4294967295,P=N+(A<<17&4294967295|A>>>15),A=b+(v^P&(N^v))+C[7]+4249261313&4294967295,b=P+(A<<22&4294967295|A>>>10),A=v+(N^b&(P^N))+C[8]+1770035416&4294967295,v=b+(A<<7&4294967295|A>>>25),A=N+(P^v&(b^P))+C[9]+2336552879&4294967295,N=v+(A<<12&4294967295|A>>>20),A=P+(b^N&(v^b))+C[10]+4294925233&4294967295,P=N+(A<<17&4294967295|A>>>15),A=b+(v^P&(N^v))+C[11]+2304563134&4294967295,b=P+(A<<22&4294967295|A>>>10),A=v+(N^b&(P^N))+C[12]+1804603682&4294967295,v=b+(A<<7&4294967295|A>>>25),A=N+(P^v&(b^P))+C[13]+4254626195&4294967295,N=v+(A<<12&4294967295|A>>>20),A=P+(b^N&(v^b))+C[14]+2792965006&4294967295,P=N+(A<<17&4294967295|A>>>15),A=b+(v^P&(N^v))+C[15]+1236535329&4294967295,b=P+(A<<22&4294967295|A>>>10),A=v+(P^N&(b^P))+C[1]+4129170786&4294967295,v=b+(A<<5&4294967295|A>>>27),A=N+(b^P&(v^b))+C[6]+3225465664&4294967295,N=v+(A<<9&4294967295|A>>>23),A=P+(v^b&(N^v))+C[11]+643717713&4294967295,P=N+(A<<14&4294967295|A>>>18),A=b+(N^v&(P^N))+C[0]+3921069994&4294967295,b=P+(A<<20&4294967295|A>>>12),A=v+(P^N&(b^P))+C[5]+3593408605&4294967295,v=b+(A<<5&4294967295|A>>>27),A=N+(b^P&(v^b))+C[10]+38016083&4294967295,N=v+(A<<9&4294967295|A>>>23),A=P+(v^b&(N^v))+C[15]+3634488961&4294967295,P=N+(A<<14&4294967295|A>>>18),A=b+(N^v&(P^N))+C[4]+3889429448&4294967295,b=P+(A<<20&4294967295|A>>>12),A=v+(P^N&(b^P))+C[9]+568446438&4294967295,v=b+(A<<5&4294967295|A>>>27),A=N+(b^P&(v^b))+C[14]+3275163606&4294967295,N=v+(A<<9&4294967295|A>>>23),A=P+(v^b&(N^v))+C[3]+4107603335&4294967295,P=N+(A<<14&4294967295|A>>>18),A=b+(N^v&(P^N))+C[8]+1163531501&4294967295,b=P+(A<<20&4294967295|A>>>12),A=v+(P^N&(b^P))+C[13]+2850285829&4294967295,v=b+(A<<5&4294967295|A>>>27),A=N+(b^P&(v^b))+C[2]+4243563512&4294967295,N=v+(A<<9&4294967295|A>>>23),A=P+(v^b&(N^v))+C[7]+1735328473&4294967295,P=N+(A<<14&4294967295|A>>>18),A=b+(N^v&(P^N))+C[12]+2368359562&4294967295,b=P+(A<<20&4294967295|A>>>12),A=v+(b^P^N)+C[5]+4294588738&4294967295,v=b+(A<<4&4294967295|A>>>28),A=N+(v^b^P)+C[8]+2272392833&4294967295,N=v+(A<<11&4294967295|A>>>21),A=P+(N^v^b)+C[11]+1839030562&4294967295,P=N+(A<<16&4294967295|A>>>16),A=b+(P^N^v)+C[14]+4259657740&4294967295,b=P+(A<<23&4294967295|A>>>9),A=v+(b^P^N)+C[1]+2763975236&4294967295,v=b+(A<<4&4294967295|A>>>28),A=N+(v^b^P)+C[4]+1272893353&4294967295,N=v+(A<<11&4294967295|A>>>21),A=P+(N^v^b)+C[7]+4139469664&4294967295,P=N+(A<<16&4294967295|A>>>16),A=b+(P^N^v)+C[10]+3200236656&4294967295,b=P+(A<<23&4294967295|A>>>9),A=v+(b^P^N)+C[13]+681279174&4294967295,v=b+(A<<4&4294967295|A>>>28),A=N+(v^b^P)+C[0]+3936430074&4294967295,N=v+(A<<11&4294967295|A>>>21),A=P+(N^v^b)+C[3]+3572445317&4294967295,P=N+(A<<16&4294967295|A>>>16),A=b+(P^N^v)+C[6]+76029189&4294967295,b=P+(A<<23&4294967295|A>>>9),A=v+(b^P^N)+C[9]+3654602809&4294967295,v=b+(A<<4&4294967295|A>>>28),A=N+(v^b^P)+C[12]+3873151461&4294967295,N=v+(A<<11&4294967295|A>>>21),A=P+(N^v^b)+C[15]+530742520&4294967295,P=N+(A<<16&4294967295|A>>>16),A=b+(P^N^v)+C[2]+3299628645&4294967295,b=P+(A<<23&4294967295|A>>>9),A=v+(P^(b|~N))+C[0]+4096336452&4294967295,v=b+(A<<6&4294967295|A>>>26),A=N+(b^(v|~P))+C[7]+1126891415&4294967295,N=v+(A<<10&4294967295|A>>>22),A=P+(v^(N|~b))+C[14]+2878612391&4294967295,P=N+(A<<15&4294967295|A>>>17),A=b+(N^(P|~v))+C[5]+4237533241&4294967295,b=P+(A<<21&4294967295|A>>>11),A=v+(P^(b|~N))+C[12]+1700485571&4294967295,v=b+(A<<6&4294967295|A>>>26),A=N+(b^(v|~P))+C[3]+2399980690&4294967295,N=v+(A<<10&4294967295|A>>>22),A=P+(v^(N|~b))+C[10]+4293915773&4294967295,P=N+(A<<15&4294967295|A>>>17),A=b+(N^(P|~v))+C[1]+2240044497&4294967295,b=P+(A<<21&4294967295|A>>>11),A=v+(P^(b|~N))+C[8]+1873313359&4294967295,v=b+(A<<6&4294967295|A>>>26),A=N+(b^(v|~P))+C[15]+4264355552&4294967295,N=v+(A<<10&4294967295|A>>>22),A=P+(v^(N|~b))+C[6]+2734768916&4294967295,P=N+(A<<15&4294967295|A>>>17),A=b+(N^(P|~v))+C[13]+1309151649&4294967295,b=P+(A<<21&4294967295|A>>>11),A=v+(P^(b|~N))+C[4]+4149444226&4294967295,v=b+(A<<6&4294967295|A>>>26),A=N+(b^(v|~P))+C[11]+3174756917&4294967295,N=v+(A<<10&4294967295|A>>>22),A=P+(v^(N|~b))+C[2]+718787259&4294967295,P=N+(A<<15&4294967295|A>>>17),A=b+(N^(P|~v))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+v&4294967295,x.g[1]=x.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+N&4294967295}r.prototype.u=function(x,v){v===void 0&&(v=x.length);for(var b=v-this.blockSize,C=this.B,P=this.h,N=0;N<v;){if(P==0)for(;N<=b;)i(this,x,N),N+=this.blockSize;if(typeof x=="string"){for(;N<v;)if(C[P++]=x.charCodeAt(N++),P==this.blockSize){i(this,C),P=0;break}}else for(;N<v;)if(C[P++]=x[N++],P==this.blockSize){i(this,C),P=0;break}}this.h=P,this.o+=v},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var v=1;v<x.length-8;++v)x[v]=0;var b=8*this.o;for(v=x.length-8;v<x.length;++v)x[v]=b&255,b/=256;for(this.u(x),x=Array(16),v=b=0;4>v;++v)for(var C=0;32>C;C+=8)x[b++]=this.g[v]>>>C&255;return x};function s(x,v){var b=a;return Object.prototype.hasOwnProperty.call(b,x)?b[x]:b[x]=v(x)}function o(x,v){this.h=v;for(var b=[],C=!0,P=x.length-1;0<=P;P--){var N=x[P]|0;C&&N==v||(b[P]=N,C=!1)}this.g=b}var a={};function c(x){return-128<=x&&128>x?s(x,function(v){return new o([v|0],0>v?-1:0)}):new o([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return f;if(0>x)return R(u(-x));for(var v=[],b=1,C=0;x>=b;C++)v[C]=x/b|0,b*=4294967296;return new o(v,0)}function d(x,v){if(x.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(x.charAt(0)=="-")return R(d(x.substring(1),v));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(v,8)),C=f,P=0;P<x.length;P+=8){var N=Math.min(8,x.length-P),A=parseInt(x.substring(P,P+N),v);8>N?(N=u(Math.pow(v,N)),C=C.j(N).add(u(A))):(C=C.j(b),C=C.add(u(A)))}return C}var f=c(0),p=c(1),_=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-R(this).m();for(var x=0,v=1,b=0;b<this.g.length;b++){var C=this.i(b);x+=(0<=C?C:4294967296+C)*v,v*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I(this))return"0";if(w(this))return"-"+R(this).toString(x);for(var v=u(Math.pow(x,6)),b=this,C="";;){var P=O(b,v).g;b=E(b,P.j(v));var N=((0<b.g.length?b.g[0]:b.h)>>>0).toString(x);if(b=P,I(b))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function I(x){if(x.h!=0)return!1;for(var v=0;v<x.g.length;v++)if(x.g[v]!=0)return!1;return!0}function w(x){return x.h==-1}t.l=function(x){return x=E(this,x),w(x)?-1:I(x)?0:1};function R(x){for(var v=x.g.length,b=[],C=0;C<v;C++)b[C]=~x.g[C];return new o(b,~x.h).add(p)}t.abs=function(){return w(this)?R(this):this},t.add=function(x){for(var v=Math.max(this.g.length,x.g.length),b=[],C=0,P=0;P<=v;P++){var N=C+(this.i(P)&65535)+(x.i(P)&65535),A=(N>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);C=A>>>16,N&=65535,A&=65535,b[P]=A<<16|N}return new o(b,b[b.length-1]&-2147483648?-1:0)};function E(x,v){return x.add(R(v))}t.j=function(x){if(I(this)||I(x))return f;if(w(this))return w(x)?R(this).j(R(x)):R(R(this).j(x));if(w(x))return R(this.j(R(x)));if(0>this.l(_)&&0>x.l(_))return u(this.m()*x.m());for(var v=this.g.length+x.g.length,b=[],C=0;C<2*v;C++)b[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<x.g.length;P++){var N=this.i(C)>>>16,A=this.i(C)&65535,W=x.i(P)>>>16,re=x.i(P)&65535;b[2*C+2*P]+=A*re,y(b,2*C+2*P),b[2*C+2*P+1]+=N*re,y(b,2*C+2*P+1),b[2*C+2*P+1]+=A*W,y(b,2*C+2*P+1),b[2*C+2*P+2]+=N*W,y(b,2*C+2*P+2)}for(C=0;C<v;C++)b[C]=b[2*C+1]<<16|b[2*C];for(C=v;C<2*v;C++)b[C]=0;return new o(b,0)};function y(x,v){for(;(x[v]&65535)!=x[v];)x[v+1]+=x[v]>>>16,x[v]&=65535,v++}function S(x,v){this.g=x,this.h=v}function O(x,v){if(I(v))throw Error("division by zero");if(I(x))return new S(f,f);if(w(x))return v=O(R(x),v),new S(R(v.g),R(v.h));if(w(v))return v=O(x,R(v)),new S(R(v.g),v.h);if(30<x.g.length){if(w(x)||w(v))throw Error("slowDivide_ only works with positive integers.");for(var b=p,C=v;0>=C.l(x);)b=D(b),C=D(C);var P=V(b,1),N=V(C,1);for(C=V(C,2),b=V(b,2);!I(C);){var A=N.add(C);0>=A.l(x)&&(P=P.add(b),N=A),C=V(C,1),b=V(b,1)}return v=E(x,P.j(v)),new S(P,v)}for(P=f;0<=x.l(v);){for(b=Math.max(1,Math.floor(x.m()/v.m())),C=Math.ceil(Math.log(b)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=u(b),A=N.j(v);w(A)||0<A.l(x);)b-=C,N=u(b),A=N.j(v);I(N)&&(N=p),P=P.add(N),x=E(x,A)}return new S(P,x)}t.A=function(x){return O(this,x).h},t.and=function(x){for(var v=Math.max(this.g.length,x.g.length),b=[],C=0;C<v;C++)b[C]=this.i(C)&x.i(C);return new o(b,this.h&x.h)},t.or=function(x){for(var v=Math.max(this.g.length,x.g.length),b=[],C=0;C<v;C++)b[C]=this.i(C)|x.i(C);return new o(b,this.h|x.h)},t.xor=function(x){for(var v=Math.max(this.g.length,x.g.length),b=[],C=0;C<v;C++)b[C]=this.i(C)^x.i(C);return new o(b,this.h^x.h)};function D(x){for(var v=x.g.length+1,b=[],C=0;C<v;C++)b[C]=x.i(C)<<1|x.i(C-1)>>>31;return new o(b,x.h)}function V(x,v){var b=v>>5;v%=32;for(var C=x.g.length-b,P=[],N=0;N<C;N++)P[N]=0<v?x.i(N+b)>>>v|x.i(N+b+1)<<32-v:x.i(N+b);return new o(P,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,N1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,li=o}).apply(typeof g_<"u"?g_:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var O1,va,D1,tu,Mp,L1,M1,V1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,g){return l==Array.prototype||l==Object.prototype||(l[h]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var g=r;l=l.split(".");for(var k=0;k<l.length-1;k++){var M=l[k];if(!(M in g))break e;g=g[M]}l=l[l.length-1],k=g[l],h=h(k),h!=k&&h!=null&&e(g,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var g=0,k=!1,M={next:function(){if(!k&&g<l.length){var j=g++;return{value:h(j,l[j]),done:!1}}return k=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,g){return l.call.apply(l.bind,arguments)}function f(l,h,g){if(!l)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,k),l.apply(h,M)}}return function(){return l.apply(h,arguments)}}function p(l,h,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function _(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var k=g.slice();return k.push.apply(k,arguments),l.apply(this,k)}}function I(l,h){function g(){}g.prototype=h.prototype,l.aa=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(k,M,j){for(var B=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)B[Ie-2]=arguments[Ie];return h.prototype[M].apply(k,B)}}function w(l){const h=l.length;if(0<h){const g=Array(h);for(let k=0;k<h;k++)g[k]=l[k];return g}return[]}function R(l,h){for(let g=1;g<arguments.length;g++){const k=arguments[g];if(c(k)){const M=l.length||0,j=k.length||0;l.length=M+j;for(let B=0;B<j;B++)l[M+B]=k[B]}else l.push(k)}}class E{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(l){return/^[\s\xa0]*$/.test(l)}function S(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function O(l){return O[" "](l),l}O[" "]=function(){};var D=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function V(l,h,g){for(const k in l)h.call(g,l[k],k,l)}function x(l,h){for(const g in l)h.call(void 0,l[g],g,l)}function v(l){const h={};for(const g in l)h[g]=l[g];return h}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,h){let g,k;for(let M=1;M<arguments.length;M++){k=arguments[M];for(g in k)l[g]=k[g];for(let j=0;j<b.length;j++)g=b[j],Object.prototype.hasOwnProperty.call(k,g)&&(l[g]=k[g])}}function P(l){var h=1;l=l.split(":");const g=[];for(;0<h&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function N(l){a.setTimeout(()=>{throw l},0)}function A(){var l=$;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class W{constructor(){this.h=this.g=null}add(h,g){const k=re.get();k.set(h,g),this.h?this.h.next=k:this.g=k,this.h=k}}var re=new E(()=>new Z,l=>l.reset());class Z{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let q,L=!1,$=new W,X=()=>{const l=a.Promise.resolve(void 0);q=()=>{l.then(he)}};var he=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){N(g)}var h=re;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}L=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,h),a.removeEventListener("test",g,h)}catch{}return l}();function He(l,h){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,k=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(D){e:{try{O(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement);this.relatedTarget=h,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ke[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&He.aa.h.call(this)}}I(He,oe);var Ke={2:"touch",3:"pen",4:"mouse"};He.prototype.h=function(){He.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var H="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Me(l,h,g,k,M){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!k,this.ha=M,this.key=++xe,this.da=this.fa=!1}function fe(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ce(l){this.src=l,this.g={},this.h=0}ce.prototype.add=function(l,h,g,k,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var B=lt(l,h,k,M);return-1<B?(h=l[B],g||(h.fa=!1)):(h=new Me(h,this.src,j,!!k,M),h.fa=g,l.push(h)),h};function ue(l,h){var g=h.type;if(g in l.g){var k=l.g[g],M=Array.prototype.indexOf.call(k,h,void 0),j;(j=0<=M)&&Array.prototype.splice.call(k,M,1),j&&(fe(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function lt(l,h,g,k){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==h&&j.capture==!!g&&j.ha==k)return M}return-1}var jt="closure_lm_"+(1e6*Math.random()|0),ir={};function Lr(l,h,g,k,M){if(Array.isArray(h)){for(var j=0;j<h.length;j++)Lr(l,h[j],g,k,M);return null}return g=Ty(g),l&&l[H]?l.K(h,g,u(k)?!!k.capture:!1,M):ki(l,h,g,!1,k,M)}function ki(l,h,g,k,M,j){if(!h)throw Error("Invalid event type");var B=u(M)?!!M.capture:!!M,Ie=dh(l);if(Ie||(l[jt]=Ie=new ce(l)),g=Ie.add(h,g,k,B,j),g.proxy)return g;if(k=ch(),g.proxy=k,k.src=l,k.listener=g,l.addEventListener)_e||(M=B),M===void 0&&(M=!1),l.addEventListener(h.toString(),k,M);else if(l.attachEvent)l.attachEvent(xy(h.toString()),k);else if(l.addListener&&l.removeListener)l.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ch(){function l(g){return h.call(l.src,l.listener,g)}const h=ck;return l}function Ci(l,h,g,k,M){if(Array.isArray(h))for(var j=0;j<h.length;j++)Ci(l,h[j],g,k,M);else k=u(k)?!!k.capture:!!k,g=Ty(g),l&&l[H]?(l=l.i,h=String(h).toString(),h in l.g&&(j=l.g[h],g=lt(j,g,k,M),-1<g&&(fe(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete l.g[h],l.h--)))):l&&(l=dh(l))&&(h=l.g[h.toString()],l=-1,h&&(l=lt(h,g,k,M)),(g=-1<l?h[l]:null)&&uh(g))}function uh(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[H])ue(h.i,l);else{var g=l.type,k=l.proxy;h.removeEventListener?h.removeEventListener(g,k,l.capture):h.detachEvent?h.detachEvent(xy(g),k):h.addListener&&h.removeListener&&h.removeListener(k),(g=dh(h))?(ue(g,l),g.h==0&&(g.src=null,h[jt]=null)):fe(l)}}}function xy(l){return l in ir?ir[l]:ir[l]="on"+l}function ck(l,h){if(l.da)l=!0;else{h=new He(h,this);var g=l.listener,k=l.ha||l.src;l.fa&&uh(l),l=g.call(k,h)}return l}function dh(l){return l=l[jt],l instanceof ce?l:null}var hh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ty(l){return typeof l=="function"?l:(l[hh]||(l[hh]=function(h){return l.handleEvent(h)}),l[hh])}function Et(){le.call(this),this.i=new ce(this),this.M=this,this.F=null}I(Et,le),Et.prototype[H]=!0,Et.prototype.removeEventListener=function(l,h,g,k){Ci(this,l,h,g,k)};function Nt(l,h){var g,k=l.F;if(k)for(g=[];k;k=k.F)g.push(k);if(l=l.M,k=h.type||h,typeof h=="string")h=new oe(h,l);else if(h instanceof oe)h.target=h.target||l;else{var M=h;h=new oe(k,l),C(h,M)}if(M=!0,g)for(var j=g.length-1;0<=j;j--){var B=h.g=g[j];M=Fl(B,k,!0,h)&&M}if(B=h.g=l,M=Fl(B,k,!0,h)&&M,M=Fl(B,k,!1,h)&&M,g)for(j=0;j<g.length;j++)B=h.g=g[j],M=Fl(B,k,!1,h)&&M}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var g=l.g[h],k=0;k<g.length;k++)fe(g[k]);delete l.g[h],l.h--}}this.F=null},Et.prototype.K=function(l,h,g,k){return this.i.add(String(l),h,!1,g,k)},Et.prototype.L=function(l,h,g,k){return this.i.add(String(l),h,!0,g,k)};function Fl(l,h,g,k){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,j=0;j<h.length;++j){var B=h[j];if(B&&!B.da&&B.capture==g){var Ie=B.listener,ct=B.ha||B.src;B.fa&&ue(l.i,B),M=Ie.call(ct,k)!==!1&&M}}return M&&!k.defaultPrevented}function Sy(l,h,g){if(typeof l=="function")g&&(l=p(l,g));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function Iy(l){l.g=Sy(()=>{l.g=null,l.i&&(l.i=!1,Iy(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class uk extends le{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Iy(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zo(l){le.call(this),this.h=l,this.g={}}I(zo,le);var by=[];function ky(l){V(l.g,function(h,g){this.g.hasOwnProperty(g)&&uh(h)},l),l.g={}}zo.prototype.N=function(){zo.aa.N.call(this),ky(this)},zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fh=a.JSON.stringify,dk=a.JSON.parse,hk=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function ph(){}ph.prototype.h=null;function Cy(l){return l.h||(l.h=l.i())}function Ry(){}var Bo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mh(){oe.call(this,"d")}I(mh,oe);function gh(){oe.call(this,"c")}I(gh,oe);var Ri={},Ay=null;function Ul(){return Ay=Ay||new Et}Ri.La="serverreachability";function Py(l){oe.call(this,Ri.La,l)}I(Py,oe);function $o(l){const h=Ul();Nt(h,new Py(h))}Ri.STAT_EVENT="statevent";function Ny(l,h){oe.call(this,Ri.STAT_EVENT,l),this.stat=h}I(Ny,oe);function Ot(l){const h=Ul();Nt(h,new Ny(h,l))}Ri.Ma="timingevent";function Oy(l,h){oe.call(this,Ri.Ma,l),this.size=h}I(Oy,oe);function Ho(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Wo(){this.g=!0}Wo.prototype.xa=function(){this.g=!1};function fk(l,h,g,k,M,j){l.info(function(){if(l.g)if(j)for(var B="",Ie=j.split("&"),ct=0;ct<Ie.length;ct++){var Ee=Ie[ct].split("=");if(1<Ee.length){var xt=Ee[0];Ee=Ee[1];var Tt=xt.split("_");B=2<=Tt.length&&Tt[1]=="type"?B+(xt+"="+Ee+"&"):B+(xt+"=redacted&")}}else B=null;else B=j;return"XMLHTTP REQ ("+k+") [attempt "+M+"]: "+h+`
`+g+`
`+B})}function pk(l,h,g,k,M,j,B){l.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+M+"]: "+h+`
`+g+`
`+j+" "+B})}function ms(l,h,g,k){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+gk(l,g)+(k?" "+k:"")})}function mk(l,h){l.info(function(){return"TIMEOUT: "+h})}Wo.prototype.info=function(){};function gk(l,h){if(!l.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var k=g[l];if(!(2>k.length)){var M=k[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var B=1;B<M.length;B++)M[B]=""}}}}return fh(g)}catch{return h}}var zl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yh;function Bl(){}I(Bl,ph),Bl.prototype.g=function(){return new XMLHttpRequest},Bl.prototype.i=function(){return{}},yh=new Bl;function Mr(l,h,g,k){this.j=l,this.i=h,this.l=g,this.R=k||1,this.U=new zo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ly}function Ly(){this.i=null,this.g="",this.h=!1}var My={},vh={};function wh(l,h,g){l.L=1,l.v=ql(sr(h)),l.m=g,l.P=!0,Vy(l,null)}function Vy(l,h){l.F=Date.now(),$l(l),l.A=sr(l.v);var g=l.A,k=l.R;Array.isArray(k)||(k=[String(k)]),Xy(g.i,"t",k),l.C=0,g=l.j.J,l.h=new Ly,l.g=mv(l.j,g?h:null,!l.m),0<l.O&&(l.M=new uk(p(l.Y,l,l.g),l.O)),h=l.U,g=l.g,k=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(by[0]=M.toString()),M=by);for(var j=0;j<M.length;j++){var B=Lr(g,M[j],k||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),$o(),fk(l.i,l.u,l.A,l.l,l.R,l.m)}Mr.prototype.ca=function(l){l=l.target;const h=this.M;h&&or(l)==3?h.j():this.Y(l)},Mr.prototype.Y=function(l){try{if(l==this.g)e:{const Tt=or(this.g);var h=this.g.Ba();const vs=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||iv(this.g)))){this.J||Tt!=4||h==7||(h==8||0>=vs?$o(3):$o(2)),_h(this);var g=this.g.Z();this.X=g;t:if(jy(this)){var k=iv(this.g);l="";var M=k.length,j=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ai(this),qo(this);var B="";break t}this.h.i=new a.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,l+=this.h.i.decode(k[h],{stream:!(j&&h==M-1)});k.length=0,this.h.g+=l,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=g==200,pk(this.i,this.u,this.A,this.l,this.R,Tt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,ct=this.g;if((Ie=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ie)){var Ee=Ie;break t}}Ee=null}if(g=Ee)ms(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Eh(this,g);else{this.o=!1,this.s=3,Ot(12),Ai(this),qo(this);break e}}if(this.P){g=!0;let mn;for(;!this.J&&this.C<B.length;)if(mn=yk(this,B),mn==vh){Tt==4&&(this.s=4,Ot(14),g=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==My){this.s=4,Ot(15),ms(this.i,this.l,B,"[Invalid Chunk]"),g=!1;break}else ms(this.i,this.l,mn,null),Eh(this,mn);if(jy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||B.length!=0||this.h.h||(this.s=1,Ot(16),g=!1),this.o=this.o&&g,!g)ms(this.i,this.l,B,"[Invalid Chunked Response]"),Ai(this),qo(this);else if(0<B.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),kh(xt),xt.M=!0,Ot(11))}}else ms(this.i,this.l,B,null),Eh(this,B);Tt==4&&Ai(this),this.o&&!this.J&&(Tt==4?dv(this.j,this):(this.o=!1,$l(this)))}else Dk(this.g),g==400&&0<B.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Ai(this),qo(this)}}}catch{}finally{}};function jy(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function yk(l,h){var g=l.C,k=h.indexOf(`
`,g);return k==-1?vh:(g=Number(h.substring(g,k)),isNaN(g)?My:(k+=1,k+g>h.length?vh:(h=h.slice(k,k+g),l.C=k+g,h)))}Mr.prototype.cancel=function(){this.J=!0,Ai(this)};function $l(l){l.S=Date.now()+l.I,Fy(l,l.I)}function Fy(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Ho(p(l.ba,l),h)}function _h(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Mr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(mk(this.i,this.A),this.L!=2&&($o(),Ot(17)),Ai(this),this.s=2,qo(this)):Fy(this,this.S-l)};function qo(l){l.j.G==0||l.J||dv(l.j,l)}function Ai(l){_h(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,ky(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Eh(l,h){try{var g=l.j;if(g.G!=0&&(g.g==l||xh(g.h,l))){if(!l.K&&xh(g.h,l)&&g.G==3){try{var k=g.Da.g.parse(h)}catch{k=null}if(Array.isArray(k)&&k.length==3){var M=k;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Jl(g),Yl(g);else break e;bh(g),Ot(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=Ho(p(g.Za,g),6e3));if(1>=By(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ni(g,11)}else if((l.K||g.g==l)&&Jl(g),!y(h))for(M=g.Da.g.parse(h),h=0;h<M.length;h++){let Ee=M[h];if(g.T=Ee[0],Ee=Ee[1],g.G==2)if(Ee[0]=="c"){g.K=Ee[1],g.ia=Ee[2];const xt=Ee[3];xt!=null&&(g.la=xt,g.j.info("VER="+g.la));const Tt=Ee[4];Tt!=null&&(g.Aa=Tt,g.j.info("SVER="+g.Aa));const vs=Ee[5];vs!=null&&typeof vs=="number"&&0<vs&&(k=1.5*vs,g.L=k,g.j.info("backChannelRequestTimeoutMs_="+k)),k=g;const mn=l.g;if(mn){const ec=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ec){var j=k.h;j.g||ec.indexOf("spdy")==-1&&ec.indexOf("quic")==-1&&ec.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Th(j,j.h),j.h=null))}if(k.D){const Ch=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ch&&(k.ya=Ch,Re(k.I,k.D,Ch))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),k=g;var B=l;if(k.qa=pv(k,k.J?k.ia:null,k.W),B.K){$y(k.h,B);var Ie=B,ct=k.L;ct&&(Ie.I=ct),Ie.B&&(_h(Ie),$l(Ie)),k.g=B}else cv(k);0<g.i.length&&Xl(g)}else Ee[0]!="stop"&&Ee[0]!="close"||Ni(g,7);else g.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Ni(g,7):Ih(g):Ee[0]!="noop"&&g.l&&g.l.ta(Ee),g.v=0)}}$o(4)}catch{}}var vk=class{constructor(l,h){this.g=l,this.map=h}};function Uy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function By(l){return l.h?1:l.g?l.g.size:0}function xh(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Th(l,h){l.g?l.g.add(h):l.h=h}function $y(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Uy.prototype.cancel=function(){if(this.i=Hy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Hy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const g of l.g.values())h=h.concat(g.D);return h}return w(l.i)}function wk(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],g=l.length,k=0;k<g;k++)h.push(l[k]);return h}h=[],g=0;for(k in l)h[g++]=l[k];return h}function _k(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var g=0;g<l;g++)h.push(g);return h}h=[],g=0;for(const k in l)h[g++]=k;return h}}}function Wy(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var g=_k(l),k=wk(l),M=k.length,j=0;j<M;j++)h.call(void 0,k[j],g&&g[j],l)}var qy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ek(l,h){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var k=l[g].indexOf("="),M=null;if(0<=k){var j=l[g].substring(0,k);M=l[g].substring(k+1)}else j=l[g];h(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Pi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Pi){this.h=l.h,Hl(this,l.j),this.o=l.o,this.g=l.g,Wl(this,l.s),this.l=l.l;var h=l.i,g=new Qo;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),Ky(this,g),this.m=l.m}else l&&(h=String(l).match(qy))?(this.h=!1,Hl(this,h[1]||"",!0),this.o=Ko(h[2]||""),this.g=Ko(h[3]||"",!0),Wl(this,h[4]),this.l=Ko(h[5]||"",!0),Ky(this,h[6]||"",!0),this.m=Ko(h[7]||"")):(this.h=!1,this.i=new Qo(null,this.h))}Pi.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Go(h,Gy,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Go(h,Gy,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Go(g,g.charAt(0)=="/"?Sk:Tk,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Go(g,bk)),l.join("")};function sr(l){return new Pi(l)}function Hl(l,h,g){l.j=g?Ko(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Wl(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Ky(l,h,g){h instanceof Qo?(l.i=h,kk(l.i,l.h)):(g||(h=Go(h,Ik)),l.i=new Qo(h,l.h))}function Re(l,h,g){l.i.set(h,g)}function ql(l){return Re(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ko(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Go(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,xk),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function xk(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Gy=/[#\/\?@]/g,Tk=/[#\?:]/g,Sk=/[#\?]/g,Ik=/[#\?@]/g,bk=/#/g;function Qo(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Vr(l){l.g||(l.g=new Map,l.h=0,l.i&&Ek(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=Qo.prototype,t.add=function(l,h){Vr(this),this.i=null,l=gs(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function Qy(l,h){Vr(l),h=gs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Yy(l,h){return Vr(l),h=gs(l,h),l.g.has(h)}t.forEach=function(l,h){Vr(this),this.g.forEach(function(g,k){g.forEach(function(M){l.call(h,M,k,this)},this)},this)},t.na=function(){Vr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let k=0;k<h.length;k++){const M=l[k];for(let j=0;j<M.length;j++)g.push(h[k])}return g},t.V=function(l){Vr(this);let h=[];if(typeof l=="string")Yy(this,l)&&(h=h.concat(this.g.get(gs(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)h=h.concat(l[g])}return h},t.set=function(l,h){return Vr(this),this.i=null,l=gs(this,l),Yy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Xy(l,h,g){Qy(l,h),0<g.length&&(l.i=null,l.g.set(gs(l,h),w(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var k=h[g];const j=encodeURIComponent(String(k)),B=this.V(k);for(k=0;k<B.length;k++){var M=j;B[k]!==""&&(M+="="+encodeURIComponent(String(B[k]))),l.push(M)}}return this.i=l.join("&")};function gs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function kk(l,h){h&&!l.j&&(Vr(l),l.i=null,l.g.forEach(function(g,k){var M=k.toLowerCase();k!=M&&(Qy(this,k),Xy(this,M,g))},l)),l.j=h}function Ck(l,h){const g=new Wo;if(a.Image){const k=new Image;k.onload=_(jr,g,"TestLoadImage: loaded",!0,h,k),k.onerror=_(jr,g,"TestLoadImage: error",!1,h,k),k.onabort=_(jr,g,"TestLoadImage: abort",!1,h,k),k.ontimeout=_(jr,g,"TestLoadImage: timeout",!1,h,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=l}else h(!1)}function Rk(l,h){const g=new Wo,k=new AbortController,M=setTimeout(()=>{k.abort(),jr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:k.signal}).then(j=>{clearTimeout(M),j.ok?jr(g,"TestPingServer: ok",!0,h):jr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),jr(g,"TestPingServer: error",!1,h)})}function jr(l,h,g,k,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),k(g)}catch{}}function Ak(){this.g=new hk}function Pk(l,h,g){const k=g||"";try{Wy(l,function(M,j){let B=M;u(M)&&(B=fh(M)),h.push(k+j+"="+encodeURIComponent(B))})}catch(M){throw h.push(k+"type="+encodeURIComponent("_badmap")),M}}function Kl(l){this.l=l.Ub||null,this.j=l.eb||!1}I(Kl,ph),Kl.prototype.g=function(){return new Gl(this.l,this.j)},Kl.prototype.i=function(l){return function(){return l}}({});function Gl(l,h){Et.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Gl,Et),t=Gl.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Xo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Xo(this)),this.g&&(this.readyState=3,Xo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Yo(this):Xo(this),this.readyState==3&&Jy(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Yo(this))},t.Qa=function(l){this.g&&(this.response=l,Yo(this))},t.ga=function(){this.g&&Yo(this)};function Yo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Xo(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function Xo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Gl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Zy(l){let h="";return V(l,function(g,k){h+=k,h+=":",h+=g,h+=`\r
`}),h}function Sh(l,h,g){e:{for(k in g){var k=!1;break e}k=!0}k||(g=Zy(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Re(l,h,g))}function ze(l){Et.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(ze,Et);var Nk=/^https?$/i,Ok=["POST","PUT"];t=ze.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,g,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yh.g(),this.v=this.o?Cy(this.o):Cy(yh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(j){ev(this,j);return}if(l=g||"",g=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var M in k)g.set(M,k[M]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const j of k.keys())g.set(j,k.get(j));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ok,h,void 0))||k||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,B]of g)this.g.setRequestHeader(j,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rv(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){ev(this,j)}};function ev(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,tv(l),Ql(l)}function tv(l){l.A||(l.A=!0,Nt(l,"complete"),Nt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Nt(this,"complete"),Nt(this,"abort"),Ql(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ql(this,!0)),ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nv(this):this.bb())},t.bb=function(){nv(this)};function nv(l){if(l.h&&typeof o<"u"&&(!l.v[1]||or(l)!=4||l.Z()!=2)){if(l.u&&or(l)==4)Sy(l.Ea,0,l);else if(Nt(l,"readystatechange"),or(l)==4){l.h=!1;try{const B=l.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var k;if(k=B===0){var M=String(l.D).match(qy)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),k=!Nk.test(M?M.toLowerCase():"")}g=k}if(g)Nt(l,"complete"),Nt(l,"success");else{l.m=6;try{var j=2<or(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",tv(l)}}finally{Ql(l)}}}}function Ql(l,h){if(l.g){rv(l);const g=l.g,k=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Nt(l,"ready");try{g.onreadystatechange=k}catch{}}}function rv(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function or(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),dk(h)}};function iv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Dk(l){const h={};l=(l.g&&2<=or(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<l.length;k++){if(y(l[k]))continue;var g=P(l[k]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=h[M]||[];h[M]=j,j.push(g)}x(h,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jo(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function sv(l){this.Aa=0,this.i=[],this.j=new Wo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jo("baseRetryDelayMs",5e3,l),this.cb=Jo("retryDelaySeedMs",1e4,l),this.Wa=Jo("forwardChannelMaxRetries",2,l),this.wa=Jo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Uy(l&&l.concurrentRequestLimit),this.Da=new Ak,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sv.prototype,t.la=8,t.G=1,t.connect=function(l,h,g,k){Ot(0),this.W=l,this.H=h||{},g&&k!==void 0&&(this.H.OSID=g,this.H.OAID=k),this.F=this.X,this.I=pv(this,null,this.W),Xl(this)};function Ih(l){if(ov(l),l.G==3){var h=l.U++,g=sr(l.I);if(Re(g,"SID",l.K),Re(g,"RID",h),Re(g,"TYPE","terminate"),Zo(l,g),h=new Mr(l,l.j,h),h.L=2,h.v=ql(sr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=h.v,g=!0),g||(h.g=mv(h.j,null),h.g.ea(h.v)),h.F=Date.now(),$l(h)}fv(l)}function Yl(l){l.g&&(kh(l),l.g.cancel(),l.g=null)}function ov(l){Yl(l),l.u&&(a.clearTimeout(l.u),l.u=null),Jl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Xl(l){if(!zy(l.h)&&!l.s){l.s=!0;var h=l.Ga;q||X(),L||(q(),L=!0),$.add(h,l),l.B=0}}function Lk(l,h){return By(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Ho(p(l.Ga,l,h),hv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Mr(this,this.j,l);let j=this.o;if(this.S&&(j?(j=v(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var k=this.i[g];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(h+=k,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=lv(this,M,h),g=sr(this.I),Re(g,"RID",l),Re(g,"CVER",22),this.D&&Re(g,"X-HTTP-Session-Id",this.D),Zo(this,g),j&&(this.O?h="headers="+encodeURIComponent(String(Zy(j)))+"&"+h:this.m&&Sh(g,this.m,j)),Th(this.h,M),this.Ua&&Re(g,"TYPE","init"),this.P?(Re(g,"$req",h),Re(g,"SID","null"),M.T=!0,wh(M,g,null)):wh(M,g,h),this.G=2}}else this.G==3&&(l?av(this,l):this.i.length==0||zy(this.h)||av(this))};function av(l,h){var g;h?g=h.l:g=l.U++;const k=sr(l.I);Re(k,"SID",l.K),Re(k,"RID",g),Re(k,"AID",l.T),Zo(l,k),l.m&&l.o&&Sh(k,l.m,l.o),g=new Mr(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),h&&(l.i=h.D.concat(l.i)),h=lv(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Th(l.h,g),wh(g,k,h)}function Zo(l,h){l.H&&V(l.H,function(g,k){Re(h,k,g)}),l.l&&Wy({},function(g,k){Re(h,k,g)})}function lv(l,h,g){g=Math.min(l.i.length,g);var k=l.l?p(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const B=["count="+g];j==-1?0<g?(j=M[0].g,B.push("ofs="+j)):j=0:B.push("ofs="+j);let Ie=!0;for(let ct=0;ct<g;ct++){let Ee=M[ct].g;const xt=M[ct].map;if(Ee-=j,0>Ee)j=Math.max(0,M[ct].g-100),Ie=!1;else try{Pk(xt,B,"req"+Ee+"_")}catch{k&&k(xt)}}if(Ie){k=B.join("&");break e}}}return l=l.i.splice(0,g),h.D=l,k}function cv(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;q||X(),L||(q(),L=!0),$.add(h,l),l.v=0}}function bh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Ho(p(l.Fa,l),hv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,uv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ho(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),Yl(this),uv(this))};function kh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function uv(l){l.g=new Mr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=sr(l.qa);Re(h,"RID","rpc"),Re(h,"SID",l.K),Re(h,"AID",l.T),Re(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Re(h,"TO",l.ja),Re(h,"TYPE","xmlhttp"),Zo(l,h),l.m&&l.o&&Sh(h,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=ql(sr(h)),g.m=null,g.P=!0,Vy(g,l)}t.Za=function(){this.C!=null&&(this.C=null,Yl(this),bh(this),Ot(19))};function Jl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function dv(l,h){var g=null;if(l.g==h){Jl(l),kh(l),l.g=null;var k=2}else if(xh(l.h,h))g=h.D,$y(l.h,h),k=1;else return;if(l.G!=0){if(h.o)if(k==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var M=l.B;k=Ul(),Nt(k,new Oy(k,g)),Xl(l)}else cv(l);else if(M=h.s,M==3||M==0&&0<h.X||!(k==1&&Lk(l,h)||k==2&&bh(l)))switch(g&&0<g.length&&(h=l.h,h.i=h.i.concat(g)),M){case 1:Ni(l,5);break;case 4:Ni(l,10);break;case 3:Ni(l,6);break;default:Ni(l,2)}}}function hv(l,h){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*h}function Ni(l,h){if(l.j.info("Error code "+h),h==2){var g=p(l.fb,l),k=l.Xa;const M=!k;k=new Pi(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Hl(k,"https"),ql(k),M?Ck(k.toString(),g):Rk(k.toString(),g)}else Ot(2);l.G=0,l.l&&l.l.sa(h),fv(l),ov(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function fv(l){if(l.G=0,l.ka=[],l.l){const h=Hy(l.h);(h.length!=0||l.i.length!=0)&&(R(l.ka,h),R(l.ka,l.i),l.h.i.length=0,w(l.i),l.i.length=0),l.l.ra()}}function pv(l,h,g){var k=g instanceof Pi?sr(g):new Pi(g);if(k.g!="")h&&(k.g=h+"."+k.g),Wl(k,k.s);else{var M=a.location;k=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var j=new Pi(null);k&&Hl(j,k),h&&(j.g=h),M&&Wl(j,M),g&&(j.l=g),k=j}return g=l.D,h=l.ya,g&&h&&Re(k,g,h),Re(k,"VER",l.la),Zo(l,k),k}function mv(l,h,g){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new ze(new Kl({eb:g})):new ze(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gv(){}t=gv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zl(){}Zl.prototype.g=function(l,h){return new Gt(l,h)};function Gt(l,h){Et.call(this),this.g=new sv(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!y(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new ys(this)}I(Gt,Et),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){Ih(this.g)},Gt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=fh(l),l=g);h.i.push(new vk(h.Ya++,l)),h.G==3&&Xl(h)},Gt.prototype.N=function(){this.g.l=null,delete this.j,Ih(this.g),delete this.g,Gt.aa.N.call(this)};function yv(l){mh.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const g in h){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}I(yv,mh);function vv(){gh.call(this),this.status=1}I(vv,gh);function ys(l){this.g=l}I(ys,gv),ys.prototype.ua=function(){Nt(this.g,"a")},ys.prototype.ta=function(l){Nt(this.g,new yv(l))},ys.prototype.sa=function(l){Nt(this.g,new vv)},ys.prototype.ra=function(){Nt(this.g,"b")},Zl.prototype.createWebChannel=Zl.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,V1=function(){return new Zl},M1=function(){return Ul()},L1=Ri,Mp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zl.NO_ERROR=0,zl.TIMEOUT=8,zl.HTTP_ERROR=6,tu=zl,Dy.COMPLETE="complete",D1=Dy,Ry.EventType=Bo,Bo.OPEN="a",Bo.CLOSE="b",Bo.ERROR="c",Bo.MESSAGE="d",Et.prototype.listen=Et.prototype.K,va=Ry,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,O1=ze}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const y_="@firebase/firestore",v_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new gg("@firebase/firestore");function bs(){return ts.logLevel}function K(t,...e){if(ts.logLevel<=me.DEBUG){const n=e.map(Rg);ts.debug(`Firestore (${Ro}): ${t}`,...n)}}function Cr(t,...e){if(ts.logLevel<=me.ERROR){const n=e.map(Rg);ts.error(`Firestore (${Ro}): ${t}`,...n)}}function ho(t,...e){if(ts.logLevel<=me.WARN){const n=e.map(Rg);ts.warn(`Firestore (${Ro}): ${t}`,...n)}}function Rg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,j1(t,r,n)}function j1(t,e,n){let r=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Cr(r),new Error(r)}function Te(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||j1(e,i,r)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class tL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nL{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _r,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _r)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new F1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new kt(e)}}class rL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new rL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class w_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new w_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new w_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=oL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ge(t,e){return t<e?-1:t>e?1:0}function Vp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return mf(i)===mf(s)?ge(i,s):mf(i)?1:-1}return ge(t.length,e.length)}const aL=55296,lL=57343;function mf(t){const e=t.charCodeAt(0);return e>=aL&&e<=lL}function fo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="__name__";class Ln{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ln.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ln?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Ln.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ge(e.length,n.length)}static compareSegments(e,n){const r=Ln.isNumericId(e),i=Ln.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ln.extractNumericId(e).compare(Ln.extractNumericId(n)):Vp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return li.fromString(e.substring(4,e.length-2))}}class Pe extends Ln{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const cL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends Ln{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return cL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===__}static keyField(){return new pt([__])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Pe.fromString(e))}static fromName(e){return new ee(Pe.fromString(e).popFirst(5))}static empty(){return new ee(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Pe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t,e,n){if(!n)throw new J(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uL(t,e,n,r){if(e===!0&&r===!0)throw new J(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function E_(t){if(!ee.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function x_(t){if(ee.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function z1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Pg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function Rr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pg(t);throw new J(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cl(t,e){if(!z1(t))throw new J(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new J(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=-62135596800,S_=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(e){return Ne.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*S_);return new Ne(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<T_)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S_}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cl(e,Ne._jsonSchema))return new Ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-T_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ne._jsonSchemaVersion="firestore/timestamp/1.0",Ne._jsonSchema={type:Xe("string",Ne._jsonSchemaVersion),seconds:Xe("number"),nanoseconds:Xe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Ne(0,0))}static max(){return new ie(new Ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=-1;function dL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new fi(i,ee.empty(),e)}function hL(t){return new fi(t.readTime,t.key,il)}class fi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fi(ie.min(),ee.empty(),il)}static max(){return new fi(ie.max(),ee.empty(),il)}}function fL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==pL)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function gL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=-1;function $d(t){return t==null}function Ku(t){return t===0&&1/t==-1/0}function yL(t){return typeof t=="number"&&Number.isInteger(t)&&!Ku(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="";function vL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=I_(e)),e=wL(t.get(n),e);return I_(e)}function wL(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case B1:n+="";break;default:n+=s}}return n}function I_(t){return t+B1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xc(this.root,e,this.comparator,!0)}}class xc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=s??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rt(this.comparator);return n.data=e,n}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new rt(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new H1("Invalid base64 string: "+s):s}}(e);return new wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const _L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=_L.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mi(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="server_timestamp",q1="__type__",K1="__previous_value__",G1="__local_write_time__";function Og(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[q1])==null?void 0:r.stringValue)===W1}function Hd(t){const e=t.mapValue.fields[K1];return Og(e)?Hd(e):e}function sl(t){const e=pi(t.mapValue.fields[G1].timestampValue);return new Ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n,r,i,s,o,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Gu="(default)";class ol{constructor(e,n){this.projectId=e,this.database=n||Gu}static empty(){return new ol("","")}get isDefaultDatabase(){return this.database===Gu}isEqual(e){return e instanceof ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="__type__",xL="__max__",Tc={mapValue:{}},Y1="__vector__",Qu="value";function gi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Og(t)?4:SL(t)?9007199254740991:TL(t)?10:11:ne(28295,{value:t})}function Gn(t,e){if(t===e)return!0;const n=gi(t);if(n!==gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sl(t).isEqual(sl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=pi(i.timestampValue),a=pi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return mi(i.bytesValue).isEqual(mi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return We(i.geoPointValue.latitude)===We(s.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return We(i.integerValue)===We(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=We(i.doubleValue),a=We(s.doubleValue);return o===a?Ku(o)===Ku(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return fo(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(b_(o)!==b_(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Gn(o[c],a[c])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function al(t,e){return(t.values||[]).find(n=>Gn(n,e))!==void 0}function po(t,e){if(t===e)return 0;const n=gi(t),r=gi(e);if(n!==r)return ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=We(s.integerValue||s.doubleValue),c=We(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return C_(t.timestampValue,e.timestampValue);case 4:return C_(sl(t),sl(e));case 5:return Vp(t.stringValue,e.stringValue);case 6:return function(s,o){const a=mi(s),c=mi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=ge(a[u],c[u]);if(d!==0)return d}return ge(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ge(We(s.latitude),We(o.latitude));return a!==0?a:ge(We(s.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return R_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var p,_,I,w;const a=s.fields||{},c=o.fields||{},u=(p=a[Qu])==null?void 0:p.arrayValue,d=(_=c[Qu])==null?void 0:_.arrayValue,f=ge(((I=u==null?void 0:u.values)==null?void 0:I.length)||0,((w=d==null?void 0:d.values)==null?void 0:w.length)||0);return f!==0?f:R_(u,d)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Tc.mapValue&&o===Tc.mapValue)return 0;if(s===Tc.mapValue)return 1;if(o===Tc.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const p=Vp(c[f],d[f]);if(p!==0)return p;const _=po(a[c[f]],u[d[f]]);if(_!==0)return _}return ge(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{he:n})}}function C_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ge(t,e);const n=pi(t),r=pi(e),i=ge(n.seconds,r.seconds);return i!==0?i:ge(n.nanos,r.nanos)}function R_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=po(n[i],r[i]);if(s)return s}return ge(n.length,r.length)}function mo(t){return jp(t)}function jp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=pi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return mi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=jp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${jp(n.fields[o])}`;return i+"}"}(t.mapValue):ne(61005,{value:t})}function nu(t){switch(gi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hd(t);return e?16+nu(e):16;case 5:return 2*t.stringValue.length;case 6:return mi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+nu(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ds(r.fields,(s,o)=>{i+=s.length+nu(o)}),i}(t.mapValue);default:throw ne(13486,{value:t})}}function Fp(t){return!!t&&"integerValue"in t}function Dg(t){return!!t&&"arrayValue"in t}function A_(t){return!!t&&"nullValue"in t}function P_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ru(t){return!!t&&"mapValue"in t}function TL(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Q1])==null?void 0:r.stringValue)===Y1}function Da(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Da(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Da(t.arrayValue.values[n]);return e}return{...t}}function SL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ru(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Da(n)}setAll(e){let n=pt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Da(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ru(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ru(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ds(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new an(Da(this.value))}}function X1(t){const e=[];return ds(t.fields,(n,r)=>{const i=new pt([n]);if(ru(r)){const s=X1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Rt(e,0,ie.min(),ie.min(),ie.min(),an.empty(),0)}static newFoundDocument(e,n,r,i){return new Rt(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new Rt(e,2,n,ie.min(),ie.min(),an.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,ie.min(),ie.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.position=e,this.inclusive=n}}function N_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=po(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function O_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n="asc"){this.field=e,this.dir=n}}function IL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{}class et extends J1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kL(e,n,r):n==="array-contains"?new AL(e,r):n==="in"?new PL(e,r):n==="not-in"?new NL(e,r):n==="array-contains-any"?new OL(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CL(e,r):new RL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&gi(this.value)===gi(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends J1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qn(e,n)}matches(e){return Z1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Z1(t){return t.op==="and"}function eS(t){return bL(t)&&Z1(t)}function bL(t){for(const e of t.filters)if(e instanceof Qn)return!1;return!0}function Up(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+mo(t.value);if(eS(t))return t.filters.map(e=>Up(e)).join(",");{const e=t.filters.map(n=>Up(n)).join(",");return`${t.op}(${e})`}}function tS(t,e){return t instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&Gn(r.value,i.value)}(t,e):t instanceof Qn?function(r,i){return i instanceof Qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&tS(o,i.filters[a]),!0):!1}(t,e):void ne(19439)}function nS(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`}(t):t instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(nS).join(" ,")+"}"}(t):"Filter"}class kL extends et{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class CL extends et{constructor(e,n){super(e,"in",n),this.keys=rS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RL extends et{constructor(e,n){super(e,"not-in",n),this.keys=rS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class AL extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dg(n)&&al(n.arrayValue,this.value)}}class PL extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&al(this.value.arrayValue,n)}}class NL extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!al(this.value.arrayValue,n)}}class OL extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>al(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function D_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new DL(t,e,n,r,i,s,o)}function Lg(t){const e=se(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Up(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$d(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mo(r)).join(",")),e.Te=n}return e.Te}function Mg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!O_(t.startAt,e.startAt)&&O_(t.endAt,e.endAt)}function zp(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function LL(t,e,n,r,i,s,o,a){return new Wd(t,e,n,r,i,s,o,a)}function Vg(t){return new Wd(t)}function L_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ML(t){return t.collectionGroup!==null}function La(t){const e=se(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new rt(pt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Xu(s,r))}),n.has(pt.keyField().canonicalString())||e.Ie.push(new Xu(pt.keyField(),r))}return e.Ie}function $n(t){const e=se(t);return e.Ee||(e.Ee=VL(e,La(t))),e.Ee}function VL(t,e){if(t.limitType==="F")return D_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Xu(i.field,s)});const n=t.endAt?new Yu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yu(t.startAt.position,t.startAt.inclusive):null;return D_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bp(t,e,n){return new Wd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qd(t,e){return Mg($n(t),$n(e))&&t.limitType===e.limitType}function iS(t){return`${Lg($n(t))}|lt:${t.limitType}`}function ks(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nS(i)).join(", ")}]`),$d(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>mo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>mo(i)).join(",")),`Target(${r})`}($n(t))}; limitType=${t.limitType})`}function Kd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of La(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const u=N_(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,La(r),i)||r.endAt&&!function(o,a,c){const u=N_(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,La(r),i))}(t,e)}function jL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sS(t){return(e,n)=>{let r=!1;for(const i of La(t)){const s=FL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function FL(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?po(c,u):ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return $1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=new Ue(ee.comparator);function Ar(){return UL}const oS=new Ue(ee.comparator);function wa(...t){let e=oS;for(const n of t)e=e.insert(n.key,n);return e}function aS(t){let e=oS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zi(){return Ma()}function lS(){return Ma()}function Ma(){return new hs(t=>t.toString(),(t,e)=>t.isEqual(e))}const zL=new Ue(ee.comparator),BL=new rt(ee.comparator);function ye(...t){let e=BL;for(const n of t)e=e.add(n);return e}const $L=new rt(ge);function HL(){return $L}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ku(e)?"-0":e}}function cS(t){return{integerValue:""+t}}function WL(t,e){return yL(e)?cS(e):jg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(){this._=void 0}}function qL(t,e,n){return t instanceof Ju?function(i,s){const o={fields:{[q1]:{stringValue:W1},[G1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Og(s)&&(s=Hd(s)),s&&(o.fields[K1]=s),{mapValue:o}}(n,e):t instanceof ll?dS(t,e):t instanceof cl?hS(t,e):function(i,s){const o=uS(i,s),a=M_(o)+M_(i.Ae);return Fp(o)&&Fp(i.Ae)?cS(a):jg(i.serializer,a)}(t,e)}function KL(t,e,n){return t instanceof ll?dS(t,e):t instanceof cl?hS(t,e):n}function uS(t,e){return t instanceof Zu?function(r){return Fp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ju extends Gd{}class ll extends Gd{constructor(e){super(),this.elements=e}}function dS(t,e){const n=fS(e);for(const r of t.elements)n.some(i=>Gn(i,r))||n.push(r);return{arrayValue:{values:n}}}class cl extends Gd{constructor(e){super(),this.elements=e}}function hS(t,e){let n=fS(e);for(const r of t.elements)n=n.filter(i=>!Gn(i,r));return{arrayValue:{values:n}}}class Zu extends Gd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function M_(t){return We(t.integerValue||t.doubleValue)}function fS(t){return Dg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function GL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ll&&i instanceof ll||r instanceof cl&&i instanceof cl?fo(r.elements,i.elements,Gn):r instanceof Zu&&i instanceof Zu?Gn(r.Ae,i.Ae):r instanceof Ju&&i instanceof Ju}(t.transform,e.transform)}class QL{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qd{}function pS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fg(t.key,kn.none()):new Rl(t.key,t.data,kn.none());{const n=t.data,r=an.empty();let i=new rt(pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fs(t.key,r,new xn(i.toArray()),kn.none())}}function YL(t,e,n){t instanceof Rl?function(i,s,o){const a=i.value.clone(),c=j_(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof fs?function(i,s,o){if(!iu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=j_(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(mS(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Va(t,e,n,r){return t instanceof Rl?function(s,o,a,c){if(!iu(s.precondition,o))return a;const u=s.value.clone(),d=F_(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof fs?function(s,o,a,c){if(!iu(s.precondition,o))return a;const u=F_(s.fieldTransforms,c,o),d=o.data;return d.setAll(mS(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return iu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function XL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=uS(r.transform,i||null);s!=null&&(n===null&&(n=an.empty()),n.set(r.field,s))}return n||null}function V_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fo(r,i,(s,o)=>GL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rl extends Qd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fs extends Qd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function j_(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,KL(o,a,n[i]))}return r}function F_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,qL(s,o,e))}return r}class Fg extends Qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JL extends Qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&YL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Va(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Va(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=pS(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(n,r)=>V_(n,r))&&fo(this.baseMutations,e.baseMutations,(n,r)=>V_(n,r))}}class Ug{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return zL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ug(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,ve;function nM(t){switch(t){case U.OK:return ne(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function gS(t){if(t===void 0)return Cr("GRPC error has no .code"),U.UNKNOWN;switch(t){case Ge.OK:return U.OK;case Ge.CANCELLED:return U.CANCELLED;case Ge.UNKNOWN:return U.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return U.INTERNAL;case Ge.UNAVAILABLE:return U.UNAVAILABLE;case Ge.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Ge.NOT_FOUND:return U.NOT_FOUND;case Ge.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Ge.ABORTED:return U.ABORTED;case Ge.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Ge.DATA_LOSS:return U.DATA_LOSS;default:return ne(39323,{code:t})}}(ve=Ge||(Ge={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=new li([4294967295,4294967295],0);function U_(t){const e=rM().encode(t),n=new N1;return n.update(e),new Uint8Array(n.digest())}function z_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new li([n,r],0),new li([i,s],0)]}class zg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _a(`Invalid padding: ${n}`);if(r<0)throw new _a(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _a(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _a(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=li.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(li.fromNumber(r)));return i.compare(iM)===1&&(i=new li([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=U_(e),[r,i]=z_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new zg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=U_(e),[r,i]=z_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _a extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Al.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yd(ie.min(),i,new Ue(ge),Ar(),ye())}}class Al{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Al(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class yS{constructor(e,n){this.targetId=e,this.Ce=n}}class vS{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class B_{constructor(){this.ve=0,this.Fe=$_(),this.Me=wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ye(),n=ye(),r=ye();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne(38017,{changeType:s})}}),new Al(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=$_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ar(),this.Je=Sc(),this.He=Sc(),this.Ye=new Ue(ge)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(zp(s))if(r===0){const o=new ee(s.path);this.et(n,o,Rt.newNoDocument(o,ie.min()))}else Te(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=mi(r).toUint8Array()}catch(c){if(c instanceof H1)return ho("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new zg(o,i,s)}catch(c){return ho(c instanceof _a?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&zp(a.target)){const c=new ee(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Rt.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=ye();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Yd(e,n,this.Ye,this.je,r);return this.je=Ar(),this.Je=Sc(),this.He=Sc(),this.Ye=new Ue(ge),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new B_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rt(ge),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rt(ge),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new B_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sc(){return new Ue(ee.comparator)}function $_(){return new Ue(ee.comparator)}const oM={asc:"ASCENDING",desc:"DESCENDING"},aM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lM={and:"AND",or:"OR"};class cM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $p(t,e){return t.useProto3Json||$d(e)?e:{value:e}}function ed(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uM(t,e){return ed(t,e.toTimestamp())}function Hn(t){return Te(!!t,49232),ie.fromTimestamp(function(n){const r=pi(n);return new Ne(r.seconds,r.nanos)}(t))}function Bg(t,e){return Hp(t,e).canonicalString()}function Hp(t,e){const n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _S(t){const e=Pe.fromString(t);return Te(IS(e),10190,{key:e.toString()}),e}function Wp(t,e){return Bg(t.databaseId,e.path)}function gf(t,e){const n=_S(e);if(n.get(1)!==t.databaseId.projectId)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(xS(n))}function ES(t,e){return Bg(t.databaseId,e)}function dM(t){const e=_S(t);return e.length===4?Pe.emptyPath():xS(e)}function qp(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xS(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function H_(t,e,n){return{name:Wp(t,e),fields:n.value.mapValue.fields}}function hM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Te(d===void 0||typeof d=="string",58123),wt.fromBase64String(d||"")):(Te(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),wt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?U.UNKNOWN:gS(u.code);return new J(d,u.message||"")}(o);n=new vS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gf(t,r.document.name),s=Hn(r.document.updateTime),o=r.document.createTime?Hn(r.document.createTime):ie.min(),a=new an({mapValue:{fields:r.document.fields}}),c=Rt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new su(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gf(t,r.document),s=r.readTime?Hn(r.readTime):ie.min(),o=Rt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new su([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gf(t,r.document),s=r.removedTargetIds||[];n=new su([],s,i,null)}else{if(!("filter"in e))return ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new tM(i,s),a=r.targetId;n=new yS(a,o)}}return n}function fM(t,e){let n;if(e instanceof Rl)n={update:H_(t,e.key,e.value)};else if(e instanceof Fg)n={delete:Wp(t,e.key)};else if(e instanceof fs)n={update:H_(t,e.key,e.data),updateMask:xM(e.fieldMask)};else{if(!(e instanceof JL))return ne(16599,{Vt:e.type});n={verify:Wp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ju)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ll)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Zu)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:uM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne(27497)}(t,e.precondition)),n}function pM(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Hn(i.updateTime):Hn(s);return o.isEqual(ie.min())&&(o=Hn(s)),new QL(o,i.transformResults||[])}(n,e))):[]}function mM(t,e){return{documents:[ES(t,e.path)]}}function gM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ES(t,i);const s=function(u){if(u.length!==0)return SS(Qn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Cs(p.field),direction:wM(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=$p(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function yM(t){let e=dM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=TS(f);return p instanceof Qn&&eS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(I){return new Xu(Rs(I.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,$d(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,_=f.values||[];return new Yu(_,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,_=f.values||[];return new Yu(_,p)}(n.endAt)),LL(e,i,o,s,a,"F",c,u)}function vM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rs(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Rs(n.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Rs(n.unaryFilter.field);return et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Rs(n.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return et.create(Rs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(r=>TS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(n.compositeFilter.op))}(t):ne(30097,{filter:t})}function wM(t){return oM[t]}function _M(t){return aM[t]}function EM(t){return lM[t]}function Cs(t){return{fieldPath:t.canonicalString()}}function Rs(t){return pt.fromServerFormat(t.fieldPath)}function SS(t){return t instanceof et?function(n){if(n.op==="=="){if(P_(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NAN"}};if(A_(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(P_(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NAN"}};if(A_(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(n.field),op:_M(n.op),value:n.value}}}(t):t instanceof Qn?function(n){const r=n.getFilters().map(i=>SS(i));return r.length===1?r[0]:{compositeFilter:{op:EM(n.op),filters:r}}}(t):ne(54877,{filter:t})}function xM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,r,i,s=ie.min(),o=ie.min(),a=wt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.yt=e}}function SM(t){const e=yM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.Cn=new bM}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(fi.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(fi.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class bM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rt(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rt(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bS=41943040;class Ft{static withCacheSize(e){return new Ft(e,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ft.DEFAULT_COLLECTION_PERCENTILE=10,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ft.DEFAULT=new Ft(bS,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ft.DISABLED=new Ft(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="LruGarbageCollector",kM=1048576;function K_([t,e],[n,r]){const i=ge(t,n);return i===0?ge(e,r):i}class CM{constructor(e){this.Ir=e,this.buffer=new rt(K_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();K_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){K(q_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?K(q_,"Ignoring IndexedDB error during garbage collection: ",n):await Ao(n)}await this.Vr(3e5)})}}class AM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Bd.ce);const r=new CM(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(W_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),bs()<=me.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function PM(t,e){return new AM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.changes=new hs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Va(r.mutation,i,xn.empty(),Ne.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const i=zi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=wa();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=zi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ar();const o=Ma(),a=function(){return Ma()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof fs)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Va(d.mutation,u,d.mutation.getFieldMask(),Ne.now())):o.set(u.key,xn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>a.set(u,new OM(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Ma();let i=new Ue((o,a)=>o-a),s=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||xn.empty();d=a.applyToLocalView(u,d),r.set(c,d);const f=(i.get(a.batchId)||ye()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,f=lS();d.forEach(p=>{if(!s.has(p)){const _=pS(n.get(p),r.get(p));_!==null&&f.set(p,_),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ML(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(zi());let a=il,c=s;return o.next(u=>F.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ye())).next(d=>({batchId:a,changes:aS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=wa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=wa();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,c=>{const u=function(f,p){return new Wd(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Rt.newInvalidDocument(d)))});let a=wa();return o.forEach((c,u)=>{const d=s.get(c);d!==void 0&&Va(d.mutation,u,xn.empty(),Ne.now()),Kd(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:SM(i.bundledQuery),readTime:Hn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.overlays=new Ue(ee.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zi();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=zi(),s=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ue((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=zi(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=zi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return F.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eM(n,r));let s=this.qr.get(n);s===void 0&&(s=ye(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.Qr=new rt(it.$r),this.Ur=new rt(it.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new it(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new it(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ee(new Pe([])),r=new it(n,e),i=new it(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ee(new Pe([])),r=new it(n,e),i=new it(n,e+1);let s=ye();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new it(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class it{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ee.comparator(e.key,n.key)||ge(e.Yr,n.Yr)}static Kr(e,n){return ge(e.Yr,n.Yr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rt(it.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ZL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new it(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Ng:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new it(n,0),i=new it(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rt(ge);return n.forEach(i=>{const s=new it(i,0),o=new it(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ee.isDocumentKey(s)||(s=s.child(""));const o=new it(new ee(s),0);let a=new rt(ge);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Yr)),!0)},o),F.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,i=>{const s=new it(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new it(n,0),i=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.ri=e,this.docs=function(){return new Ue(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=Ar();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Rt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ar();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||fL(hL(d),r)<=0||(i.has(d.key)||Kd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ne(9500)}ii(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UM(this)}getSize(e){return F.resolve(this.size)}}class UM extends NM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.persistence=e,this.si=new hs(n=>Lg(n),Mg),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.oi=0,this._i=new $g,this.targetCount=0,this.ai=go.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new go(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Bd(0),this.li=!1,this.li=!0,this.hi=new VM,this.referenceDelegate=e(this),this.Pi=new zM(this),this.indexManager=new IM,this.remoteDocumentCache=function(i){return new FM(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new TM(n),this.Ii=new LM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new jM(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new BM(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return F.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class BM extends mL{constructor(e){super(),this.currentSequenceNumber=e}}class Hg{constructor(e){this.persistence=e,this.Ri=new $g,this.Vi=null}static mi(e){return new Hg(e)}get fi(){if(this.Vi)return this.Vi;throw ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,r=>{const i=ee.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ie.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class td{constructor(e,n){this.persistence=e,this.pi=new hs(r=>vL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=PM(this,n)}static mi(e,n){return new td(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ie.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nu(e.data.value)),n}br(e,n,r){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ye(),i=ye();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Wg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return hN()?8:gL(Pt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new $M;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(bs()<=me.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(bs()<=me.DEBUG&&K("QueryEngine","Query:",ks(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(bs()<=me.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(n))):F.resolve())}ys(e,n){if(L_(n))return F.resolve(null);let r=$n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bp(n,null,"F"),r=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ye(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,o,c.readTime)?this.ys(e,Bp(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,i){return L_(n)||i.isEqual(ie.min())?F.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?F.resolve(null):(bs()<=me.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ks(n)),this.vs(e,o,n,dL(i,il)).next(a=>a))})}Ds(e,n){let r=new rt(sS(e));return n.forEach((i,s)=>{Kd(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return bs()<=me.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",ks(n)),this.ps.getDocumentsMatchingQuery(e,n,fi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="LocalStore",WM=3e8;class qM{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Ue(ge),this.xs=new hs(s=>Lg(s),Mg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function KM(t,e,n,r){return new qM(t,e,n,r)}async function CS(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=ye();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function GM(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const f=u.batch,p=f.keys();let _=F.resolve();return p.forEach(I=>{_=_.next(()=>d.getEntry(c,I)).next(w=>{const R=u.docVersions.get(I);Te(R!==null,48541),w.version.compareTo(R)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ye();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function RS(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function QM(t,e){const n=se(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,f)));let _=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(wt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(f,_),function(w,R,E){return w.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=WM?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,_,d)&&a.push(n.Pi.updateTargetData(s,_))});let c=Ar(),u=ye();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(YM(s,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(ie.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ms=i,s))}function YM(t,e,n){let r=ye(),i=ye();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ar();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ie.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):K(qg,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:i}})}function XM(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ng),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JM(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Xr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Kp(t,e,n){const r=se(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Po(o))throw o;K(qg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function G_(t,e,n){const r=se(t);let i=ie.min(),s=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=se(c),p=f.xs.get(d);return p!==void 0?F.resolve(f.Ms.get(p)):f.Pi.getTargetData(u,d)}(r,o,$n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:ie.min(),n?s:ye())).next(a=>(ZM(r,jL(e),a),{documents:a,Qs:s})))}function ZM(t,e,n){let r=t.Os.get(e)||ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class Q_{constructor(){this.activeTargetIds=HL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eV{constructor(){this.Mo=new Q_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Q_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="ConnectivityMonitor";class X_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){K(Y_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){K(Y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ic=null;function Gp(){return Ic===null?Ic=function(){return 268435456+Math.round(2147483648*Math.random())}():Ic++,"0x"+Ic.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="RestConnection",nV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Gu?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=Gp(),a=this.zo(e,n.toUriEncodedString());K(yf,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(a),d=cs(u);return this.Jo(e,a,c,r,d).then(f=>(K(yf,`Received RPC '${e}' ${o}: `,f),f),f=>{throw ho(yf,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=nV[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class sV extends rV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Gp();return new Promise((a,c)=>{const u=new O1;u.setWithCredentials(!0),u.listenOnce(D1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case tu.NO_ERROR:const f=u.getResponseJson();K(bt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case tu.TIMEOUT:K(bt,`RPC '${e}' ${o} timed out`),c(new J(U.DEADLINE_EXCEEDED,"Request time out"));break;case tu.HTTP_ERROR:const p=u.getStatus();if(K(bt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);const I=_==null?void 0:_.error;if(I&&I.status&&I.message){const w=function(E){const y=E.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(I.status);c(new J(w,I.message))}else c(new J(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new J(U.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{K(bt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);K(bt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=Gp(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=V1(),a=M1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");K(bt,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=o.createWebChannel(d,c);this.I_(f);let p=!1,_=!1;const I=new iV({Yo:R=>{_?K(bt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(p||(K(bt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),K(bt,`RPC '${e}' stream ${i} sending:`,R),f.send(R))},Zo:()=>f.close()}),w=(R,E,y)=>{R.listen(E,S=>{try{y(S)}catch(O){setTimeout(()=>{throw O},0)}})};return w(f,va.EventType.OPEN,()=>{_||(K(bt,`RPC '${e}' stream ${i} transport opened.`),I.o_())}),w(f,va.EventType.CLOSE,()=>{_||(_=!0,K(bt,`RPC '${e}' stream ${i} transport closed`),I.a_(),this.E_(f))}),w(f,va.EventType.ERROR,R=>{_||(_=!0,ho(bt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),I.a_(new J(U.UNAVAILABLE,"The operation could not be completed")))}),w(f,va.EventType.MESSAGE,R=>{var E;if(!_){const y=R.data[0];Te(!!y,16349);const S=y,O=(S==null?void 0:S.error)||((E=S[0])==null?void 0:E.error);if(O){K(bt,`RPC '${e}' stream ${i} received error:`,O);const D=O.status;let V=function(b){const C=Ge[b];if(C!==void 0)return gS(C)}(D),x=O.message;V===void 0&&(V=U.INTERNAL,x="Unknown error status: "+D+" with message "+O.message),_=!0,I.a_(new J(V,x)),f.close()}else K(bt,`RPC '${e}' stream ${i} received:`,y),I.u_(y)}}),w(a,L1.STAT_EVENT,R=>{R.stat===Mp.PROXY?K(bt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Mp.NOPROXY&&K(bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){return new cM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="PersistentStream";class PS{constructor(e,n,r,i,s,o,a,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new J(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return K(J_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(K(J_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oV extends PS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=hM(this.serializer,e),r=function(s){if(!("targetChange"in s))return ie.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?Hn(o.readTime):ie.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=qp(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=zp(c)?{documents:mM(s,c)}:{query:gM(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=wS(s,o.resumeToken);const u=$p(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=ed(s,o.snapshotVersion.toTimestamp());const u=$p(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=vM(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=qp(this.serializer),n.removeTarget=e,this.q_(n)}}class aV extends PS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=pM(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=qp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fM(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{}class cV extends lV{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,Hp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(U.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Hp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class uV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cr(n),this.aa=!1):K("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="RemoteStore";class dV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{ps(this)&&(K(ns,"Restarting streams for network reachability change."),await async function(c){const u=se(c);u.Ea.add(4),await Pl(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Jd(u)}(this))})}),this.Ra=new uV(r,i)}}async function Jd(t){if(ps(t))for(const e of t.da)await e(!0)}async function Pl(t){for(const e of t.da)await e(!1)}function NS(t,e){const n=se(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yg(n)?Qg(n):No(n).O_()&&Gg(n,e))}function Kg(t,e){const n=se(t),r=No(n);n.Ia.delete(e),r.O_()&&OS(n,e),n.Ia.size===0&&(r.O_()?r.L_():ps(n)&&n.Ra.set("Unknown"))}function Gg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(t).Y_(e)}function OS(t,e){t.Va.Ue(e),No(t).Z_(e)}function Qg(t){t.Va=new sM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),No(t).start(),t.Ra.ua()}function Yg(t){return ps(t)&&!No(t).x_()&&t.Ia.size>0}function ps(t){return se(t).Ea.size===0}function DS(t){t.Va=void 0}async function hV(t){t.Ra.set("Online")}async function fV(t){t.Ia.forEach((e,n)=>{Gg(t,e)})}async function pV(t,e){DS(t),Yg(t)?(t.Ra.ha(e),Qg(t)):t.Ra.set("Unknown")}async function mV(t,e,n){if(t.Ra.set("Online"),e instanceof vS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){K(ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nd(t,r)}else if(e instanceof su?t.Va.Ze(e):e instanceof yS?t.Va.st(e):t.Va.tt(e),!n.isEqual(ie.min()))try{const r=await RS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=s.Ia.get(c);if(!d)return;s.Ia.set(c,d.withResumeToken(wt.EMPTY_BYTE_STRING,d.snapshotVersion)),OS(s,c);const f=new Xr(d.target,c,u,d.sequenceNumber);Gg(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K(ns,"Failed to raise snapshot:",r),await nd(t,r)}}async function nd(t,e,n){if(!Po(e))throw e;t.Ea.add(1),await Pl(t),t.Ra.set("Offline"),n||(n=()=>RS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(ns,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Jd(t)})}function LS(t,e){return e().catch(n=>nd(t,n,e))}async function Zd(t){const e=se(t),n=yi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ng;for(;gV(e);)try{const i=await XM(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,yV(e,i)}catch(i){await nd(e,i)}MS(e)&&VS(e)}function gV(t){return ps(t)&&t.Ta.length<10}function yV(t,e){t.Ta.push(e);const n=yi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function MS(t){return ps(t)&&!yi(t).x_()&&t.Ta.length>0}function VS(t){yi(t).start()}async function vV(t){yi(t).ra()}async function wV(t){const e=yi(t);for(const n of t.Ta)e.ea(n.mutations)}async function _V(t,e,n){const r=t.Ta.shift(),i=Ug.from(r,e,n);await LS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Zd(t)}async function EV(t,e){e&&yi(t).X_&&await async function(r,i){if(function(o){return nM(o)&&o!==U.ABORTED}(i.code)){const s=r.Ta.shift();yi(r).B_(),await LS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Zd(r)}}(t,e),MS(t)&&VS(t)}async function Z_(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),K(ns,"RemoteStore received new credentials");const r=ps(n);n.Ea.add(3),await Pl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Jd(n)}async function xV(t,e){const n=se(t);e?(n.Ea.delete(2),await Jd(n)):e||(n.Ea.add(2),await Pl(n),n.Ra.set("Unknown"))}function No(t){return t.ma||(t.ma=function(n,r,i){const s=se(n);return s.sa(),new oV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:hV.bind(null,t),t_:fV.bind(null,t),r_:pV.bind(null,t),H_:mV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Yg(t)?Qg(t):t.Ra.set("Unknown")):(await t.ma.stop(),DS(t))})),t.ma}function yi(t){return t.fa||(t.fa=function(n,r,i){const s=se(n);return s.sa(),new aV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:vV.bind(null,t),r_:EV.bind(null,t),ta:wV.bind(null,t),na:_V.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Zd(t)):(await t.fa.stop(),t.Ta.length>0&&(K(ns,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Xg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jg(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),Po(t))return new J(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{static emptySet(e){return new Xs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=wa(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(){this.ga=new Ue(ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class yo{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new yo(e,n,Xs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class SV{constructor(){this.queries=t0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=se(n),s=i.queries;i.queries=t0(),s.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new J(U.ABORTED,"Firestore shutting down"))}}function t0(){return new hs(t=>iS(t),qd)}async function jS(t,e){const n=se(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new TV,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Jg(o,`Initialization of query '${ks(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Zg(n)}async function FS(t,e){const n=se(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IV(t,e){const n=se(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&Zg(n)}function bV(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Zg(t){t.Ca.forEach(e=>{e.next()})}var Qp,n0;(n0=Qp||(Qp={})).Ma="default",n0.Cache="cache";class US{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.key=e}}class BS{constructor(e){this.key=e}}class kV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ye(),this.mutatedKeys=ye(),this.eu=sS(e),this.tu=new Xs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new e0,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),_=Kd(this.query,f)?f:null,I=!!p&&this.mutatedKeys.has(p.key),w=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let R=!1;p&&_?p.data.isEqual(_.data)?I!==w&&(r.track({type:3,doc:_}),R=!0):this.su(p,_)||(r.track({type:2,doc:_}),R=!0,(c&&this.eu(_,c)>0||u&&this.eu(_,u)<0)&&(a=!0)):!p&&_?(r.track({type:0,doc:_}),R=!0):p&&!_&&(r.track({type:1,doc:p}),R=!0,(c||u)&&(a=!0)),R&&(_?(o=o.add(_),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(_,I){const w=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Rt:R})}};return w(_)-w(I)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new yo(this.query,e.tu,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new e0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ye(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new BS(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new zS(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ey="SyncEngine";class CV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RV{constructor(e){this.key=e,this.hu=!1}}class AV{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new hs(a=>iS(a),qd),this.Iu=new Map,this.Eu=new Set,this.du=new Ue(ee.comparator),this.Au=new Map,this.Ru=new $g,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PV(t,e,n=!0){const r=GS(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await $S(r,e,n,!0),i}async function NV(t,e){const n=GS(t);await $S(n,e,!0,!1)}async function $S(t,e,n,r){const i=await JM(t.localStore,$n(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await OV(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&NS(t.remoteStore,i),a}async function OV(t,e,n,r,i){t.pu=(f,p,_)=>async function(w,R,E,y){let S=R.view.ru(E);S.Cs&&(S=await G_(w.localStore,R.query,!1).then(({documents:x})=>R.view.ru(x,S)));const O=y&&y.targetChanges.get(R.targetId),D=y&&y.targetMismatches.get(R.targetId)!=null,V=R.view.applyChanges(S,w.isPrimaryClient,O,D);return i0(w,R.targetId,V.au),V.snapshot}(t,f,p,_);const s=await G_(t.localStore,e,!0),o=new kV(e,s.Qs),a=o.ru(s.documents),c=Al.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);i0(t,n,u.au);const d=new CV(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function DV(t,e,n){const r=se(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!qd(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Kp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Kg(r.remoteStore,i.targetId),Yp(r,i.targetId)}).catch(Ao)):(Yp(r,i.targetId),await Kp(r.localStore,i.targetId,!0))}async function LV(t,e){const n=se(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kg(n.remoteStore,r.targetId))}async function MV(t,e,n){const r=$V(t);try{const i=await function(o,a){const c=se(o),u=Ne.now(),d=a.reduce((_,I)=>_.add(I.key),ye());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let I=Ar(),w=ye();return c.Ns.getEntries(_,d).next(R=>{I=R,I.forEach((E,y)=>{y.isValidDocument()||(w=w.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,I)).next(R=>{f=R;const E=[];for(const y of a){const S=XL(y,f.get(y.key).overlayedDocument);S!=null&&E.push(new fs(y.key,S,X1(S.value.mapValue),kn.exists(!0)))}return c.mutationQueue.addMutationBatch(_,u,E,a)}).next(R=>{p=R;const E=R.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(_,R.batchId,E)})}).then(()=>({batchId:p.batchId,changes:aS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Ue(ge)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Nl(r,i.changes),await Zd(r.remoteStore)}catch(i){const s=Jg(i,"Failed to persist write");n.reject(s)}}async function HS(t,e){const n=se(t);try{const r=await QM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Te(o.hu,14607):i.removedDocuments.size>0&&(Te(o.hu,42227),o.hu=!1))}),await Nl(n,r,e)}catch(r){await Ao(r)}}function r0(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=se(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(a)&&(u=!0)}),u&&Zg(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VV(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Ue(ee.comparator);o=o.insert(s,Rt.newNoDocument(s,ie.min()));const a=ye().add(s),c=new Yd(ie.min(),new Map,new Ue(ge),o,a);await HS(r,c),r.du=r.du.remove(s),r.Au.delete(e),ty(r)}else await Kp(r.localStore,e,!1).then(()=>Yp(r,e,n)).catch(Ao)}async function jV(t,e){const n=se(t),r=e.batch.batchId;try{const i=await GM(n.localStore,e);qS(n,r,null),WS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nl(n,i)}catch(i){await Ao(i)}}async function FV(t,e,n){const r=se(t);try{const i=await function(o,a){const c=se(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Te(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);qS(r,e,n),WS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nl(r,i)}catch(i){await Ao(i)}}function WS(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function qS(t,e,n){const r=se(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Yp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||KS(t,r)})}function KS(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Kg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ty(t))}function i0(t,e,n){for(const r of n)r instanceof zS?(t.Ru.addReference(r.key,e),UV(t,r)):r instanceof BS?(K(ey,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||KS(t,r.key)):ne(19791,{wu:r})}function UV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(K(ey,"New document in limbo: "+n),t.Eu.add(r),ty(t))}function ty(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ee(Pe.fromString(e)),r=t.fu.next();t.Au.set(r,new RV(n)),t.du=t.du.insert(n,r),NS(t.remoteStore,new Xr($n(Vg(n.path)),r,"TargetPurposeLimboResolution",Bd.ce))}}async function Nl(t,e,n){const r=se(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Wg.As(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(c,u){const d=se(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(u,p=>F.forEach(p.Es,_=>d.persistence.referenceDelegate.addReference(f,p.targetId,_)).next(()=>F.forEach(p.ds,_=>d.persistence.referenceDelegate.removeReference(f,p.targetId,_)))))}catch(f){if(!Po(f))throw f;K(qg,"Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const _=d.Ms.get(p),I=_.snapshotVersion,w=_.withLastLimboFreeSnapshotVersion(I);d.Ms=d.Ms.insert(p,w)}}}(r.localStore,s))}async function zV(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){K(ey,"User change. New user:",e.toKey());const r=await CS(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(c=>{c.reject(new J(U.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nl(n,r.Ls)}}function BV(t,e){const n=se(t),r=n.Au.get(e);if(r&&r.hu)return ye().add(r.key);{let i=ye();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function GS(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VV.bind(null,e),e.Pu.H_=IV.bind(null,e.eventManager),e.Pu.yu=bV.bind(null,e.eventManager),e}function $V(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FV.bind(null,e),e}class rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return KM(this.persistence,new HM,e.initialUser,this.serializer)}Cu(e){return new kS(Hg.mi,this.serializer)}Du(e){return new eV}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rd.provider={build:()=>new rd};class HV extends rd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Te(this.persistence.referenceDelegate instanceof td,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new RM(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ft.withCacheSize(this.cacheSizeBytes):Ft.DEFAULT;return new kS(r=>td.mi(r,n),this.serializer)}}class Xp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>r0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zV.bind(null,this.syncEngine),await xV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new SV}()}createDatastore(e){const n=Xd(e.databaseInfo.databaseId),r=function(s){return new sV(s)}(e.databaseInfo);return function(s,o,a,c){return new cV(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new dV(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>r0(this.syncEngine,n,0),function(){return X_.v()?new X_:new tV}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,d){const f=new AV(i,s,o,a,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=se(i);K(ns,"RemoteStore shutting down."),s.Ea.add(5),await Pl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Xp.provider={build:()=>new Xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="FirestoreClient";class WV{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=Ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{K(vi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K(vi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Jg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wf(t,e){t.asyncQueue.verifyOperationInProgress(),K(vi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await CS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function s0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qV(t);K(vi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Z_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Z_(e.remoteStore,i)),t._onlineComponents=e}async function qV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(vi,"Using user provided OfflineComponentProvider");try{await wf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await wf(t,new rd)}}else K(vi,"Using default OfflineComponentProvider"),await wf(t,new HV(void 0));return t._offlineComponents}async function YS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(vi,"Using user provided OnlineComponentProvider"),await s0(t,t._uninitializedComponentsProvider._online)):(K(vi,"Using default OnlineComponentProvider"),await s0(t,new Xp))),t._onlineComponents}function KV(t){return YS(t).then(e=>e.syncEngine)}async function XS(t){const e=await YS(t),n=e.eventManager;return n.onListen=PV.bind(null,e.syncEngine),n.onUnlisten=DV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LV.bind(null,e.syncEngine),n}function GV(t,e,n={}){const r=new _r;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const d=new QS({next:p=>{d.Nu(),o.enqueueAndForget(()=>FS(s,f));const _=p.docs.has(a);!_&&p.fromCache?u.reject(new J(U.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&p.fromCache&&c&&c.source==="server"?u.reject(new J(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new US(Vg(a.path),d,{includeMetadataChanges:!0,qa:!0});return jS(s,f)}(await XS(t),t.asyncQueue,e,n,r)),r.promise}function QV(t,e,n={}){const r=new _r;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const d=new QS({next:p=>{d.Nu(),o.enqueueAndForget(()=>FS(s,f)),p.fromCache&&c.source==="server"?u.reject(new J(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new US(a,d,{includeMetadataChanges:!0,qa:!0});return jS(s,f)}(await XS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="firestore.googleapis.com",a0=!0;class l0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZS,this.ssl=a0}else this.host=e.host,this.ssl=e.ssl??a0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kM)throw new J(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JS(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eL;switch(r.type){case"firstParty":return new iL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=o0.get(n);r&&(K("ComponentProvider","Removing Datastore"),o0.delete(n),r.terminate())}(this),Promise.resolve()}}function YV(t,e,n,r={}){var u;t=Rr(t,eh);const i=cs(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(pg(`https://${a}`),mg("Firestore",!0)),s.host!==ZS&&s.host!==a&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:a,ssl:i,emulatorOptions:r};if(!Xi(c,o)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=kt.MOCK_USER;else{d=WT(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new J(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new kt(p)}t._authCredentials=new tL(new F1(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new th(this.firestore,e,this._query)}}class nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nt(this.firestore,e,this._key)}toJSON(){return{type:nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Cl(n,nt._jsonSchema))return new nt(e,r||null,new ee(Pe.fromString(n.referencePath)))}}nt._jsonSchemaVersion="firestore/documentReference/1.0",nt._jsonSchema={type:Xe("string",nt._jsonSchemaVersion),referencePath:Xe("string")};class ci extends th{constructor(e,n,r){super(e,n,Vg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new ee(e))}withConverter(e){return new ci(this.firestore,e,this._path)}}function ny(t,e,...n){if(t=vt(t),U1("collection","path",e),t instanceof eh){const r=Pe.fromString(e,...n);return x_(r),new ci(t,null,r)}{if(!(t instanceof nt||t instanceof ci))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return x_(r),new ci(t.firestore,null,r)}}function ou(t,e,...n){if(t=vt(t),arguments.length===1&&(e=Ag.newId()),U1("doc","path",e),t instanceof eh){const r=Pe.fromString(e,...n);return E_(r),new nt(t,null,new ee(r))}{if(!(t instanceof nt||t instanceof ci))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return E_(r),new nt(t.firestore,t instanceof ci?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="AsyncQueue";class u0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AS(this,"async_queue_retry"),this._c=()=>{const r=vf();r&&K(c0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=vf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=vf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new _r;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Po(e))throw e;K(c0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Cr("INTERNAL UNHANDLED ERROR: ",d0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Xg.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&ne(47125,{Pc:d0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function d0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Oo extends eh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new u0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u0(e),this._firestoreClient=void 0,await e}}}function XV(t,e){const n=typeof t=="object"?t:vg(),r=typeof t=="string"?t:Gu,i=jd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=BT("firestore");s&&YV(i,...s)}return i}function ry(t){if(t._terminated)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JV(t),t._firestoreClient}function JV(t){var r,i,s;const e=t._freezeSettings(),n=function(a,c,u,d){return new EL(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,JS(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new WV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ln(wt.fromBase64String(e))}catch(n){throw new J(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ln(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cl(e,ln._jsonSchema))return ln.fromBase64String(e.bytes)}}ln._jsonSchemaVersion="firestore/bytes/1.0",ln._jsonSchema={type:Xe("string",ln._jsonSchemaVersion),bytes:Xe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wn._jsonSchemaVersion}}static fromJSON(e){if(Cl(e,Wn._jsonSchema))return new Wn(e.latitude,e.longitude)}}Wn._jsonSchemaVersion="firestore/geoPoint/1.0",Wn._jsonSchema={type:Xe("string",Wn._jsonSchemaVersion),latitude:Xe("number"),longitude:Xe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:qn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cl(e,qn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new qn(e.vectorValues);throw new J(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qn._jsonSchemaVersion="firestore/vectorValue/1.0",qn._jsonSchema={type:Xe("string",qn._jsonSchemaVersion),vectorValues:Xe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=/^__.*__$/;class e4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rl(e,this.data,n,this.fieldTransforms)}}function tI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{Ac:t})}}class sy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return id(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(tI(this.Ac)&&ZV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class t4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xd(e)}Cc(e,n,r,i=!1){return new sy({Ac:e,methodName:n,Dc:r,path:pt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nI(t){const e=t._freezeSettings(),n=Xd(t._databaseId);return new t4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rI(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);aI("Data must be an object, but it was:",o,r);const a=sI(r,o);let c,u;if(s.merge)c=new xn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=n4(e,f,n);if(!o.contains(p))throw new J(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);i4(d,p)||d.push(p)}c=new xn(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new e4(new an(a),c,u)}function iI(t,e){if(oI(t=vt(t)))return aI("Unsupported field value:",e,t),sI(t,e);if(t instanceof eI)return function(r,i){if(!tI(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=iI(a,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ne.fromDate(r);return{timestampValue:ed(i.serializer,s)}}if(r instanceof Ne){const s=new Ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ed(i.serializer,s)}}if(r instanceof Wn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ln)return{bytesValue:wS(i.serializer,r._byteString)};if(r instanceof nt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Bg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qn)return function(o,a){return{mapValue:{fields:{[Q1]:{stringValue:Y1},[Qu]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return jg(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Pg(r)}`)}(t,e)}function sI(t,e){const n={};return $1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(t,(r,i)=>{const s=iI(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function oI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof Wn||t instanceof ln||t instanceof nt||t instanceof eI||t instanceof qn)}function aI(t,e,n){if(!oI(n)||!z1(n)){const r=Pg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function n4(t,e,n){if((e=vt(e))instanceof iy)return e._internalPath;if(typeof e=="string")return lI(t,e);throw id("Field path arguments must be of type string or ",t,!1,void 0,n)}const r4=new RegExp("[~\\*/\\[\\]]");function lI(t,e,n){if(e.search(r4)>=0)throw id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new iy(...e.split("."))._internalPath}catch{throw id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function id(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new J(U.INVALID_ARGUMENT,a+t+c)}function i4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class s4 extends cI{data(){return super.data()}}function uI(t,e){return typeof e=="string"?lI(t,e):e instanceof iy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a4{convertValue(e,n="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ds(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Qu].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>We(o.doubleValue));return new qn(n)}convertGeoPoint(e){return new Wn(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sl(e));default:return null}}convertTimestamp(e){const n=pi(e);return new Ne(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);Te(IS(r),9688,{name:e});const i=new ol(r.get(1),r.get(3)),s=new ee(r.popFirst(5));return i.isEqual(n)||Cr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Ea{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hi extends cI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(uI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Hi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hi._jsonSchema={type:Xe("string",Hi._jsonSchemaVersion),bundleSource:Xe("string","DocumentSnapshot"),bundleName:Xe("string"),bundle:Xe("string")};class au extends Hi{data(e={}){return super.data(e)}}class Js{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ea(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new au(this._firestore,this._userDataWriter,r.key,r,new Ea(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new au(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ea(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new au(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ea(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:l4(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Js._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function l4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(t){t=Rr(t,nt);const e=Rr(t.firestore,Oo);return GV(ry(e),t._key).then(n=>f4(e,t,n))}Js._jsonSchemaVersion="firestore/querySnapshot/1.0",Js._jsonSchema={type:Xe("string",Js._jsonSchemaVersion),bundleSource:Xe("string","QuerySnapshot"),bundleName:Xe("string"),bundle:Xe("string")};class hI extends a4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}}function fI(t){t=Rr(t,th);const e=Rr(t.firestore,Oo),n=ry(e),r=new hI(e);return o4(t._query),QV(n,t._query).then(i=>new Js(e,r,t,i))}function u4(t,e,n){t=Rr(t,nt);const r=Rr(t.firestore,Oo),i=dI(t.converter,e,n);return oy(r,[rI(nI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,kn.none())])}function d4(t){return oy(Rr(t.firestore,Oo),[new Fg(t._key,kn.none())])}function h4(t,e){const n=Rr(t.firestore,Oo),r=ou(t),i=dI(t.converter,e);return oy(n,[rI(nI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function oy(t,e){return function(r,i){const s=new _r;return r.asyncQueue.enqueueAndForget(async()=>MV(await KV(r),i,s)),s.promise}(ry(t),e)}function f4(t,e,n){const r=n.docs.get(e._key),i=new hI(t);return new Hi(t,i,e._key,r,new Ea(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ro=i})(us),Ji(new hi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Oo(new nL(r.getProvider("auth-internal")),new sL(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ol(u.options.projectId,d)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),zn(y_,v_,e),zn(y_,v_,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="firebasestorage.googleapis.com",p4="storageBucket",m4=2*60*1e3,g4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends Zn{constructor(e,n,r=0){super(_f(e),`Firebase Storage: ${n} (${_f(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _f(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Yn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Yn||(Yn={}));function _f(t){return"storage/"+t}function y4(){const t="An unknown error occurred, please check the error payload for server response.";return new nr(Yn.UNKNOWN,t)}function v4(){return new nr(Yn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function w4(){return new nr(Yn.CANCELED,"User canceled the upload/download.")}function _4(t){return new nr(Yn.INVALID_URL,"Invalid URL '"+t+"'.")}function E4(t){return new nr(Yn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function h0(t){return new nr(Yn.INVALID_ARGUMENT,t)}function mI(){return new nr(Yn.APP_DELETED,"The Firebase app was deleted.")}function x4(t){return new nr(Yn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Tn.makeFromUrl(e,n)}catch{return new Tn(e,"")}if(r.path==="")return r;throw E4(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(O){O.path_=decodeURIComponent(O.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",_=new RegExp(`^https?://${f}/${d}/b/${i}/o${p}`,"i"),I={bucket:1,path:3},w=n===pI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",E=new RegExp(`^https?://${w}/${i}/${R}`,"i"),S=[{regex:a,indices:c,postModify:s},{regex:_,indices:I,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let O=0;O<S.length;O++){const D=S[O],V=D.regex.exec(e);if(V){const x=V[D.indices.bucket];let v=V[D.indices.path];v||(v=""),r=new Tn(x,v),D.postModify(r);break}}if(r==null)throw _4(e);return r}}class T4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function d(...R){u||(u=!0,e.apply(null,R))}function f(R){i=setTimeout(()=>{i=null,t(_,c())},R)}function p(){s&&clearTimeout(s)}function _(R,...E){if(u){p();return}if(R){p(),d.call(null,R,...E);return}if(c()||o){p(),d.call(null,R,...E);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,f(S)}let I=!1;function w(R){I||(I=!0,p(),!u&&(i!==null?(R||(a=2),clearTimeout(i),f(0)):R||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function I4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(t){return t!==void 0}function f0(t,e,n,r){if(r<e)throw h0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw h0(`Invalid value for '${t}'. Expected ${n} or less.`)}function k4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var sd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(sd||(sd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n,r,i,s,o,a,c,u,d,f,p=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,w)=>{this.resolve_=I,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new bc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===sd.NO_ERROR,c=s.getStatus();if(!a||C4(c,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===sd.ABORT;r(!1,new bc(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new bc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());b4(c)?s(c):s()}catch(c){o(c)}else if(a!==null){const c=y4();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){const c=this.appDelete_?mI():w4();o(c)}else{const c=v4();o(c)}};this.canceled_?n(!1,new bc(!1,null,!0)):this.backoffId_=S4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&I4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function A4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function P4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function N4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function O4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function D4(t,e,n,r,i,s,o=!0,a=!1){const c=k4(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return N4(d,e),A4(d,n),P4(d,s),O4(d,r),new R4(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function M4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this._service=e,n instanceof Tn?this._location=n:this._location=Tn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new od(e,n)}get root(){const e=new Tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return M4(this._location.path)}get storage(){return this._service}get parent(){const e=L4(this._location.path);if(e===null)return null;const n=new Tn(this._location.bucket,e);return new od(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw x4(e)}}function p0(t,e){const n=e==null?void 0:e[p4];return n==null?null:Tn.makeFromBucketSpec(n,t)}function V4(t,e,n,r={}){t.host=`${e}:${n}`;const i=cs(e);i&&(pg(`https://${t.host}/b`),mg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:WT(s,t.app.options.projectId))}class j4{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=pI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=m4,this._maxUploadRetryTime=g4,this._requests=new Set,i!=null?this._bucket=Tn.makeFromBucketSpec(i,this._host):this._bucket=p0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tn.makeFromBucketSpec(this._url,e):this._bucket=p0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){f0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){f0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new od(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new T4(mI());{const o=D4(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const m0="@firebase/storage",g0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="storage";function F4(t=vg(),e){t=vt(t);const r=jd(t,gI).getImmediate({identifier:e}),i=BT("storage");return i&&U4(r,...i),r}function U4(t,e,n,r={}){V4(t,e,n,r)}function z4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new j4(n,r,i,e,us)}function B4(){Ji(new hi(gI,z4,"PUBLIC").setMultipleInstances(!0)),zn(m0,g0,""),zn(m0,g0,"esm2020")}B4();const $4={apiKey:"AIzaSyB1U1EwlmM_kxG_1BYflfgLOujVyGNRyQA",authDomain:"veho-7fea1.firebaseapp.com",projectId:"veho-7fea1",storageBucket:"veho-7fea1.appspot.com",messagingSenderId:"488503249745",appId:"1:488503249745:web:91062e506bdb5383d26170",measurementId:"G-SVZWH7JQE5"},ay=GT($4),dt=YD(ay),Zs=XV(ay);F4(ay);function Do(){const[t,e]=yt(El);return T.useEffect(()=>{const n=jO(dt,r=>{e(r)});return()=>n()},[e]),t}const pn=xT("hu");function y0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function yI(...t){return e=>{let n=!1;const r=t.map(i=>{const s=y0(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():y0(t[i],null)}}}}function _t(...t){return T.useCallback(yI(...t),t)}function ul(t){const e=W4(t),n=T.forwardRef((r,i)=>{const{children:s,...o}=r,a=T.Children.toArray(s),c=a.find(K4);if(c){const u=c.props.children,d=a.map(f=>f===c?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:f);return m.jsx(e,{...o,ref:i,children:T.isValidElement(u)?T.cloneElement(u,void 0,d):null})}return m.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var H4=ul("Slot");function W4(t){const e=T.forwardRef((n,r)=>{const{children:i,...s}=n;if(T.isValidElement(i)){const o=Q4(i),a=G4(s,i.props);return i.type!==T.Fragment&&(a.ref=r?yI(r,o):o),T.cloneElement(i,a)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var q4=Symbol("radix.slottable");function K4(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===q4}function G4(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const c=s(...a);return i(...a),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Q4(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function vI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=vI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function wI(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=vI(t))&&(r&&(r+=" "),r+=e);return r}const v0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,w0=wI,_I=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return w0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const p=v0(d)||v0(f);return i[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,..._}=d;return Object.entries(_).every(I=>{let[w,R]=I;return Array.isArray(R)?R.includes({...s,...a}[w]):{...s,...a}[w]===R})?[...u,f,p]:u},[]);return w0(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},ly="-",Y4=t=>{const e=J4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(ly);return a[0]===""&&a.length!==1&&a.shift(),EI(a,e)||X4(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},EI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?EI(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(ly);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},_0=/^\[(.+)\]$/,X4=t=>{if(_0.test(t)){const e=_0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},J4=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)Jp(n[i],r,i,e);return r},Jp=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:E0(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Z4(i)){Jp(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Jp(o,E0(e,s),n,r)})})},E0=(t,e)=>{let n=t;return e.split(ly).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Z4=t=>t.isThemeGetter,ej=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Zp="!",em=":",tj=em.length,nj=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,c=0,u;for(let I=0;I<i.length;I++){let w=i[I];if(o===0&&a===0){if(w===em){s.push(i.slice(c,I)),c=I+tj;continue}if(w==="/"){u=I;continue}}w==="["?o++:w==="]"?o--:w==="("?a++:w===")"&&a--}const d=s.length===0?i:i.substring(c),f=rj(d),p=f!==d,_=u&&u>c?u-c:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:_}};if(e){const i=e+em,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},rj=t=>t.endsWith(Zp)?t.substring(0,t.length-1):t.startsWith(Zp)?t.substring(1):t,ij=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},sj=t=>({cache:ej(t.cacheSize),parseClassName:nj(t),sortModifiers:ij(t),...Y4(t)}),oj=/\s+/,aj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(oj);let c="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{isExternal:f,modifiers:p,hasImportantModifier:_,baseClassName:I,maybePostfixModifierPosition:w}=n(d);if(f){c=d+(c.length>0?" "+c:c);continue}let R=!!w,E=r(R?I.substring(0,w):I);if(!E){if(!R){c=d+(c.length>0?" "+c:c);continue}if(E=r(I),!E){c=d+(c.length>0?" "+c:c);continue}R=!1}const y=s(p).join(":"),S=_?y+Zp:y,O=S+E;if(o.includes(O))continue;o.push(O);const D=i(E,R);for(let V=0;V<D.length;++V){const x=D[V];o.push(S+x)}c=d+(c.length>0?" "+c:c)}return c};function lj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=xI(e))&&(r&&(r+=" "),r+=n);return r}const xI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=xI(t[r]))&&(n&&(n+=" "),n+=e);return n};function cj(t,...e){let n,r,i,s=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return n=sj(u),r=n.cache.get,i=n.cache.set,s=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=aj(c,n);return i(c,d),d}return function(){return s(lj.apply(null,arguments))}}const Je=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},TI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,SI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,uj=/^\d+\/\d+$/,dj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,pj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_s=t=>uj.test(t),ae=t=>!!t&&!Number.isNaN(Number(t)),zr=t=>!!t&&Number.isInteger(Number(t)),Ef=t=>t.endsWith("%")&&ae(t.slice(0,-1)),ar=t=>dj.test(t),gj=()=>!0,yj=t=>hj.test(t)&&!fj.test(t),II=()=>!1,vj=t=>pj.test(t),wj=t=>mj.test(t),_j=t=>!Q(t)&&!Y(t),Ej=t=>Lo(t,CI,II),Q=t=>TI.test(t),Oi=t=>Lo(t,RI,yj),xf=t=>Lo(t,bj,ae),x0=t=>Lo(t,bI,II),xj=t=>Lo(t,kI,wj),kc=t=>Lo(t,AI,vj),Y=t=>SI.test(t),ua=t=>Mo(t,RI),Tj=t=>Mo(t,kj),T0=t=>Mo(t,bI),Sj=t=>Mo(t,CI),Ij=t=>Mo(t,kI),Cc=t=>Mo(t,AI,!0),Lo=(t,e,n)=>{const r=TI.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Mo=(t,e,n=!1)=>{const r=SI.exec(t);return r?r[1]?e(r[1]):n:!1},bI=t=>t==="position"||t==="percentage",kI=t=>t==="image"||t==="url",CI=t=>t==="length"||t==="size"||t==="bg-size",RI=t=>t==="length",bj=t=>t==="number",kj=t=>t==="family-name",AI=t=>t==="shadow",Cj=()=>{const t=Je("color"),e=Je("font"),n=Je("text"),r=Je("font-weight"),i=Je("tracking"),s=Je("leading"),o=Je("breakpoint"),a=Je("container"),c=Je("spacing"),u=Je("radius"),d=Je("shadow"),f=Je("inset-shadow"),p=Je("text-shadow"),_=Je("drop-shadow"),I=Je("blur"),w=Je("perspective"),R=Je("aspect"),E=Je("ease"),y=Je("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...O(),Y,Q],V=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],v=()=>[Y,Q,c],b=()=>[_s,"full","auto",...v()],C=()=>[zr,"none","subgrid",Y,Q],P=()=>["auto",{span:["full",zr,Y,Q]},zr,Y,Q],N=()=>[zr,"auto",Y,Q],A=()=>["auto","min","max","fr",Y,Q],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...v()],q=()=>[_s,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],L=()=>[t,Y,Q],$=()=>[...O(),T0,x0,{position:[Y,Q]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],he=()=>["auto","cover","contain",Sj,Ej,{size:[Y,Q]}],le=()=>[Ef,ua,Oi],oe=()=>["","none","full",u,Y,Q],_e=()=>["",ae,ua,Oi],He=()=>["solid","dashed","dotted","double"],Ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>[ae,Ef,T0,x0],xe=()=>["","none",I,Y,Q],Me=()=>["none",ae,Y,Q],fe=()=>["none",ae,Y,Q],ce=()=>[ae,Y,Q],ue=()=>[_s,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ar],breakpoint:[ar],color:[gj],container:[ar],"drop-shadow":[ar],ease:["in","out","in-out"],font:[_j],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ar],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ar],shadow:[ar],spacing:["px",ae],text:[ar],"text-shadow":[ar],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_s,Q,Y,R]}],container:["container"],columns:[{columns:[ae,Q,Y,a]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:b()}],"inset-x":[{"inset-x":b()}],"inset-y":[{"inset-y":b()}],start:[{start:b()}],end:[{end:b()}],top:[{top:b()}],right:[{right:b()}],bottom:[{bottom:b()}],left:[{left:b()}],visibility:["visible","invisible","collapse"],z:[{z:[zr,"auto",Y,Q]}],basis:[{basis:[_s,"full","auto",a,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ae,_s,"auto","initial","none",Q]}],grow:[{grow:["",ae,Y,Q]}],shrink:[{shrink:["",ae,Y,Q]}],order:[{order:[zr,"first","last","none",Y,Q]}],"grid-cols":[{"grid-cols":C()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":C()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[a,"screen",...q()]}],"min-w":[{"min-w":[a,"screen","none",...q()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",n,ua,Oi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Y,xf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ef,Q]}],"font-family":[{font:[Tj,Q,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Y,Q]}],"line-clamp":[{"line-clamp":[ae,"none",Y,xf]}],leading:[{leading:[s,...v()]}],"list-image":[{"list-image":["none",Y,Q]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Y,Q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...He(),"wavy"]}],"text-decoration-thickness":[{decoration:[ae,"from-font","auto",Y,Oi]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[ae,"auto",Y,Q]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Y,Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Y,Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:he()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zr,Y,Q],radial:["",Y,Q],conic:[zr,Y,Q]},Ij,xj]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:le()}],"gradient-via-pos":[{via:le()}],"gradient-to-pos":[{to:le()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:_e()}],"border-w-x":[{"border-x":_e()}],"border-w-y":[{"border-y":_e()}],"border-w-s":[{"border-s":_e()}],"border-w-e":[{"border-e":_e()}],"border-w-t":[{"border-t":_e()}],"border-w-r":[{"border-r":_e()}],"border-w-b":[{"border-b":_e()}],"border-w-l":[{"border-l":_e()}],"divide-x":[{"divide-x":_e()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":_e()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...He(),"hidden","none"]}],"divide-style":[{divide:[...He(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...He(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ae,Y,Q]}],"outline-w":[{outline:["",ae,ua,Oi]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",d,Cc,kc]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",f,Cc,kc]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:_e()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[ae,Oi]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":_e()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",p,Cc,kc]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[ae,Y,Q]}],"mix-blend":[{"mix-blend":[...Ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ae]}],"mask-image-linear-from-pos":[{"mask-linear-from":H()}],"mask-image-linear-to-pos":[{"mask-linear-to":H()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":H()}],"mask-image-t-to-pos":[{"mask-t-to":H()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":H()}],"mask-image-r-to-pos":[{"mask-r-to":H()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":H()}],"mask-image-b-to-pos":[{"mask-b-to":H()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":H()}],"mask-image-l-to-pos":[{"mask-l-to":H()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":H()}],"mask-image-x-to-pos":[{"mask-x-to":H()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":H()}],"mask-image-y-to-pos":[{"mask-y-to":H()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Y,Q]}],"mask-image-radial-from-pos":[{"mask-radial-from":H()}],"mask-image-radial-to-pos":[{"mask-radial-to":H()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[ae]}],"mask-image-conic-from-pos":[{"mask-conic-from":H()}],"mask-image-conic-to-pos":[{"mask-conic-to":H()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:he()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Y,Q]}],filter:[{filter:["","none",Y,Q]}],blur:[{blur:xe()}],brightness:[{brightness:[ae,Y,Q]}],contrast:[{contrast:[ae,Y,Q]}],"drop-shadow":[{"drop-shadow":["","none",_,Cc,kc]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",ae,Y,Q]}],"hue-rotate":[{"hue-rotate":[ae,Y,Q]}],invert:[{invert:["",ae,Y,Q]}],saturate:[{saturate:[ae,Y,Q]}],sepia:[{sepia:["",ae,Y,Q]}],"backdrop-filter":[{"backdrop-filter":["","none",Y,Q]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[ae,Y,Q]}],"backdrop-contrast":[{"backdrop-contrast":[ae,Y,Q]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ae,Y,Q]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ae,Y,Q]}],"backdrop-invert":[{"backdrop-invert":["",ae,Y,Q]}],"backdrop-opacity":[{"backdrop-opacity":[ae,Y,Q]}],"backdrop-saturate":[{"backdrop-saturate":[ae,Y,Q]}],"backdrop-sepia":[{"backdrop-sepia":["",ae,Y,Q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Y,Q]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ae,"initial",Y,Q]}],ease:[{ease:["linear","initial",E,Y,Q]}],delay:[{delay:[ae,Y,Q]}],animate:[{animate:["none",y,Y,Q]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Y,Q]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Me()}],"rotate-x":[{"rotate-x":Me()}],"rotate-y":[{"rotate-y":Me()}],"rotate-z":[{"rotate-z":Me()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:ce()}],"skew-x":[{"skew-x":ce()}],"skew-y":[{"skew-y":ce()}],transform:[{transform:[Y,Q,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Y,Q]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Y,Q]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[ae,ua,Oi,xf]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Rj=cj(Cj);function at(...t){return Rj(wI(t))}const Aj=_I("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ke=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?H4:"button";return m.jsx(o,{className:at(Aj({variant:e,size:n,className:t})),ref:s,...i})});ke.displayName="Button";const Pj={hu:{text:"További információ"},en:{text:"Read More"}};function S0({onClick:t}){const[e]=yt(pn);return m.jsx(ke,{onClick:t,variant:"outline",className:"text-indigo-500 border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-950",children:Pj[e].text})}/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oj=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),I0=t=>{const e=Oj(t);return e.charAt(0).toUpperCase()+e.slice(1)},PI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Dj=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>T.createElement("svg",{ref:c,...Lj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:PI("lucide",i),...!s&&!Dj(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,d])=>T.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(Mj,{ref:s,iconNode:e,className:PI(`lucide-${Nj(I0(t))}`,`lucide-${t}`,r),...i}));return n.displayName=I0(t),n};/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],b0=be("arrow-left",Vj);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Fj=be("check",jj);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],NI=be("chevron-down",Uj);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Bj=be("chevron-left",zj);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hj=be("chevron-right",$j);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qj=be("chevron-up",Wj);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],k0=be("database",Kj);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],C0=be("eye-off",Gj);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ad=be("eye",Qj);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Xj=be("facebook",Yj);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Zj=be("github",Jj);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],OI=be("globe",e3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ld=be("heart",t3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],cd=be("lightbulb",n3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ud=be("lock",r3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],s3=be("log-in",i3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],a3=be("log-out",o3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vo=be("mail",l3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],u3=be("moon",c3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],h3=be("phone",d3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],R0=be("rocket",f3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dd=be("shield",p3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],g3=be("sparkles",m3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],v3=be("sun",y3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],A0=be("target",w3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],DI=be("user",_3);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],wo=be("users",E3),x3={hu:{initial:{title:"Üdvözöl a Veho!",subtitle:"Ahol az ötletek valóra válnak",redButton:"Van ötletem!",greenButton:"Segíteni szeretnék!"},redButtonClicked:{title:"Oszd meg ötletedet!",subtitle:"Hozd létre a következő nagy dolgot"},greenButtonClicked:{title:"Csatlakozz egy ötlethez!",subtitle:"Segítsd megvalósítani mások álmait"}},en:{initial:{title:"Welcome to Veho!",subtitle:"Where ideas become reality",redButton:"I have an idea!",greenButton:"I want to help!"},redButtonClicked:{title:"Share your idea!",subtitle:"Create the next big thing"},greenButtonClicked:{title:"Join an idea!",subtitle:"Help bring others' dreams to life"}}};function T3({scrollTargetRef:t}){const[e,n]=T.useState(!1),[r,i]=T.useState(!1),[s,o]=T.useState(!1),[a]=yt(pn);T.useEffect(()=>{s&&t.current&&t.current.scrollIntoView({behavior:"smooth"})},[s,t]);const c=()=>{n(!0),i(!1)},u=()=>{i(!0),n(!1)},d=()=>{o(!0)},f=p=>x3[a][p];return m.jsxs("section",{className:"relative min-h-screen flex flex-col transition-all duration-500 overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[m.jsx("div",{className:"absolute top-1/4 left-1/6 w-64 h-64 bg-primary/10 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-1/4 right-1/6 w-80 h-80 bg-secondary/10 rounded-full blur-3xl animate-pulse animation-delay-1000"}),m.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-accent/5 rounded-full blur-3xl animate-pulse animation-delay-2000"})]}),m.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(6)].map((p,_)=>m.jsx("div",{className:"absolute w-2 h-2 bg-primary/20 rounded-full animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${_*.5}s`,animationDuration:`${3+Math.random()*2}s`}},_))}),m.jsx("div",{className:"flex-grow flex items-center justify-center relative z-10",children:m.jsx("div",{className:"text-center px-4 max-w-4xl mx-auto",children:e?m.jsxs("div",{className:"animate-fade-in",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-primary/20 to-primary-600/20 rounded-full mb-6 backdrop-blur-sm border border-primary/30",children:m.jsx(cd,{className:"w-10 h-10 text-primary animate-pulse"})}),m.jsx("h1",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-primary via-primary-600 to-primary-700 bg-clip-text text-transparent mb-4 tracking-tight",children:f("redButtonClicked").title}),m.jsx("p",{className:"text-xl md:text-2xl text-white/80 mb-8 font-light",children:f("redButtonClicked").subtitle})]}),m.jsx(S0,{onClick:d})]}):r?m.jsxs("div",{className:"animate-fade-in",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-secondary/20 to-secondary-600/20 rounded-full mb-6 backdrop-blur-sm border border-secondary/30",children:m.jsx(wo,{className:"w-10 h-10 text-secondary animate-pulse"})}),m.jsx("h1",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-secondary via-secondary-600 to-secondary-700 bg-clip-text text-transparent mb-4 tracking-tight",children:f("greenButtonClicked").title}),m.jsx("p",{className:"text-xl md:text-2xl text-white/80 mb-8 font-light",children:f("greenButtonClicked").subtitle})]}),m.jsx(S0,{onClick:d})]}):m.jsxs("div",{className:"animate-fade-in",children:[m.jsxs("div",{className:"mb-12",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-primary/20 via-accent/20 to-secondary/20 rounded-full mb-8 backdrop-blur-sm border border-white/20",children:m.jsx(g3,{className:"w-12 h-12 text-white animate-pulse"})}),m.jsx("h1",{className:"text-6xl md:text-7xl font-bold bg-gradient-to-r from-primary via-accent to-secondary bg-clip-text text-transparent mb-6 tracking-tight",children:f("initial").title}),m.jsx("p",{className:"text-2xl md:text-3xl text-white/90 mb-12 font-light tracking-wide",children:f("initial").subtitle})]}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-center items-center",children:[m.jsxs(ke,{onClick:c,className:"group relative px-8 py-4 bg-gradient-to-r from-primary/80 to-primary-600/80 hover:from-primary hover:to-primary-600 text-white font-semibold rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:shadow-primary/25 transform hover:scale-105 backdrop-blur-sm border border-primary/30",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(cd,{className:"w-5 h-5 transition-transform group-hover:rotate-12"}),m.jsx("span",{className:"text-lg",children:f("initial").redButton})]}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-primary-600/20 rounded-xl blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-secondary/20 rounded-xl blur-md"}),m.jsx("div",{className:"relative bg-white/5 backdrop-blur-sm border border-white/20 rounded-xl p-1",children:m.jsx("span",{className:"text-white/60 text-sm px-4 py-2 block",children:a==="hu"?"vagy":"or"})})]}),m.jsxs(ke,{onClick:u,className:"group relative px-8 py-4 bg-gradient-to-r from-secondary/80 to-secondary-600/80 hover:from-secondary hover:to-secondary-600 text-white font-semibold rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:shadow-secondary/25 transform hover:scale-105 backdrop-blur-sm border border-secondary/30",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(wo,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),m.jsx("span",{className:"text-lg",children:f("initial").greenButton})]}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-secondary/20 to-secondary-600/20 rounded-xl blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]})]})]})})}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/50 to-transparent"})]})}const Es={hu:[{title:"Mi az a Veho?",description:"A Veho egy online platform, ahol könnyedén megoszthatod ötleteidet másokkal, és együttműködhetsz azok megvalósításában, részletesen bemutathatod ötletedet és problémamegoldó képességét.",imagePath:"/idea.png",icon:cd,gradient:"from-primary to-primary-600"},{title:"Van egy ötletem, hogyan tudom megoszthatni?",description:'Az ötletek megosztásához regisztrálnod kell a Veho-ra, majd a főoldalon található "Ötlet megosztása" gombra kattintva tudod feltölteni az ötletedet.',imagePath:"/idea2.png",icon:A0,gradient:"from-accent to-accent-600"},{title:"Nincs ötletem, de szeretnék segíteni másoknak, hogyan tudom ezt megtenni?",description:'Regisztrálj a weboldalon és böngéssz az ötletek között, ha találsz olyat, amiben segíteni tudsz, írj a felhasználónak és egyeztessetek a részletekről. Ha nincs ötleted, de szeretnél segíteni, akkor a főoldalon található "Ötletek" menüpontban tudsz keresni.',imagePath:"/idea3.jpg",icon:ld,gradient:"from-secondary to-secondary-600"},{title:"Hogyan tudok csapatot találni az ötletem megvalósításához?",description:'A Veho-n található ötletek között böngészve találhatsz olyan ötleteket, amelyek érdekelnek, és amelyekhez csatlakozni szeretnél. Az ötlet oldalán található "Csatlakozás" gombra kattintva tudod jelezni az ötlet tulajdonosának, hogy csatlakoznál az ötlet megvalósításához.',imagePath:"/group.jpg",icon:wo,gradient:"from-primary to-accent"},{title:"Hány ötletet tudok megosztani?",description:"Bármennyi ötletet megoszthatsz, amennyit csak szeretnél, azonban arra kérünk, hogy csak olyan ötleteket osztass meg, amelyek valóban megvalósíthatóak és értéket adnak a közösségnek.",imagePath:"/idea3.png",icon:R0,gradient:"from-secondary to-primary"}],en:[{title:"What is Veho?",description:"Veho is an online platform where you can easily share your ideas with others, collaborate on their implementation, showcase your ideas in detail and demonstrate your problem-solving skills.",imagePath:"/idea.png",icon:cd,gradient:"from-primary to-primary-600"},{title:"I have an idea, how can I share it?",description:'To share ideas, you need to register on Veho, then click on the "Share Idea" button on the homepage to upload your idea.',imagePath:"/idea2.png",icon:A0,gradient:"from-accent to-accent-600"},{title:"I don't have an idea, but I want to help others, how can I do this?",description:`Register on the website and browse through the ideas. If you find one where you can help, write to the user and discuss the details. If you don't have an idea but want to help, you can search in the "Ideas" section on the homepage.`,imagePath:"/idea3.jpg",icon:ld,gradient:"from-secondary to-secondary-600"},{title:"How can I find a team to implement my idea?",description:'By browsing through the ideas on Veho, you can find ones that interest you and that you want to join. Click on the "Join" button on the idea page to let the idea owner know that you would like to join in implementing the idea.',imagePath:"/group.jpg",icon:wo,gradient:"from-primary to-accent"},{title:"How many ideas can I share?",description:"You can share as many ideas as you want, but we ask that you only share ideas that are truly feasible and add value to the community.",imagePath:"/idea3.png",icon:R0,gradient:"from-secondary to-primary"}]},LI=T.forwardRef((t,e)=>{const[n,r]=T.useState(0),[i]=yt(pn);T.useEffect(()=>{r(0)},[i]);const s=()=>{r(p=>(p+1)%Es[i].length)},o=()=>{r(p=>(p-1+Es[i].length)%Es[i].length)},{title:a,description:c,imagePath:u,icon:d,gradient:f}=Es[i][n];return m.jsxs("section",{ref:e,className:"relative py-16 overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[m.jsx("div",{className:"absolute top-1/4 right-1/6 w-64 h-64 bg-primary/5 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-1/4 left-1/6 w-80 h-80 bg-secondary/5 rounded-full blur-3xl animate-pulse animation-delay-1000"}),m.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-accent/3 rounded-full blur-3xl animate-pulse animation-delay-2000"})]}),m.jsx("div",{className:"container mx-auto px-4 relative z-10",children:m.jsx("div",{className:"max-w-6xl mx-auto",children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/5 to-white/10 rounded-3xl blur-sm"}),m.jsx("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 md:p-12 shadow-2xl",children:m.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12",children:[m.jsx("div",{className:"relative w-full lg:w-1/2",children:m.jsxs("div",{className:"relative group",children:[m.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${f} rounded-2xl opacity-20 blur-2xl group-hover:opacity-30 transition-opacity duration-500`}),m.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-white/30 backdrop-blur-sm",children:[m.jsx("img",{src:u,alt:a,className:"w-full h-64 md:h-80 object-cover transition-transform duration-500 group-hover:scale-105"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"})]}),m.jsx("div",{className:`absolute -top-4 -right-4 w-16 h-16 bg-gradient-to-r ${f} rounded-full flex items-center justify-center backdrop-blur-sm border border-white/30 shadow-lg`,children:m.jsx(d,{className:"w-8 h-8 text-white"})})]})}),m.jsxs("div",{className:"w-full lg:w-1/2 text-center lg:text-left",children:[m.jsx("h2",{className:`text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r ${f} bg-clip-text text-transparent mb-6 leading-tight`,children:a}),m.jsx("p",{className:"text-lg md:text-xl text-white/80 mb-8 leading-relaxed",children:c}),m.jsxs("div",{className:"flex justify-center lg:justify-start items-center gap-6",children:[m.jsx(ke,{variant:"ghost",size:"icon",onClick:o,className:"group w-14 h-14 bg-white/10 border border-white/30 text-white/80 hover:bg-white/20 hover:text-white transition-all duration-300 backdrop-blur-sm rounded-xl",children:m.jsx(Bj,{className:"h-6 w-6 transition-transform group-hover:-translate-x-1"})}),m.jsx("div",{className:"flex gap-2",children:Es[i].map((p,_)=>m.jsx("button",{onClick:()=>r(_),className:`w-3 h-3 rounded-full transition-all duration-300 ${_===n?`bg-gradient-to-r ${f}`:"bg-white/30 hover:bg-white/50"}`},_))}),m.jsx(ke,{variant:"ghost",size:"icon",onClick:s,className:"group w-14 h-14 bg-white/10 border border-white/30 text-white/80 hover:bg-white/20 hover:text-white transition-all duration-300 backdrop-blur-sm rounded-xl",children:m.jsx(Hj,{className:"h-6 w-6 transition-transform group-hover:translate-x-1"})})]}),m.jsx("div",{className:"mt-6 text-center lg:text-left",children:m.jsxs("span",{className:"text-white/60 text-sm",children:[n+1," / ",Es[i].length]})})]})]})})]})})}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/50 to-transparent"})]})});LI.displayName="Information";const S3={hu:{author:"Szerző",year:"Év",phone:"Telefonszám",email:"Email",privacyPolicy:"Adatvédelmi Szabályzat",madeWith:"Készítve"},en:{author:"Author",year:"Year",phone:"Phone",email:"Email",privacyPolicy:"Privacy Policy",madeWith:"Made with"}};function Vo(){const[t]=yt(pn),e=n=>S3[t][n];return m.jsxs("footer",{className:"relative py-12 overflow-hidden",children:[m.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[m.jsx("div",{className:"absolute top-0 left-1/4 w-32 h-32 bg-primary/5 rounded-full blur-2xl"}),m.jsx("div",{className:"absolute bottom-0 right-1/4 w-40 h-40 bg-secondary/5 rounded-full blur-2xl"})]}),m.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/40 to-transparent"}),m.jsx("div",{className:"container mx-auto px-4 relative z-10",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[m.jsxs("div",{className:"text-center md:text-left space-y-3",children:[m.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-4",children:[m.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary/20 to-primary-600/20 rounded-full flex items-center justify-center backdrop-blur-sm border border-primary/30",children:m.jsx(ld,{className:"w-4 h-4 text-primary"})}),m.jsx("span",{className:"text-white/90 font-medium",children:"Veho"})]}),m.jsxs("p",{className:"text-white/70 transition-colors hover:text-white/90 duration-300",children:[m.jsxs("span",{className:"text-white/50 text-sm",children:[e("author"),":"]}),m.jsx("br",{}),m.jsx("span",{className:"font-medium",children:"Szauter Ajtony"})]}),m.jsxs("p",{className:"text-white/70 transition-colors hover:text-white/90 duration-300",children:[m.jsxs("span",{className:"text-white/50 text-sm",children:[e("year"),":"]}),m.jsx("br",{}),m.jsx("span",{className:"font-medium",children:"2025"})]})]}),m.jsxs("div",{className:"text-center space-y-4",children:[m.jsx("h3",{className:"text-white/90 font-semibold mb-4",children:t==="hu"?"Kapcsolat":"Contact"}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"group",children:[m.jsxs("p",{className:"text-white/60 text-sm mb-1",children:[e("phone"),":"]}),m.jsxs("a",{href:"tel:+36301234567",className:"inline-flex items-center gap-2 text-white/80 hover:text-primary transition-all duration-300 group-hover:scale-105",children:[m.jsx("div",{className:"w-5 h-5 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/20 group-hover:border-primary/40 transition-colors",children:m.jsx(h3,{className:"w-3 h-3"})}),m.jsx("span",{className:"font-medium",children:"+36 30 123 4567"})]})]}),m.jsxs("div",{className:"group",children:[m.jsxs("p",{className:"text-white/60 text-sm mb-1",children:[e("email"),":"]}),m.jsxs("a",{href:"mailto:ajtony.szauter@veho.com",className:"inline-flex items-center gap-2 text-white/80 hover:text-primary transition-all duration-300 group-hover:scale-105",children:[m.jsx("div",{className:"w-5 h-5 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/20 group-hover:border-primary/40 transition-colors",children:m.jsx(vo,{className:"w-3 h-3"})}),m.jsx("span",{className:"font-medium",children:"ajtony.szauter@veho.com"})]})]})]})]}),m.jsxs("div",{className:"text-center md:text-right space-y-4",children:[m.jsx("h3",{className:"text-white/90 font-semibold mb-4",children:t==="hu"?"Jogi információk":"Legal"}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("div",{className:"group",children:m.jsxs(qt,{to:"/privacy-policy",className:"inline-flex items-center gap-2 text-white/80 hover:text-primary transition-all duration-300 group-hover:scale-105",children:[m.jsx("div",{className:"w-5 h-5 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/20 group-hover:border-primary/40 transition-colors",children:m.jsx(dd,{className:"w-3 h-3"})}),m.jsx("span",{className:"font-medium",children:e("privacyPolicy")})]})}),m.jsx("p",{className:"text-white/70 font-medium",children:"Veho © 2025"})]})]})]}),m.jsx("div",{className:"pt-8 border-t border-white/20",children:m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm",children:[m.jsx("span",{children:e("madeWith")}),m.jsx(ld,{className:"w-4 h-4 text-red-400 animate-pulse"}),m.jsx("span",{children:t==="hu"?"Magyarországon":"in Hungary"})]}),m.jsx("div",{className:"flex items-center gap-4",children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/20 hover:border-primary/40 transition-colors cursor-pointer opacity-50",children:m.jsx("div",{className:"w-3 h-3 bg-white/30 rounded-full"})}),m.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/20 hover:border-primary/40 transition-colors cursor-pointer opacity-50",children:m.jsx("div",{className:"w-3 h-3 bg-white/30 rounded-full"})}),m.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/20 hover:border-primary/40 transition-colors cursor-pointer opacity-50",children:m.jsx("div",{className:"w-3 h-3 bg-white/30 rounded-full"})})]})}),m.jsx("div",{className:"text-white/40 text-xs",children:"v1.0.0"})]})})]})})]})}function I3(){const t=T.useRef(null);return Do(),m.jsxs(m.Fragment,{children:[m.jsx(T3,{scrollTargetRef:t}),m.jsx(LI,{ref:t}),m.jsx(Vo,{})]})}const eo=T.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:at("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));eo.displayName="Input";var b3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=b3.reduce((t,e)=>{const n=ul(`Primitive.${e}`),r=T.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function k3(t,e){t&&So.flushSync(()=>t.dispatchEvent(e))}var C3="Label",MI=T.forwardRef((t,e)=>m.jsx($e.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));MI.displayName=C3;var VI=MI;const R3=_I("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Wi=T.forwardRef(({className:t,...e},n)=>m.jsx(VI,{ref:n,className:at(R3(),t),...e}));Wi.displayName=VI.displayName;const A3=()=>{const[t,e]=yt(El),n=async()=>dt.currentUser?(e(dt.currentUser),dt.currentUser):null,r=async a=>{if(!dt.currentUser)throw new Error("Nincs bejelentkezett felhasználó");try{await LO(dt.currentUser,{displayName:a}),e({...dt.currentUser,displayName:a}),await s({displayName:a})}catch(c){throw new Error(`Hiba a profil frissítése során: ${c.message}`)}},i=async a=>{try{const c=await c4(ou(Zs,"users",a));return c.exists()?{...c.data(),uid:a}:null}catch(c){throw console.error("Firestore read error:",c),new Error(`Hiba a Firestore adatok lekérdezése során: ${c.message}`)}},s=async a=>{const c=dt.currentUser;if(!c)throw new Error("Nincs bejelentkezett felhasználó");try{await new Promise(f=>setTimeout(f,100));const u=ou(Zs,"users",c.uid),d={uid:c.uid,email:c.email,displayName:c.displayName,photoURL:c.photoURL,...a,updatedAt:new Date().toISOString()};await u4(u,d,{merge:!0}),console.log("User data updated successfully in Firestore"),e({...t,...d})}catch(u){console.error("Firestore write error:",u),console.warn(`Figyelmeztetés: Firestore írási hiba: ${u.message}`)}};return{getUser:n,updateUserProfile:r,getUserDataFromFirestore:i,updateUserDataInFirestore:s,deleteUser:async()=>{if(!dt.currentUser)throw new Error("Nincs bejelentkezett felhasználó");try{const a=ou(Zs,"users",dt.currentUser.uid);await d4(a),await FO(dt.currentUser),e(null)}catch(a){throw new Error(`Hiba a felhasználó törlése során: ${a.message}`)}}}};var jI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},P0=ft.createContext&&ft.createContext(jI),P3=["attr","size","title"];function N3(t,e){if(t==null)return{};var n=O3(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hd(){return hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hd.apply(this,arguments)}function N0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N0(Object(n),!0).forEach(function(r){D3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D3(t,e,n){return e=L3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L3(t){var e=M3(t,"string");return typeof e=="symbol"?e:e+""}function M3(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FI(t){return t&&t.map((e,n)=>ft.createElement(e.tag,fd({key:n},e.attr),FI(e.child)))}function V3(t){return e=>ft.createElement(j3,hd({attr:fd({},t.attr)},e),FI(t.child))}function j3(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=N3(t,P3),a=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),ft.createElement("svg",hd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:c,style:fd(fd({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ft.createElement("title",null,s),t.children)};return P0!==void 0?ft.createElement(P0.Consumer,null,n=>e(n)):e(jI)}function F3(t){return V3({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}const pe={hu:{login:{title:"Bejelentkezés",email:"Email",password:"Jelszó",submit:"Bejelentkezés",noAccount:"Nincs még fiókod? ",registerHere:"Regisztrálj itt",forgotPassword:"Elfelejtetted a jelszavad?"},register:{title:"Regisztráció",confirmPassword:"Jelszó megerősítése",submit:"Regisztráció",hasAccount:"Már van fiókod? ",loginHere:"Jelentkezz be itt"},errors:{passwordMismatch:"A jelszavak nem egyeznek meg.",invalidPassword:"A jelszónak tartalmaznia kell legalább 8 karaktert, minimum 1 nagybetűt és 1 számot.",emailInUse:"Ez az email cím már használatban van.",invalidCredentials:"A hitelesítési adatok érvénytelenek.",userNotFound:"Még nincs fiókod ezzel az email címmel. Kérjük, regisztrálj!",wrongPassword:"Helytelen jelszó!",emailNotVerified:"Az email cím még nincs megerősítve. Kérjük, ellenőrizze a beérkezett leveleket.",invalidEmail:"Kérjük, add meg a helyes email címed!",authError:"Hiba a bejelentkezés során, kérjük próbáld újra.",resetError:"Hiba történt a jelszó visszaállítás során, kérjük próbáld újra.",popupBlocked:"A felugró ablak blokkolva van. Kérjük engedélyezd a felugró ablakokat.",popupClosed:"A bejelentkezési ablak bezárult. Kérjük próbáld újra."},success:{register:"Sikeres regisztráció! Kérjük, ellenőrizd az email címedet.",login:"Sikeres bejelentkezés! Átirányítás...",reset:"Email elküldve a jelszó visszaállításához!"}},en:{login:{title:"Sign In",email:"Email",password:"Password",submit:"Sign In",noAccount:"Don't have an account? ",registerHere:"Register here",forgotPassword:"Forgot your password?"},register:{title:"Register",confirmPassword:"Confirm Password",submit:"Register",hasAccount:"Already have an account? ",loginHere:"Sign in here"},errors:{passwordMismatch:"The passwords do not match.",invalidPassword:"The password must contain at least 8 characters, including 1 uppercase letter and 1 number.",emailInUse:"This email address is already in use.",invalidCredentials:"The credentials are invalid.",userNotFound:"No account found with this email. Please register!",wrongPassword:"Incorrect password!",emailNotVerified:"The email address is not yet verified. Please check your inbox.",invalidEmail:"Please enter a valid email address!",authError:"An error occurred during sign-in. Please try again.",resetError:"An error occurred during password reset. Please try again.",popupBlocked:"Popup blocked. Please allow popups for this site.",popupClosed:"Sign-in window was closed. Please try again."},success:{register:"Registration successful! Please verify your email address.",login:"Login successful! Redirecting...",reset:"Email sent for password reset!"}}};function U3(){const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState(""),[o,a]=T.useState(!1),[c,u]=T.useState(!1),[d,f]=T.useState(""),[p,_]=T.useState(""),[I,w]=T.useState(!1),[R,E]=T.useState(null),[y]=yt(pn),[S,O]=yt(El),D=wl(),{updateUserDataInFirestore:V}=A3();T.useEffect(()=>{(async()=>{try{const N=await hD(dt);N&&(O(N.user),await V({email:N.user.email,displayName:N.user.displayName,createdAt:new Date().toISOString()}),_(pe[y].success.login),setTimeout(()=>D("/"),1500))}catch{f(pe[y].errors.authError),w(!1)}})()},[D,O,y,V]);const x=async P=>{P.preventDefault(),f(""),_(""),w(!0);const N=/^(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/;if(c){if(!N.test(n)){f(pe[y].errors.invalidPassword),w(!1);return}if(n!==i){f(pe[y].errors.passwordMismatch),w(!1);return}try{const A=await PO(dt,t,n);O(A.user),await OO(A.user),await V({email:A.user.email,displayName:A.user.displayName,createdAt:new Date().toISOString()}),_(pe[y].success.register)}catch(A){const W=A.code;f(W==="auth/email-already-in-use"?pe[y].errors.emailInUse:W==="auth/invalid-email"?pe[y].errors.invalidEmail:pe[y].errors.authError),w(!1)}}else try{const A=await NO(dt,t,n);O(A.user),A.user.emailVerified?(_(pe[y].success.login),setTimeout(()=>D("/"),1500)):(f(pe[y].errors.emailNotVerified),w(!1))}catch(A){const W=A.code;f(W==="auth/invalid-credential"?pe[y].errors.invalidCredentials:W==="auth/user-not-found"?pe[y].errors.userNotFound:W==="auth/wrong-password"?pe[y].errors.wrongPassword:pe[y].errors.authError),w(!1)}},v=async P=>{try{f(""),E(P);let N;switch(P){case"Google":N=new dr,N.addScope("profile"),N.addScope("email");break;case"Facebook":N=new ur,N.addScope("email");break;case"GitHub":N=new hr,N.addScope("user:email");break;default:throw new Error("Érvénytelen provider")}const A=await sD(dt,N);A.user&&(O(A.user),await V({email:A.user.email,displayName:A.user.displayName,photoURL:A.user.photoURL,createdAt:new Date().toISOString(),provider:P.toLowerCase()}),_(pe[y].success.login),setTimeout(()=>D("/"),1500))}catch(N){console.error("Social login error:",N);const A=N.code;f(A==="auth/popup-blocked"?pe[y].errors.popupBlocked:A==="auth/popup-closed-by-user"?pe[y].errors.popupClosed:A==="auth/cancelled-popup-request"?"":pe[y].errors.authError)}finally{E(null)}},b=async()=>{if(!t.includes("@")){f(pe[y].errors.invalidEmail);return}try{w(!0),await AO(dt,t),_(pe[y].success.reset),w(!1)}catch{f(pe[y].errors.resetError),w(!1)}},C=()=>{u(!c),f(""),_(""),e(""),r(""),s("")};return m.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 relative",children:[m.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[m.jsx("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-primary/10 rounded-full blur-2xl animate-pulse"}),m.jsx("div",{className:"absolute top-3/4 right-1/4 w-32 h-32 bg-accent/10 rounded-full blur-2xl animate-pulse animation-delay-1000"}),m.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-32 h-32 bg-secondary/10 rounded-full blur-2xl animate-pulse animation-delay-2000"})]}),m.jsxs("div",{className:"relative w-full max-w-md",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-white/5 rounded-2xl blur-sm"}),m.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-8 shadow-2xl",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-primary/80 to-primary-600/80 rounded-full mb-4 shadow-lg backdrop-blur-sm",children:m.jsx(DI,{className:"w-8 h-8 text-white"})}),m.jsx("h2",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:c?pe[y].register.title:pe[y].login.title}),m.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-primary to-primary-600 mx-auto rounded-full"})]}),(d||p)&&m.jsx("div",{className:`mb-6 p-4 rounded-lg backdrop-blur-sm border transition-all duration-300 ${d?"bg-destructive/20 border-destructive/30 text-red-200":"bg-secondary/20 border-secondary/30 text-green-200"}`,children:m.jsx("p",{className:"text-sm text-center font-medium",children:d||p})}),p&&!d?m.jsxs("div",{className:"flex flex-col items-center gap-6 py-8",children:[m.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-secondary/80 to-accent/80 rounded-full flex items-center justify-center animate-pulse backdrop-blur-sm",children:m.jsx(vo,{className:"w-10 h-10 text-white"})}),m.jsx("p",{className:"text-white/90 text-center leading-relaxed",children:p})]}):m.jsxs("form",{onSubmit:x,className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Wi,{className:"text-white/90 text-sm font-medium",children:pe[y].login.email}),m.jsxs("div",{className:"relative",children:[m.jsx(vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),m.jsx(eo,{type:"email",value:t,onChange:P=>e(P.target.value),placeholder:pe[y].login.email,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/50 focus:bg-white/20 focus:border-primary/60 transition-all duration-300 backdrop-blur-sm",required:!0})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Wi,{className:"text-white/90 text-sm font-medium",children:pe[y].login.password}),m.jsxs("div",{className:"relative",children:[m.jsx(ud,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),m.jsx(eo,{type:o?"text":"password",value:n,onChange:P=>r(P.target.value),placeholder:pe[y].login.password,className:"w-full pl-12 pr-12 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/50 focus:bg-white/20 focus:border-primary/60 transition-all duration-300 backdrop-blur-sm",required:!0}),m.jsx(ke,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white/90 hover:bg-white/10",onClick:()=>a(!o),children:o?m.jsx(C0,{className:"w-4 h-4"}):m.jsx(ad,{className:"w-4 h-4"})})]})]}),c&&m.jsxs("div",{className:"space-y-2 transition-all duration-300",children:[m.jsx(Wi,{className:"text-white/90 text-sm font-medium",children:pe[y].register.confirmPassword}),m.jsxs("div",{className:"relative",children:[m.jsx(ud,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),m.jsx(eo,{type:o?"text":"password",value:i,onChange:P=>s(P.target.value),placeholder:pe[y].register.confirmPassword,className:"w-full pl-12 pr-12 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/50 focus:bg-white/20 focus:border-primary/60 transition-all duration-300 backdrop-blur-sm",required:!0}),m.jsx(ke,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white/90 hover:bg-white/10",onClick:()=>a(!o),children:o?m.jsx(C0,{className:"w-4 h-4"}):m.jsx(ad,{className:"w-4 h-4"})})]})]}),m.jsx(ke,{type:"submit",disabled:I,className:"w-full py-3 bg-gradient-to-r from-primary/80 to-primary-600/80 hover:from-primary-600/90 hover:to-primary-700/90 text-white font-semibold rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed backdrop-blur-sm",children:I?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Loading..."]}):c?pe[y].register.submit:pe[y].login.submit}),m.jsxs("div",{className:"relative my-6",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("div",{className:"w-full border-t border-white/30"})}),m.jsx("div",{className:"relative flex justify-center text-sm",children:m.jsx("span",{className:"px-4 bg-transparent text-white/70",children:y==="hu"?"vagy folytasd ezzel":"or continue with"})})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.jsx(ke,{type:"button",variant:"outline",className:"bg-white/10 border-white/30 text-white/80 hover:bg-white/20 hover:text-white transition-all duration-300 backdrop-blur-sm group relative overflow-hidden",onClick:()=>v("Google"),disabled:R!==null,children:R==="Google"?m.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):m.jsx(F3,{className:"w-4 h-4 group-hover:scale-110 transition-transform duration-300"})}),m.jsx(ke,{type:"button",variant:"outline",className:"bg-white/10 border-white/30 text-white/80 hover:bg-white/20 hover:text-white transition-all duration-300 backdrop-blur-sm group relative overflow-hidden",onClick:()=>v("Facebook"),disabled:R!==null,children:R==="Facebook"?m.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):m.jsx(Xj,{className:"w-4 h-4 group-hover:scale-110 transition-transform duration-300"})}),m.jsx(ke,{type:"button",variant:"outline",className:"bg-white/10 border-white/30 text-white/80 hover:bg-white/20 hover:text-white transition-all duration-300 backdrop-blur-sm group relative overflow-hidden",onClick:()=>v("GitHub"),disabled:R!==null,children:R==="GitHub"?m.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):m.jsx(Zj,{className:"w-4 h-4 group-hover:scale-110 transition-transform duration-300"})})]}),!c&&m.jsx("div",{className:"text-center",children:m.jsx("button",{type:"button",onClick:b,className:"text-primary hover:text-primary-600 text-sm transition-colors duration-300",children:pe[y].login.forgotPassword})}),m.jsxs("div",{className:"text-center pt-4 border-t border-white/30",children:[m.jsx("span",{className:"text-white/70 text-sm",children:c?pe[y].register.hasAccount:pe[y].login.noAccount}),m.jsx("button",{type:"button",onClick:C,className:"text-primary hover:text-primary-600 text-sm font-medium ml-1 transition-colors duration-300",children:c?pe[y].register.loginHere:pe[y].login.registerHere})]})]})]})]})]})}function O0(t,[e,n]){return Math.min(n,Math.max(e,t))}function Qe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function cy(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),c=n.length;n=[...n,o];const u=f=>{var E;const{scope:p,children:_,...I}=f,w=((E=p==null?void 0:p[t])==null?void 0:E[c])||a,R=T.useMemo(()=>I,Object.values(I));return m.jsx(w.Provider,{value:R,children:_})};u.displayName=s+"Provider";function d(f,p){var w;const _=((w=p==null?void 0:p[t])==null?void 0:w[c])||a,I=T.useContext(_);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,z3(i,...e)]}function z3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...a,...f}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function B3(t){const e=t+"CollectionProvider",[n,r]=cy(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:R,children:E}=w,y=ft.useRef(null),S=ft.useRef(new Map).current;return m.jsx(i,{scope:R,itemMap:S,collectionRef:y,children:E})};o.displayName=e;const a=t+"CollectionSlot",c=ul(a),u=ft.forwardRef((w,R)=>{const{scope:E,children:y}=w,S=s(a,E),O=_t(R,S.collectionRef);return m.jsx(c,{ref:O,children:y})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=ul(d),_=ft.forwardRef((w,R)=>{const{scope:E,children:y,...S}=w,O=ft.useRef(null),D=_t(R,O),V=s(d,E);return ft.useEffect(()=>(V.itemMap.set(O,{ref:O,...S}),()=>void V.itemMap.delete(O))),m.jsx(p,{[f]:"",ref:D,children:y})});_.displayName=d;function I(w){const R=s(t+"CollectionConsumer",w);return ft.useCallback(()=>{const y=R.collectionRef.current;if(!y)return[];const S=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(R.itemMap.values()).sort((V,x)=>S.indexOf(V.ref.current)-S.indexOf(x.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:o,Slot:u,ItemSlot:_},I,r]}var $3=T.createContext(void 0);function H3(t){const e=T.useContext($3);return t||e||"ltr"}function rs(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function W3(t,e=globalThis==null?void 0:globalThis.document){const n=rs(t);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var q3="DismissableLayer",tm="dismissableLayer.update",K3="dismissableLayer.pointerDownOutside",G3="dismissableLayer.focusOutside",D0,UI=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zI=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,u=T.useContext(UI),[d,f]=T.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=T.useState({}),I=_t(e,x=>f(x)),w=Array.from(u.layers),[R]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(R),y=d?w.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,O=y>=E,D=X3(x=>{const v=x.target,b=[...u.branches].some(C=>C.contains(v));!O||b||(i==null||i(x),o==null||o(x),x.defaultPrevented||a==null||a())},p),V=J3(x=>{const v=x.target;[...u.branches].some(C=>C.contains(v))||(s==null||s(x),o==null||o(x),x.defaultPrevented||a==null||a())},p);return W3(x=>{y===u.layers.size-1&&(r==null||r(x),!x.defaultPrevented&&a&&(x.preventDefault(),a()))},p),T.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(D0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),L0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=D0)}},[d,p,n,u]),T.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),L0())},[d,u]),T.useEffect(()=>{const x=()=>_({});return document.addEventListener(tm,x),()=>document.removeEventListener(tm,x)},[]),m.jsx($e.div,{...c,ref:I,style:{pointerEvents:S?O?"auto":"none":void 0,...t.style},onFocusCapture:Qe(t.onFocusCapture,V.onFocusCapture),onBlurCapture:Qe(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Qe(t.onPointerDownCapture,D.onPointerDownCapture)})});zI.displayName=q3;var Q3="DismissableLayerBranch",Y3=T.forwardRef((t,e)=>{const n=T.useContext(UI),r=T.useRef(null),i=_t(e,r);return T.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),m.jsx($e.div,{...t,ref:i})});Y3.displayName=Q3;function X3(t,e=globalThis==null?void 0:globalThis.document){const n=rs(t),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let c=function(){BI(K3,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function J3(t,e=globalThis==null?void 0:globalThis.document){const n=rs(t),r=T.useRef(!1);return T.useEffect(()=>{const i=s=>{s.target&&!r.current&&BI(G3,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function L0(){const t=new CustomEvent(tm);document.dispatchEvent(t)}function BI(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?k3(i,s):i.dispatchEvent(s)}var Tf=0;function Z3(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??M0()),document.body.insertAdjacentElement("beforeend",t[1]??M0()),Tf++,()=>{Tf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Tf--}},[])}function M0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Sf="focusScope.autoFocusOnMount",If="focusScope.autoFocusOnUnmount",V0={bubbles:!1,cancelable:!0},e6="FocusScope",$I=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,c]=T.useState(null),u=rs(i),d=rs(s),f=T.useRef(null),p=_t(e,w=>c(w)),_=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let w=function(S){if(_.paused||!a)return;const O=S.target;a.contains(O)?f.current=O:$r(f.current,{select:!0})},R=function(S){if(_.paused||!a)return;const O=S.relatedTarget;O!==null&&(a.contains(O)||$r(f.current,{select:!0}))},E=function(S){if(document.activeElement===document.body)for(const D of S)D.removedNodes.length>0&&$r(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",R);const y=new MutationObserver(E);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",R),y.disconnect()}}},[r,a,_.paused]),T.useEffect(()=>{if(a){F0.add(_);const w=document.activeElement;if(!a.contains(w)){const E=new CustomEvent(Sf,V0);a.addEventListener(Sf,u),a.dispatchEvent(E),E.defaultPrevented||(t6(o6(HI(a)),{select:!0}),document.activeElement===w&&$r(a))}return()=>{a.removeEventListener(Sf,u),setTimeout(()=>{const E=new CustomEvent(If,V0);a.addEventListener(If,d),a.dispatchEvent(E),E.defaultPrevented||$r(w??document.body,{select:!0}),a.removeEventListener(If,d),F0.remove(_)},0)}}},[a,u,d,_]);const I=T.useCallback(w=>{if(!n&&!r||_.paused)return;const R=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,E=document.activeElement;if(R&&E){const y=w.currentTarget,[S,O]=n6(y);S&&O?!w.shiftKey&&E===O?(w.preventDefault(),n&&$r(S,{select:!0})):w.shiftKey&&E===S&&(w.preventDefault(),n&&$r(O,{select:!0})):E===y&&w.preventDefault()}},[n,r,_.paused]);return m.jsx($e.div,{tabIndex:-1,...o,ref:p,onKeyDown:I})});$I.displayName=e6;function t6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if($r(r,{select:e}),document.activeElement!==n)return}function n6(t){const e=HI(t),n=j0(e,t),r=j0(e.reverse(),t);return[n,r]}function HI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function j0(t,e){for(const n of t)if(!r6(n,{upTo:e}))return n}function r6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function i6(t){return t instanceof HTMLInputElement&&"select"in t}function $r(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&i6(t)&&e&&t.select()}}var F0=s6();function s6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=U0(t,e),t.unshift(e)},remove(e){var n;t=U0(t,e),(n=t[0])==null||n.resume()}}}function U0(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function o6(t){return t.filter(e=>e.tagName!=="A")}var Kt=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},a6=mE[" useId ".trim().toString()]||(()=>{}),l6=0;function uy(t){const[e,n]=T.useState(a6());return Kt(()=>{n(r=>r??String(l6++))},[t]),e?`radix-${e}`:""}const c6=["top","right","bottom","left"],wi=Math.min,Xt=Math.max,pd=Math.round,Rc=Math.floor,Kn=t=>({x:t,y:t}),u6={left:"right",right:"left",bottom:"top",top:"bottom"},d6={start:"end",end:"start"};function nm(t,e,n){return Xt(t,wi(e,n))}function Pr(t,e){return typeof t=="function"?t(e):t}function Nr(t){return t.split("-")[0]}function jo(t){return t.split("-")[1]}function dy(t){return t==="x"?"y":"x"}function hy(t){return t==="y"?"height":"width"}const h6=new Set(["top","bottom"]);function jn(t){return h6.has(Nr(t))?"y":"x"}function fy(t){return dy(jn(t))}function f6(t,e,n){n===void 0&&(n=!1);const r=jo(t),i=fy(t),s=hy(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=md(o)),[o,md(o)]}function p6(t){const e=md(t);return[rm(t),e,rm(e)]}function rm(t){return t.replace(/start|end/g,e=>d6[e])}const z0=["left","right"],B0=["right","left"],m6=["top","bottom"],g6=["bottom","top"];function y6(t,e,n){switch(t){case"top":case"bottom":return n?e?B0:z0:e?z0:B0;case"left":case"right":return e?m6:g6;default:return[]}}function v6(t,e,n,r){const i=jo(t);let s=y6(Nr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(rm)))),s}function md(t){return t.replace(/left|right|bottom|top/g,e=>u6[e])}function w6(t){return{top:0,right:0,bottom:0,left:0,...t}}function WI(t){return typeof t!="number"?w6(t):{top:t,right:t,bottom:t,left:t}}function gd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function $0(t,e,n){let{reference:r,floating:i}=t;const s=jn(e),o=fy(e),a=hy(o),c=Nr(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let _;switch(c){case"top":_={x:d,y:r.y-i.height};break;case"bottom":_={x:d,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:f};break;case"left":_={x:r.x-i.width,y:f};break;default:_={x:r.x,y:r.y}}switch(jo(e)){case"start":_[o]-=p*(n&&u?-1:1);break;case"end":_[o]+=p*(n&&u?-1:1);break}return _}const _6=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=$0(u,r,c),p=r,_={},I=0;for(let w=0;w<a.length;w++){const{name:R,fn:E}=a[w],{x:y,y:S,data:O,reset:D}=await E({x:d,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:_,rects:u,platform:o,elements:{reference:t,floating:e}});d=y??d,f=S??f,_={..._,[R]:{..._[R],...O}},D&&I<=50&&(I++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:d,y:f}=$0(u,p,c)),w=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:_}};async function dl(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:_=0}=Pr(e,t),I=WI(_),R=a[p?f==="floating"?"reference":"floating":f],E=gd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(R)))==null||n?R:R.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),O=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},D=gd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:S,strategy:c}):y);return{top:(E.top-D.top+I.top)/O.y,bottom:(D.bottom-E.bottom+I.bottom)/O.y,left:(E.left-D.left+I.left)/O.x,right:(D.right-E.right+I.right)/O.x}}const E6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=Pr(t,e)||{};if(u==null)return{};const f=WI(d),p={x:n,y:r},_=fy(i),I=hy(_),w=await o.getDimensions(u),R=_==="y",E=R?"top":"left",y=R?"bottom":"right",S=R?"clientHeight":"clientWidth",O=s.reference[I]+s.reference[_]-p[_]-s.floating[I],D=p[_]-s.reference[_],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let x=V?V[S]:0;(!x||!await(o.isElement==null?void 0:o.isElement(V)))&&(x=a.floating[S]||s.floating[I]);const v=O/2-D/2,b=x/2-w[I]/2-1,C=wi(f[E],b),P=wi(f[y],b),N=C,A=x-w[I]-P,W=x/2-w[I]/2+v,re=nm(N,W,A),Z=!c.arrow&&jo(i)!=null&&W!==re&&s.reference[I]/2-(W<N?C:P)-w[I]/2<0,q=Z?W<N?W-N:W-A:0;return{[_]:p[_]+q,data:{[_]:re,centerOffset:W-re-q,...Z&&{alignmentOffset:q}},reset:Z}}}),x6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:w=!0,...R}=Pr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const E=Nr(i),y=jn(a),S=Nr(a)===a,O=await(c.isRTL==null?void 0:c.isRTL(u.floating)),D=p||(S||!w?[md(a)]:p6(a)),V=I!=="none";!p&&V&&D.push(...v6(a,w,I,O));const x=[a,...D],v=await dl(e,R),b=[];let C=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&b.push(v[E]),f){const W=f6(i,o,O);b.push(v[W[0]],v[W[1]])}if(C=[...C,{placement:i,overflows:b}],!b.every(W=>W<=0)){var P,N;const W=(((P=s.flip)==null?void 0:P.index)||0)+1,re=x[W];if(re&&(!(f==="alignment"?y!==jn(re):!1)||C.every(L=>jn(L.placement)===y?L.overflows[0]>0:!0)))return{data:{index:W,overflows:C},reset:{placement:re}};let Z=(N=C.filter(q=>q.overflows[0]<=0).sort((q,L)=>q.overflows[1]-L.overflows[1])[0])==null?void 0:N.placement;if(!Z)switch(_){case"bestFit":{var A;const q=(A=C.filter(L=>{if(V){const $=jn(L.placement);return $===y||$==="y"}return!0}).map(L=>[L.placement,L.overflows.filter($=>$>0).reduce(($,X)=>$+X,0)]).sort((L,$)=>L[1]-$[1])[0])==null?void 0:A[0];q&&(Z=q);break}case"initialPlacement":Z=a;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}};function H0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function W0(t){return c6.some(e=>t[e]>=0)}const T6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Pr(t,e);switch(r){case"referenceHidden":{const s=await dl(e,{...i,elementContext:"reference"}),o=H0(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:W0(o)}}}case"escaped":{const s=await dl(e,{...i,altBoundary:!0}),o=H0(s,n.floating);return{data:{escapedOffsets:o,escaped:W0(o)}}}default:return{}}}}},qI=new Set(["left","top"]);async function S6(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Nr(n),a=jo(n),c=jn(n)==="y",u=qI.has(o)?-1:1,d=s&&c?-1:1,f=Pr(e,t);let{mainAxis:p,crossAxis:_,alignmentAxis:I}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof I=="number"&&(_=a==="end"?I*-1:I),c?{x:_*d,y:p*u}:{x:p*u,y:_*d}}const I6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await S6(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},b6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:R=>{let{x:E,y}=R;return{x:E,y}}},...c}=Pr(t,e),u={x:n,y:r},d=await dl(e,c),f=jn(Nr(i)),p=dy(f);let _=u[p],I=u[f];if(s){const R=p==="y"?"top":"left",E=p==="y"?"bottom":"right",y=_+d[R],S=_-d[E];_=nm(y,_,S)}if(o){const R=f==="y"?"top":"left",E=f==="y"?"bottom":"right",y=I+d[R],S=I-d[E];I=nm(y,I,S)}const w=a.fn({...e,[p]:_,[f]:I});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:s,[f]:o}}}}}},k6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Pr(t,e),d={x:n,y:r},f=jn(i),p=dy(f);let _=d[p],I=d[f];const w=Pr(a,e),R=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const S=p==="y"?"height":"width",O=s.reference[p]-s.floating[S]+R.mainAxis,D=s.reference[p]+s.reference[S]-R.mainAxis;_<O?_=O:_>D&&(_=D)}if(u){var E,y;const S=p==="y"?"width":"height",O=qI.has(Nr(i)),D=s.reference[f]-s.floating[S]+(O&&((E=o.offset)==null?void 0:E[f])||0)+(O?0:R.crossAxis),V=s.reference[f]+s.reference[S]+(O?0:((y=o.offset)==null?void 0:y[f])||0)-(O?R.crossAxis:0);I<D?I=D:I>V&&(I=V)}return{[p]:_,[f]:I}}}},C6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Pr(t,e),d=await dl(e,u),f=Nr(i),p=jo(i),_=jn(i)==="y",{width:I,height:w}=s.floating;let R,E;f==="top"||f==="bottom"?(R=f,E=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=f,R=p==="end"?"top":"bottom");const y=w-d.top-d.bottom,S=I-d.left-d.right,O=wi(w-d[R],y),D=wi(I-d[E],S),V=!e.middlewareData.shift;let x=O,v=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(v=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(x=y),V&&!p){const C=Xt(d.left,0),P=Xt(d.right,0),N=Xt(d.top,0),A=Xt(d.bottom,0);_?v=I-2*(C!==0||P!==0?C+P:Xt(d.left,d.right)):x=w-2*(N!==0||A!==0?N+A:Xt(d.top,d.bottom))}await c({...e,availableWidth:v,availableHeight:x});const b=await o.getDimensions(a.floating);return I!==b.width||w!==b.height?{reset:{rects:!0}}:{}}}};function nh(){return typeof window<"u"}function Fo(t){return KI(t)?(t.nodeName||"").toLowerCase():"#document"}function en(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function rr(t){var e;return(e=(KI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function KI(t){return nh()?t instanceof Node||t instanceof en(t).Node:!1}function An(t){return nh()?t instanceof Element||t instanceof en(t).Element:!1}function Xn(t){return nh()?t instanceof HTMLElement||t instanceof en(t).HTMLElement:!1}function q0(t){return!nh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof en(t).ShadowRoot}const R6=new Set(["inline","contents"]);function Ol(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Pn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!R6.has(i)}const A6=new Set(["table","td","th"]);function P6(t){return A6.has(Fo(t))}const N6=[":popover-open",":modal"];function rh(t){return N6.some(e=>{try{return t.matches(e)}catch{return!1}})}const O6=["transform","translate","scale","rotate","perspective"],D6=["transform","translate","scale","rotate","perspective","filter"],L6=["paint","layout","strict","content"];function py(t){const e=my(),n=An(t)?Pn(t):t;return O6.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||D6.some(r=>(n.willChange||"").includes(r))||L6.some(r=>(n.contain||"").includes(r))}function M6(t){let e=_i(t);for(;Xn(e)&&!_o(e);){if(py(e))return e;if(rh(e))return null;e=_i(e)}return null}function my(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const V6=new Set(["html","body","#document"]);function _o(t){return V6.has(Fo(t))}function Pn(t){return en(t).getComputedStyle(t)}function ih(t){return An(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _i(t){if(Fo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||q0(t)&&t.host||rr(t);return q0(e)?e.host:e}function GI(t){const e=_i(t);return _o(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xn(e)&&Ol(e)?e:GI(e)}function hl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=GI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=en(i);if(s){const a=im(o);return e.concat(o,o.visualViewport||[],Ol(i)?i:[],a&&n?hl(a):[])}return e.concat(i,hl(i,[],n))}function im(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function QI(t){const e=Pn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Xn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=pd(n)!==s||pd(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function gy(t){return An(t)?t:t.contextElement}function to(t){const e=gy(t);if(!Xn(e))return Kn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=QI(e);let o=(s?pd(n.width):n.width)/r,a=(s?pd(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const j6=Kn(0);function YI(t){const e=en(t);return!my()||!e.visualViewport?j6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function F6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==en(t)?!1:e}function is(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=gy(t);let o=Kn(1);e&&(r?An(r)&&(o=to(r)):o=to(t));const a=F6(s,n,r)?YI(s):Kn(0);let c=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const p=en(s),_=r&&An(r)?en(r):r;let I=p,w=im(I);for(;w&&r&&_!==I;){const R=to(w),E=w.getBoundingClientRect(),y=Pn(w),S=E.left+(w.clientLeft+parseFloat(y.paddingLeft))*R.x,O=E.top+(w.clientTop+parseFloat(y.paddingTop))*R.y;c*=R.x,u*=R.y,d*=R.x,f*=R.y,c+=S,u+=O,I=en(w),w=im(I)}}return gd({width:d,height:f,x:c,y:u})}function yy(t,e){const n=ih(t).scrollLeft;return e?e.left+n:is(rr(t)).left+n}function XI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:yy(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function U6(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=rr(r),a=e?rh(e.floating):!1;if(r===o||a&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Kn(1);const d=Kn(0),f=Xn(r);if((f||!f&&!s)&&((Fo(r)!=="body"||Ol(o))&&(c=ih(r)),Xn(r))){const _=is(r);u=to(r),d.x=_.x+r.clientLeft,d.y=_.y+r.clientTop}const p=o&&!f&&!s?XI(o,c,!0):Kn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function z6(t){return Array.from(t.getClientRects())}function B6(t){const e=rr(t),n=ih(t),r=t.ownerDocument.body,i=Xt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Xt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+yy(t);const a=-n.scrollTop;return Pn(r).direction==="rtl"&&(o+=Xt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function $6(t,e){const n=en(t),r=rr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const u=my();(!u||u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}const H6=new Set(["absolute","fixed"]);function W6(t,e){const n=is(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Xn(t)?to(t):Kn(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:a,x:c,y:u}}function K0(t,e,n){let r;if(e==="viewport")r=$6(t,n);else if(e==="document")r=B6(rr(t));else if(An(e))r=W6(e,n);else{const i=YI(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return gd(r)}function JI(t,e){const n=_i(t);return n===e||!An(n)||_o(n)?!1:Pn(n).position==="fixed"||JI(n,e)}function q6(t,e){const n=e.get(t);if(n)return n;let r=hl(t,[],!1).filter(a=>An(a)&&Fo(a)!=="body"),i=null;const s=Pn(t).position==="fixed";let o=s?_i(t):t;for(;An(o)&&!_o(o);){const a=Pn(o),c=py(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&H6.has(i.position)||Ol(o)&&!c&&JI(t,o))?r=r.filter(d=>d!==o):i=a,o=_i(o)}return e.set(t,r),r}function K6(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?rh(e)?[]:q6(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const f=K0(e,d,i);return u.top=Xt(f.top,u.top),u.right=wi(f.right,u.right),u.bottom=wi(f.bottom,u.bottom),u.left=Xt(f.left,u.left),u},K0(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function G6(t){const{width:e,height:n}=QI(t);return{width:e,height:n}}function Q6(t,e,n){const r=Xn(e),i=rr(e),s=n==="fixed",o=is(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=Kn(0);function u(){c.x=yy(i)}if(r||!r&&!s)if((Fo(e)!=="body"||Ol(i))&&(a=ih(e)),r){const _=is(e,!0,s,e);c.x=_.x+e.clientLeft,c.y=_.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?XI(i,a):Kn(0),f=o.left+a.scrollLeft-c.x-d.x,p=o.top+a.scrollTop-c.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function bf(t){return Pn(t).position==="static"}function G0(t,e){if(!Xn(t)||Pn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return rr(t)===n&&(n=n.ownerDocument.body),n}function ZI(t,e){const n=en(t);if(rh(t))return n;if(!Xn(t)){let i=_i(t);for(;i&&!_o(i);){if(An(i)&&!bf(i))return i;i=_i(i)}return n}let r=G0(t,e);for(;r&&P6(r)&&bf(r);)r=G0(r,e);return r&&_o(r)&&bf(r)&&!py(r)?n:r||M6(t)||n}const Y6=async function(t){const e=this.getOffsetParent||ZI,n=this.getDimensions,r=await n(t.floating);return{reference:Q6(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function X6(t){return Pn(t).direction==="rtl"}const J6={convertOffsetParentRelativeRectToViewportRelativeRect:U6,getDocumentElement:rr,getClippingRect:K6,getOffsetParent:ZI,getElementRects:Y6,getClientRects:z6,getDimensions:G6,getScale:to,isElement:An,isRTL:X6};function eb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Z6(t,e){let n=null,r;const i=rr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:p,height:_}=u;if(a||e(),!p||!_)return;const I=Rc(f),w=Rc(i.clientWidth-(d+p)),R=Rc(i.clientHeight-(f+_)),E=Rc(d),S={rootMargin:-I+"px "+-w+"px "+-R+"px "+-E+"px",threshold:Xt(0,wi(1,c))||1};let O=!0;function D(V){const x=V[0].intersectionRatio;if(x!==c){if(!O)return o();x?o(!1,x):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x===1&&!eb(u,t.getBoundingClientRect())&&o(),O=!1}try{n=new IntersectionObserver(D,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,S)}n.observe(t)}return o(!0),s}function e5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=gy(t),d=i||s?[...u?hl(u):[],...hl(e)]:[];d.forEach(E=>{i&&E.addEventListener("scroll",n,{passive:!0}),s&&E.addEventListener("resize",n)});const f=u&&a?Z6(u,n):null;let p=-1,_=null;o&&(_=new ResizeObserver(E=>{let[y]=E;y&&y.target===u&&_&&(_.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=_)==null||S.observe(e)})),n()}),u&&!c&&_.observe(u),_.observe(e));let I,w=c?is(t):null;c&&R();function R(){const E=is(t);w&&!eb(w,E)&&n(),w=E,I=requestAnimationFrame(R)}return n(),()=>{var E;d.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),f==null||f(),(E=_)==null||E.disconnect(),_=null,c&&cancelAnimationFrame(I)}}const t5=I6,n5=b6,r5=x6,i5=C6,s5=T6,Q0=E6,o5=k6,a5=(t,e,n)=>{const r=new Map,i={platform:J6,...n},s={...i.platform,_c:r};return _6(t,e,{...i,platform:s})};var l5=typeof document<"u",c5=function(){},lu=l5?T.useLayoutEffect:c5;function yd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!yd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!yd(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function tb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Y0(t,e){const n=tb(t);return Math.round(e*n)/n}function kf(t){const e=T.useRef(t);return lu(()=>{e.current=t}),e}function u5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,f]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,_]=T.useState(r);yd(p,r)||_(r);const[I,w]=T.useState(null),[R,E]=T.useState(null),y=T.useCallback(L=>{L!==V.current&&(V.current=L,w(L))},[]),S=T.useCallback(L=>{L!==x.current&&(x.current=L,E(L))},[]),O=s||I,D=o||R,V=T.useRef(null),x=T.useRef(null),v=T.useRef(d),b=c!=null,C=kf(c),P=kf(i),N=kf(u),A=T.useCallback(()=>{if(!V.current||!x.current)return;const L={placement:e,strategy:n,middleware:p};P.current&&(L.platform=P.current),a5(V.current,x.current,L).then($=>{const X={...$,isPositioned:N.current!==!1};W.current&&!yd(v.current,X)&&(v.current=X,So.flushSync(()=>{f(X)}))})},[p,e,n,P,N]);lu(()=>{u===!1&&v.current.isPositioned&&(v.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const W=T.useRef(!1);lu(()=>(W.current=!0,()=>{W.current=!1}),[]),lu(()=>{if(O&&(V.current=O),D&&(x.current=D),O&&D){if(C.current)return C.current(O,D,A);A()}},[O,D,A,C,b]);const re=T.useMemo(()=>({reference:V,floating:x,setReference:y,setFloating:S}),[y,S]),Z=T.useMemo(()=>({reference:O,floating:D}),[O,D]),q=T.useMemo(()=>{const L={position:n,left:0,top:0};if(!Z.floating)return L;const $=Y0(Z.floating,d.x),X=Y0(Z.floating,d.y);return a?{...L,transform:"translate("+$+"px, "+X+"px)",...tb(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:X}},[n,a,Z.floating,d.x,d.y]);return T.useMemo(()=>({...d,update:A,refs:re,elements:Z,floatingStyles:q}),[d,A,re,Z,q])}const d5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Q0({element:r.current,padding:i}).fn(n):{}:r?Q0({element:r,padding:i}).fn(n):{}}}},h5=(t,e)=>({...t5(t),options:[t,e]}),f5=(t,e)=>({...n5(t),options:[t,e]}),p5=(t,e)=>({...o5(t),options:[t,e]}),m5=(t,e)=>({...r5(t),options:[t,e]}),g5=(t,e)=>({...i5(t),options:[t,e]}),y5=(t,e)=>({...s5(t),options:[t,e]}),v5=(t,e)=>({...d5(t),options:[t,e]});var w5="Arrow",nb=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return m.jsx($e.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});nb.displayName=w5;var _5=nb;function E5(t){const[e,n]=T.useState(void 0);return Kt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var vy="Popper",[rb,ib]=cy(vy),[x5,sb]=rb(vy),ob=t=>{const{__scopePopper:e,children:n}=t,[r,i]=T.useState(null);return m.jsx(x5,{scope:e,anchor:r,onAnchorChange:i,children:n})};ob.displayName=vy;var ab="PopperAnchor",lb=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=sb(ab,n),o=T.useRef(null),a=_t(e,o);return T.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:m.jsx($e.div,{...i,ref:a})});lb.displayName=ab;var wy="PopperContent",[T5,S5]=rb(wy),cb=T.forwardRef((t,e)=>{var H,xe,Me,fe,ce,ue;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:_="optimized",onPlaced:I,...w}=t,R=sb(wy,n),[E,y]=T.useState(null),S=_t(e,lt=>y(lt)),[O,D]=T.useState(null),V=E5(O),x=(V==null?void 0:V.width)??0,v=(V==null?void 0:V.height)??0,b=r+(s!=="center"?"-"+s:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],N=P.length>0,A={padding:C,boundary:P.filter(b5),altBoundary:N},{refs:W,floatingStyles:re,placement:Z,isPositioned:q,middlewareData:L}=u5({strategy:"fixed",placement:b,whileElementsMounted:(...lt)=>e5(...lt,{animationFrame:_==="always"}),elements:{reference:R.anchor},middleware:[h5({mainAxis:i+v,alignmentAxis:o}),c&&f5({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?p5():void 0,...A}),c&&m5({...A}),g5({...A,apply:({elements:lt,rects:jt,availableWidth:ir,availableHeight:Lr})=>{const{width:ki,height:ch}=jt.reference,Ci=lt.floating.style;Ci.setProperty("--radix-popper-available-width",`${ir}px`),Ci.setProperty("--radix-popper-available-height",`${Lr}px`),Ci.setProperty("--radix-popper-anchor-width",`${ki}px`),Ci.setProperty("--radix-popper-anchor-height",`${ch}px`)}}),O&&v5({element:O,padding:a}),k5({arrowWidth:x,arrowHeight:v}),p&&y5({strategy:"referenceHidden",...A})]}),[$,X]=hb(Z),he=rs(I);Kt(()=>{q&&(he==null||he())},[q,he]);const le=(H=L.arrow)==null?void 0:H.x,oe=(xe=L.arrow)==null?void 0:xe.y,_e=((Me=L.arrow)==null?void 0:Me.centerOffset)!==0,[He,Ke]=T.useState();return Kt(()=>{E&&Ke(window.getComputedStyle(E).zIndex)},[E]),m.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:q?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:He,"--radix-popper-transform-origin":[(fe=L.transformOrigin)==null?void 0:fe.x,(ce=L.transformOrigin)==null?void 0:ce.y].join(" "),...((ue=L.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(T5,{scope:n,placedSide:$,onArrowChange:D,arrowX:le,arrowY:oe,shouldHideArrow:_e,children:m.jsx($e.div,{"data-side":$,"data-align":X,...w,ref:S,style:{...w.style,animation:q?void 0:"none"}})})})});cb.displayName=wy;var ub="PopperArrow",I5={top:"bottom",right:"left",bottom:"top",left:"right"},db=T.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=S5(ub,r),o=I5[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(_5,{...i,ref:n,style:{...i.style,display:"block"}})})});db.displayName=ub;function b5(t){return t!==null}var k5=t=>({name:"transformOrigin",options:t,fn(e){var R,E,y;const{placement:n,rects:r,middlewareData:i}=e,o=((R=i.arrow)==null?void 0:R.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=hb(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((E=i.arrow)==null?void 0:E.x)??0)+a/2,_=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let I="",w="";return u==="bottom"?(I=o?f:`${p}px`,w=`${-c}px`):u==="top"?(I=o?f:`${p}px`,w=`${r.floating.height+c}px`):u==="right"?(I=`${-c}px`,w=o?f:`${_}px`):u==="left"&&(I=`${r.floating.width+c}px`,w=o?f:`${_}px`),{data:{x:I,y:w}}}});function hb(t){const[e,n="center"]=t.split("-");return[e,n]}var C5=ob,R5=lb,A5=cb,P5=db,N5="Portal",fb=T.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=T.useState(!1);Kt(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?lA.createPortal(m.jsx($e.div,{...r,ref:e}),o):null});fb.displayName=N5;var O5=mE[" useInsertionEffect ".trim().toString()]||Kt;function X0({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=D5({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:i;{const d=T.useRef(t!==void 0);T.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=T.useCallback(d=>{var f;if(a){const p=L5(d)?d(t):d;p!==t&&((f=o.current)==null||f.call(o,p))}else s(d)},[a,t,s,o]);return[c,u]}function D5({defaultProp:t,onChange:e}){const[n,r]=T.useState(t),i=T.useRef(n),s=T.useRef(e);return O5(()=>{s.current=e},[e]),T.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function L5(t){return typeof t=="function"}function M5(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var pb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),V5="VisuallyHidden",j5=T.forwardRef((t,e)=>m.jsx($e.span,{...t,ref:e,style:{...pb,...t.style}}));j5.displayName=V5;var F5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xs=new WeakMap,Ac=new WeakMap,Pc={},Cf=0,mb=function(t){return t&&(t.host||mb(t.parentNode))},U5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=mb(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},z5=function(t,e,n,r){var i=U5(e,Array.isArray(t)?t:[t]);Pc[n]||(Pc[n]=new WeakMap);var s=Pc[n],o=[],a=new Set,c=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var _=p.getAttribute(r),I=_!==null&&_!=="false",w=(xs.get(p)||0)+1,R=(s.get(p)||0)+1;xs.set(p,w),s.set(p,R),o.push(p),w===1&&I&&Ac.set(p,!0),R===1&&p.setAttribute(n,"true"),I||p.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",p,E)}})};return d(e),a.clear(),Cf++,function(){o.forEach(function(f){var p=xs.get(f)-1,_=s.get(f)-1;xs.set(f,p),s.set(f,_),p||(Ac.has(f)||f.removeAttribute(r),Ac.delete(f)),_||f.removeAttribute(n)}),Cf--,Cf||(xs=new WeakMap,xs=new WeakMap,Ac=new WeakMap,Pc={})}},B5=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=F5(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),z5(r,i,n,"aria-hidden")):function(){return null}},Vn=function(){return Vn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vn.apply(this,arguments)};function gb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $5(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var cu="right-scroll-bar-position",uu="width-before-scroll-bar",H5="with-scroll-bars-hidden",W5="--removed-body-scroll-bar-size";function Rf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function q5(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var K5=typeof window<"u"?T.useLayoutEffect:T.useEffect,J0=new WeakMap;function G5(t,e){var n=q5(null,function(r){return t.forEach(function(i){return Rf(i,r)})});return K5(function(){var r=J0.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Rf(a,null)}),s.forEach(function(a){i.has(a)||Rf(a,o)})}J0.set(n,t)},[t]),n}function Q5(t){return t}function Y5(t,e){e===void 0&&(e=Q5);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function X5(t){t===void 0&&(t={});var e=Y5(null);return e.options=Vn({async:!0,ssr:!1},t),e}var yb=function(t){var e=t.sideCar,n=gb(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Vn({},n))};yb.isSideCarExport=!0;function J5(t,e){return t.useMedium(e),yb}var vb=X5(),Af=function(){},sh=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:Af,onWheelCapture:Af,onTouchMoveCapture:Af}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,_=t.noRelative,I=t.noIsolation,w=t.inert,R=t.allowPinchZoom,E=t.as,y=E===void 0?"div":E,S=t.gapMode,O=gb(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=p,V=G5([n,e]),x=Vn(Vn({},O),i);return T.createElement(T.Fragment,null,d&&T.createElement(D,{sideCar:vb,removeScrollBar:u,shards:f,noRelative:_,noIsolation:I,inert:w,setCallbacks:s,allowPinchZoom:!!R,lockRef:n,gapMode:S}),o?T.cloneElement(T.Children.only(a),Vn(Vn({},x),{ref:V})):T.createElement(y,Vn({},x,{className:c,ref:V}),a))});sh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sh.classNames={fullWidth:uu,zeroRight:cu};var Z5=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eF(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Z5();return e&&t.setAttribute("nonce",e),t}function tF(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function nF(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var rF=function(){var t=0,e=null;return{add:function(n){t==0&&(e=eF())&&(tF(e,n),nF(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},iF=function(){var t=rF();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},wb=function(){var t=iF(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},sF={left:0,top:0,right:0,gap:0},Pf=function(t){return parseInt(t||"",10)||0},oF=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Pf(n),Pf(r),Pf(i)]},aF=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return sF;var e=oF(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},lF=wb(),no="data-scroll-locked",cF=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(H5,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(no,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(uu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cu," .").concat(cu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(uu," .").concat(uu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(no,`] {
    `).concat(W5,": ").concat(a,`px;
  }
`)},Z0=function(){var t=parseInt(document.body.getAttribute(no)||"0",10);return isFinite(t)?t:0},uF=function(){T.useEffect(function(){return document.body.setAttribute(no,(Z0()+1).toString()),function(){var t=Z0()-1;t<=0?document.body.removeAttribute(no):document.body.setAttribute(no,t.toString())}},[])},dF=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;uF();var s=T.useMemo(function(){return aF(i)},[i]);return T.createElement(lF,{styles:cF(s,!e,i,n?"":"!important")})},sm=!1;if(typeof window<"u")try{var Nc=Object.defineProperty({},"passive",{get:function(){return sm=!0,!0}});window.addEventListener("test",Nc,Nc),window.removeEventListener("test",Nc,Nc)}catch{sm=!1}var Ts=sm?{passive:!1}:!1,hF=function(t){return t.tagName==="TEXTAREA"},_b=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!hF(t)&&n[e]==="visible")},fF=function(t){return _b(t,"overflowY")},pF=function(t){return _b(t,"overflowX")},eE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Eb(t,r);if(i){var s=xb(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mF=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},gF=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Eb=function(t,e){return t==="v"?fF(e):pF(e)},xb=function(t,e){return t==="v"?mF(e):gF(e)},yF=function(t,e){return t==="h"&&e==="rtl"?-1:1},vF=function(t,e,n,r,i){var s=yF(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,c=e.contains(a),u=!1,d=o>0,f=0,p=0;do{if(!a)break;var _=xb(t,a),I=_[0],w=_[1],R=_[2],E=w-R-s*I;(I||E)&&Eb(t,a)&&(f+=E,p+=I);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(u=!0),u},Oc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},tE=function(t){return[t.deltaX,t.deltaY]},nE=function(t){return t&&"current"in t?t.current:t},wF=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_F=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},EF=0,Ss=[];function xF(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState(EF++)[0],s=T.useState(wb)[0],o=T.useRef(t);T.useEffect(function(){o.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=$5([t.lockRef.current],(t.shards||[]).map(nE),!0).filter(Boolean);return w.forEach(function(R){return R.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=T.useCallback(function(w,R){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var E=Oc(w),y=n.current,S="deltaX"in w?w.deltaX:y[0]-E[0],O="deltaY"in w?w.deltaY:y[1]-E[1],D,V=w.target,x=Math.abs(S)>Math.abs(O)?"h":"v";if("touches"in w&&x==="h"&&V.type==="range")return!1;var v=eE(x,V);if(!v)return!0;if(v?D=x:(D=x==="v"?"h":"v",v=eE(x,V)),!v)return!1;if(!r.current&&"changedTouches"in w&&(S||O)&&(r.current=D),!D)return!0;var b=r.current||D;return vF(b,R,w,b==="h"?S:O)},[]),c=T.useCallback(function(w){var R=w;if(!(!Ss.length||Ss[Ss.length-1]!==s)){var E="deltaY"in R?tE(R):Oc(R),y=e.current.filter(function(D){return D.name===R.type&&(D.target===R.target||R.target===D.shadowParent)&&wF(D.delta,E)})[0];if(y&&y.should){R.cancelable&&R.preventDefault();return}if(!y){var S=(o.current.shards||[]).map(nE).filter(Boolean).filter(function(D){return D.contains(R.target)}),O=S.length>0?a(R,S[0]):!o.current.noIsolation;O&&R.cancelable&&R.preventDefault()}}},[]),u=T.useCallback(function(w,R,E,y){var S={name:w,delta:R,target:E,should:y,shadowParent:TF(E)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(O){return O!==S})},1)},[]),d=T.useCallback(function(w){n.current=Oc(w),r.current=void 0},[]),f=T.useCallback(function(w){u(w.type,tE(w),w.target,a(w,t.lockRef.current))},[]),p=T.useCallback(function(w){u(w.type,Oc(w),w.target,a(w,t.lockRef.current))},[]);T.useEffect(function(){return Ss.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ts),document.addEventListener("touchmove",c,Ts),document.addEventListener("touchstart",d,Ts),function(){Ss=Ss.filter(function(w){return w!==s}),document.removeEventListener("wheel",c,Ts),document.removeEventListener("touchmove",c,Ts),document.removeEventListener("touchstart",d,Ts)}},[]);var _=t.removeScrollBar,I=t.inert;return T.createElement(T.Fragment,null,I?T.createElement(s,{styles:_F(i)}):null,_?T.createElement(dF,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function TF(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const SF=J5(vb,xF);var Tb=T.forwardRef(function(t,e){return T.createElement(sh,Vn({},t,{ref:e,sideCar:SF}))});Tb.classNames=sh.classNames;var IF=[" ","Enter","ArrowUp","ArrowDown"],bF=[" ","Enter"],ss="Select",[oh,ah,kF]=B3(ss),[Uo,pU]=cy(ss,[kF,ib]),lh=ib(),[CF,Ii]=Uo(ss),[RF,AF]=Uo(ss),Sb=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:_,form:I}=t,w=lh(e),[R,E]=T.useState(null),[y,S]=T.useState(null),[O,D]=T.useState(!1),V=H3(u),[x,v]=X0({prop:r,defaultProp:i??!1,onChange:s,caller:ss}),[b,C]=X0({prop:o,defaultProp:a,onChange:c,caller:ss}),P=T.useRef(null),N=R?I||!!R.closest("form"):!0,[A,W]=T.useState(new Set),re=Array.from(A).map(Z=>Z.props.value).join(";");return m.jsx(C5,{...w,children:m.jsxs(CF,{required:_,scope:e,trigger:R,onTriggerChange:E,valueNode:y,onValueNodeChange:S,valueNodeHasChildren:O,onValueNodeHasChildrenChange:D,contentId:uy(),value:b,onValueChange:C,open:x,onOpenChange:v,dir:V,triggerPointerDownPosRef:P,disabled:p,children:[m.jsx(oh.Provider,{scope:e,children:m.jsx(RF,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(Z=>{W(q=>new Set(q).add(Z))},[]),onNativeOptionRemove:T.useCallback(Z=>{W(q=>{const L=new Set(q);return L.delete(Z),L})},[]),children:n})}),N?m.jsxs(Gb,{"aria-hidden":!0,required:_,tabIndex:-1,name:d,autoComplete:f,value:b,onChange:Z=>C(Z.target.value),disabled:p,form:I,children:[b===void 0?m.jsx("option",{value:""}):null,Array.from(A)]},re):null]})})};Sb.displayName=ss;var Ib="SelectTrigger",bb=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=lh(n),o=Ii(Ib,n),a=o.disabled||r,c=_t(e,o.onTriggerChange),u=ah(n),d=T.useRef("touch"),[f,p,_]=Yb(w=>{const R=u().filter(S=>!S.disabled),E=R.find(S=>S.value===o.value),y=Xb(R,w,E);y!==void 0&&o.onValueChange(y.value)}),I=w=>{a||(o.onOpenChange(!0),_()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return m.jsx(R5,{asChild:!0,...s,children:m.jsx($e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Qb(o.value)?"":void 0,...i,ref:c,onClick:Qe(i.onClick,w=>{w.currentTarget.focus(),d.current!=="mouse"&&I(w)}),onPointerDown:Qe(i.onPointerDown,w=>{d.current=w.pointerType;const R=w.target;R.hasPointerCapture(w.pointerId)&&R.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(I(w),w.preventDefault())}),onKeyDown:Qe(i.onKeyDown,w=>{const R=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(R&&w.key===" ")&&IF.includes(w.key)&&(I(),w.preventDefault())})})})});bb.displayName=Ib;var kb="SelectValue",Cb=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,c=Ii(kb,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=_t(e,c.onValueNodeChange);return Kt(()=>{u(d)},[u,d]),m.jsx($e.span,{...a,ref:f,style:{pointerEvents:"none"},children:Qb(c.value)?m.jsx(m.Fragment,{children:o}):s})});Cb.displayName=kb;var PF="SelectIcon",Rb=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return m.jsx($e.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});Rb.displayName=PF;var NF="SelectPortal",Ab=t=>m.jsx(fb,{asChild:!0,...t});Ab.displayName=NF;var os="SelectContent",Pb=T.forwardRef((t,e)=>{const n=Ii(os,t.__scopeSelect),[r,i]=T.useState();if(Kt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?So.createPortal(m.jsx(Nb,{scope:t.__scopeSelect,children:m.jsx(oh.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),s):null}return m.jsx(Ob,{...t,ref:e})});Pb.displayName=os;var yn=10,[Nb,bi]=Uo(os),OF="SelectContentImpl",DF=ul("SelectContent.RemoveScroll"),Ob=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:_,sticky:I,hideWhenDetached:w,avoidCollisions:R,...E}=t,y=Ii(os,n),[S,O]=T.useState(null),[D,V]=T.useState(null),x=_t(e,H=>O(H)),[v,b]=T.useState(null),[C,P]=T.useState(null),N=ah(n),[A,W]=T.useState(!1),re=T.useRef(!1);T.useEffect(()=>{if(S)return B5(S)},[S]),Z3();const Z=T.useCallback(H=>{const[xe,...Me]=N().map(ue=>ue.ref.current),[fe]=Me.slice(-1),ce=document.activeElement;for(const ue of H)if(ue===ce||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===xe&&D&&(D.scrollTop=0),ue===fe&&D&&(D.scrollTop=D.scrollHeight),ue==null||ue.focus(),document.activeElement!==ce))return},[N,D]),q=T.useCallback(()=>Z([v,S]),[Z,v,S]);T.useEffect(()=>{A&&q()},[A,q]);const{onOpenChange:L,triggerPointerDownPosRef:$}=y;T.useEffect(()=>{if(S){let H={x:0,y:0};const xe=fe=>{var ce,ue;H={x:Math.abs(Math.round(fe.pageX)-(((ce=$.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((ue=$.current)==null?void 0:ue.y)??0))}},Me=fe=>{H.x<=10&&H.y<=10?fe.preventDefault():S.contains(fe.target)||L(!1),document.removeEventListener("pointermove",xe),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",Me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",Me,{capture:!0})}}},[S,L,$]),T.useEffect(()=>{const H=()=>L(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[L]);const[X,he]=Yb(H=>{const xe=N().filter(ce=>!ce.disabled),Me=xe.find(ce=>ce.ref.current===document.activeElement),fe=Xb(xe,H,Me);fe&&setTimeout(()=>fe.ref.current.focus())}),le=T.useCallback((H,xe,Me)=>{const fe=!re.current&&!Me;(y.value!==void 0&&y.value===xe||fe)&&(b(H),fe&&(re.current=!0))},[y.value]),oe=T.useCallback(()=>S==null?void 0:S.focus(),[S]),_e=T.useCallback((H,xe,Me)=>{const fe=!re.current&&!Me;(y.value!==void 0&&y.value===xe||fe)&&P(H)},[y.value]),He=r==="popper"?om:Db,Ke=He===om?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:_,sticky:I,hideWhenDetached:w,avoidCollisions:R}:{};return m.jsx(Nb,{scope:n,content:S,viewport:D,onViewportChange:V,itemRefCallback:le,selectedItem:v,onItemLeave:oe,itemTextRefCallback:_e,focusSelectedItem:q,selectedItemText:C,position:r,isPositioned:A,searchRef:X,children:m.jsx(Tb,{as:DF,allowPinchZoom:!0,children:m.jsx($I,{asChild:!0,trapped:y.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:Qe(i,H=>{var xe;(xe=y.trigger)==null||xe.focus({preventScroll:!0}),H.preventDefault()}),children:m.jsx(zI,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:m.jsx(He,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:H=>H.preventDefault(),...E,...Ke,onPlaced:()=>W(!0),ref:x,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Qe(E.onKeyDown,H=>{const xe=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!xe&&H.key.length===1&&he(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let fe=N().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(H.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const ce=H.target,ue=fe.indexOf(ce);fe=fe.slice(ue+1)}setTimeout(()=>Z(fe)),H.preventDefault()}})})})})})})});Ob.displayName=OF;var LF="SelectItemAlignedPosition",Db=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Ii(os,n),o=bi(os,n),[a,c]=T.useState(null),[u,d]=T.useState(null),f=_t(e,x=>d(x)),p=ah(n),_=T.useRef(!1),I=T.useRef(!0),{viewport:w,selectedItem:R,selectedItemText:E,focusSelectedItem:y}=o,S=T.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&u&&w&&R&&E){const x=s.trigger.getBoundingClientRect(),v=u.getBoundingClientRect(),b=s.valueNode.getBoundingClientRect(),C=E.getBoundingClientRect();if(s.dir!=="rtl"){const ce=C.left-v.left,ue=b.left-ce,lt=x.left-ue,jt=x.width+lt,ir=Math.max(jt,v.width),Lr=window.innerWidth-yn,ki=O0(ue,[yn,Math.max(yn,Lr-ir)]);a.style.minWidth=jt+"px",a.style.left=ki+"px"}else{const ce=v.right-C.right,ue=window.innerWidth-b.right-ce,lt=window.innerWidth-x.right-ue,jt=x.width+lt,ir=Math.max(jt,v.width),Lr=window.innerWidth-yn,ki=O0(ue,[yn,Math.max(yn,Lr-ir)]);a.style.minWidth=jt+"px",a.style.right=ki+"px"}const P=p(),N=window.innerHeight-yn*2,A=w.scrollHeight,W=window.getComputedStyle(u),re=parseInt(W.borderTopWidth,10),Z=parseInt(W.paddingTop,10),q=parseInt(W.borderBottomWidth,10),L=parseInt(W.paddingBottom,10),$=re+Z+A+L+q,X=Math.min(R.offsetHeight*5,$),he=window.getComputedStyle(w),le=parseInt(he.paddingTop,10),oe=parseInt(he.paddingBottom,10),_e=x.top+x.height/2-yn,He=N-_e,Ke=R.offsetHeight/2,H=R.offsetTop+Ke,xe=re+Z+H,Me=$-xe;if(xe<=_e){const ce=P.length>0&&R===P[P.length-1].ref.current;a.style.bottom="0px";const ue=u.clientHeight-w.offsetTop-w.offsetHeight,lt=Math.max(He,Ke+(ce?oe:0)+ue+q),jt=xe+lt;a.style.height=jt+"px"}else{const ce=P.length>0&&R===P[0].ref.current;a.style.top="0px";const lt=Math.max(_e,re+w.offsetTop+(ce?le:0)+Ke)+Me;a.style.height=lt+"px",w.scrollTop=xe-_e+w.offsetTop}a.style.margin=`${yn}px 0`,a.style.minHeight=X+"px",a.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[p,s.trigger,s.valueNode,a,u,w,R,E,s.dir,r]);Kt(()=>S(),[S]);const[O,D]=T.useState();Kt(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const V=T.useCallback(x=>{x&&I.current===!0&&(S(),y==null||y(),I.current=!1)},[S,y]);return m.jsx(VF,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:_,onScrollButtonChange:V,children:m.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:m.jsx($e.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Db.displayName=LF;var MF="SelectPopperPosition",om=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=yn,...s}=t,o=lh(n);return m.jsx(A5,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});om.displayName=MF;var[VF,_y]=Uo(os,{}),am="SelectViewport",Lb=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=bi(am,n),o=_y(am,n),a=_t(e,s.onViewportChange),c=T.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),m.jsx(oh.Slot,{scope:n,children:m.jsx($e.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Qe(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const _=Math.abs(c.current-d.scrollTop);if(_>0){const I=window.innerHeight-yn*2,w=parseFloat(f.style.minHeight),R=parseFloat(f.style.height),E=Math.max(w,R);if(E<I){const y=E+_,S=Math.min(I,y),O=y-S;f.style.height=S+"px",f.style.bottom==="0px"&&(d.scrollTop=O>0?O:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Lb.displayName=am;var Mb="SelectGroup",[jF,FF]=Uo(Mb),UF=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=uy();return m.jsx(jF,{scope:n,id:i,children:m.jsx($e.div,{role:"group","aria-labelledby":i,...r,ref:e})})});UF.displayName=Mb;var Vb="SelectLabel",jb=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=FF(Vb,n);return m.jsx($e.div,{id:i.id,...r,ref:e})});jb.displayName=Vb;var vd="SelectItem",[zF,Fb]=Uo(vd),Ub=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Ii(vd,n),c=bi(vd,n),u=a.value===r,[d,f]=T.useState(s??""),[p,_]=T.useState(!1),I=_t(e,y=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,y,r,i)}),w=uy(),R=T.useRef("touch"),E=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(zF,{scope:n,value:r,disabled:i,textId:w,isSelected:u,onItemTextChange:T.useCallback(y=>{f(S=>S||((y==null?void 0:y.textContent)??"").trim())},[]),children:m.jsx(oh.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:m.jsx($e.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:I,onFocus:Qe(o.onFocus,()=>_(!0)),onBlur:Qe(o.onBlur,()=>_(!1)),onClick:Qe(o.onClick,()=>{R.current!=="mouse"&&E()}),onPointerUp:Qe(o.onPointerUp,()=>{R.current==="mouse"&&E()}),onPointerDown:Qe(o.onPointerDown,y=>{R.current=y.pointerType}),onPointerMove:Qe(o.onPointerMove,y=>{var S;R.current=y.pointerType,i?(S=c.onItemLeave)==null||S.call(c):R.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Qe(o.onPointerLeave,y=>{var S;y.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:Qe(o.onKeyDown,y=>{var O;((O=c.searchRef)==null?void 0:O.current)!==""&&y.key===" "||(bF.includes(y.key)&&E(),y.key===" "&&y.preventDefault())})})})})});Ub.displayName=vd;var xa="SelectItemText",zb=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Ii(xa,n),a=bi(xa,n),c=Fb(xa,n),u=AF(xa,n),[d,f]=T.useState(null),p=_t(e,E=>f(E),c.onItemTextChange,E=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,E,c.value,c.disabled)}),_=d==null?void 0:d.textContent,I=T.useMemo(()=>m.jsx("option",{value:c.value,disabled:c.disabled,children:_},c.value),[c.disabled,c.value,_]),{onNativeOptionAdd:w,onNativeOptionRemove:R}=u;return Kt(()=>(w(I),()=>R(I)),[w,R,I]),m.jsxs(m.Fragment,{children:[m.jsx($e.span,{id:c.textId,...s,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?So.createPortal(s.children,o.valueNode):null]})});zb.displayName=xa;var Bb="SelectItemIndicator",$b=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Fb(Bb,n).isSelected?m.jsx($e.span,{"aria-hidden":!0,...r,ref:e}):null});$b.displayName=Bb;var lm="SelectScrollUpButton",Hb=T.forwardRef((t,e)=>{const n=bi(lm,t.__scopeSelect),r=_y(lm,t.__scopeSelect),[i,s]=T.useState(!1),o=_t(e,r.onScrollButtonChange);return Kt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?m.jsx(qb,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});Hb.displayName=lm;var cm="SelectScrollDownButton",Wb=T.forwardRef((t,e)=>{const n=bi(cm,t.__scopeSelect),r=_y(cm,t.__scopeSelect),[i,s]=T.useState(!1),o=_t(e,r.onScrollButtonChange);return Kt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?m.jsx(qb,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});Wb.displayName=cm;var qb=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=bi("SelectScrollButton",n),o=T.useRef(null),a=ah(n),c=T.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return T.useEffect(()=>()=>c(),[c]),Kt(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),m.jsx($e.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Qe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Qe(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Qe(i.onPointerLeave,()=>{c()})})}),BF="SelectSeparator",Kb=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m.jsx($e.div,{"aria-hidden":!0,...r,ref:e})});Kb.displayName=BF;var um="SelectArrow",$F=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=lh(n),s=Ii(um,n),o=bi(um,n);return s.open&&o.position==="popper"?m.jsx(P5,{...i,...r,ref:e}):null});$F.displayName=um;var HF="SelectBubbleInput",Gb=T.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=T.useRef(null),s=_t(r,i),o=M5(e);return T.useEffect(()=>{const a=i.current;if(!a)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[o,e]),m.jsx($e.select,{...n,style:{...pb,...n.style},ref:s,defaultValue:e})});Gb.displayName=HF;function Qb(t){return t===""||t===void 0}function Yb(t){const e=rs(t),n=T.useRef(""),r=T.useRef(0),i=T.useCallback(o=>{const a=n.current+o;e(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),s=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function Xb(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=WF(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function WF(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var qF=Sb,Jb=bb,KF=Cb,GF=Rb,QF=Ab,Zb=Pb,YF=Lb,Ey=jb,ek=Ub,XF=zb,JF=$b,tk=Hb,nk=Wb,rk=Kb;const ZF=qF,eU=KF,ik=T.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(Jb,{ref:r,className:at("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,m.jsx(GF,{asChild:!0,children:m.jsx(NI,{className:"h-4 w-4 opacity-50"})})]}));ik.displayName=Jb.displayName;const sk=T.forwardRef(({className:t,...e},n)=>m.jsx(tk,{ref:n,className:at("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(qj,{className:"h-4 w-4"})}));sk.displayName=tk.displayName;const ok=T.forwardRef(({className:t,...e},n)=>m.jsx(nk,{ref:n,className:at("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(NI,{className:"h-4 w-4"})}));ok.displayName=nk.displayName;const ak=T.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>m.jsx(QF,{children:m.jsxs(Zb,{ref:i,className:at("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[m.jsx(sk,{}),m.jsx(YF,{className:at("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),m.jsx(ok,{})]})}));ak.displayName=Zb.displayName;const tU=T.forwardRef(({className:t,...e},n)=>m.jsx(Ey,{ref:n,className:at("px-2 py-1.5 text-sm font-semibold",t),...e}));tU.displayName=Ey.displayName;const dm=T.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(ek,{ref:r,className:at("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[m.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(JF,{children:m.jsx(Fj,{className:"h-4 w-4"})})}),m.jsx(XF,{children:e})]}));dm.displayName=ek.displayName;const nU=T.forwardRef(({className:t,...e},n)=>m.jsx(rk,{ref:n,className:at("-mx-1 my-1 h-px bg-muted",t),...e}));nU.displayName=rk.displayName;const rE={hu:{text:"Bejelentkezés",signOut:"Kijelentkezés"},en:{text:"Sign In",signOut:"Sign Out"}};function rU(){const[t]=yt(pn),e=Do(),n=wl(),r=async()=>{await dt.signOut(),n("/")};return e?m.jsxs(ke,{variant:"outline",onClick:r,className:"btn-secondary flex items-center gap-2 border-secondary-500 text-secondary-foreground hover:bg-secondary-600 hover:text-secondary-foreground dark:hover:bg-secondary-600",children:[m.jsx(a3,{className:"h-4 w-4"}),rE[t].signOut]}):m.jsx(qt,{to:"/login",children:m.jsxs(ke,{className:"btn-primary flex items-center gap-2 text-primary-foreground hover:bg-primary-600",children:[m.jsx(s3,{className:"h-4 w-4"}),rE[t].text]})})}function Dl(){const[t,e]=yt(pn),[n]=yt(El),[r,i]=T.useState("light");T.useEffect(()=>{const o=localStorage.getItem("theme")||"light";i(o),document.documentElement.classList.toggle("dark",o==="dark")},[]);const s=()=>{const o=r==="light"?"dark":"light";i(o),localStorage.setItem("theme",o),document.documentElement.classList.toggle("dark",o==="dark")};return m.jsxs("header",{className:"bg-white/10 backdrop-blur-xl border-b border-white/20 sticky top-0 z-50 transition-all duration-300",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-accent/5 pointer-events-none"}),m.jsx("div",{className:"container mx-auto px-4 py-4 relative",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx(qt,{to:"/",className:"group",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:"/logo.png",alt:"Veho Logo",className:"h-10 transition-all duration-300 group-hover:scale-105 drop-shadow-lg"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-accent/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]}),m.jsx("div",{className:"hidden sm:block",children:m.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Veho"})})]})}),m.jsxs("nav",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"relative",children:m.jsxs(ZF,{value:t,onValueChange:e,children:[m.jsx(ik,{className:"w-[120px] bg-white/10 border-white/30 text-white/90 hover:bg-white/20 transition-all duration-300 backdrop-blur-sm focus:border-primary/60",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(OI,{className:"w-4 h-4 text-white/70"}),m.jsx(eU,{placeholder:t==="hu"?"Nyelv":"Language"})]})}),m.jsxs(ak,{className:"bg-white/10 backdrop-blur-xl border-white/30 text-white",children:[m.jsx(dm,{value:"hu",className:"hover:bg-white/20 focus:bg-white/20 cursor-pointer",children:"🇭🇺 Magyar"}),m.jsx(dm,{value:"en",className:"hover:bg-white/20 focus:bg-white/20 cursor-pointer",children:"🇺🇸 English"})]})]})}),n&&m.jsx(qt,{to:"/profile",className:"group",children:m.jsxs(ke,{variant:"ghost",className:"bg-white/10 border border-white/30 text-white/90 hover:bg-primary/20 hover:border-primary/40 transition-all duration-300 backdrop-blur-sm group-hover:shadow-lg",children:[m.jsx(DI,{className:"w-4 h-4 mr-2 transition-transform group-hover:scale-110"}),m.jsx("span",{className:"hidden sm:inline",children:t==="hu"?"Profil":"Profile"})]})}),m.jsx(ke,{variant:"ghost",size:"icon",onClick:s,className:"bg-white/10 border border-white/30 text-white/90 hover:bg-white/20 hover:border-accent/40 transition-all duration-300 backdrop-blur-sm group",children:m.jsx("div",{className:"relative",children:r==="light"?m.jsx(u3,{className:"h-5 w-5 transition-all duration-300 group-hover:rotate-12"}):m.jsx(v3,{className:"h-5 w-5 transition-all duration-300 group-hover:rotate-180"})})}),m.jsx("div",{className:"relative",children:m.jsx(rU,{})})]})]})}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/30 to-transparent"})]})}const Ll=T.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:at("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Ll.displayName="Card";const Ml=T.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:at("flex flex-col space-y-1.5 p-6",t),...e}));Ml.displayName="CardHeader";const Vl=T.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:at("font-semibold leading-none tracking-tight",t),...e}));Vl.displayName="CardTitle";const iU=T.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:at("text-sm text-muted-foreground",t),...e}));iU.displayName="CardDescription";const jl=T.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:at("p-6 pt-0",t),...e}));jl.displayName="CardContent";const sU=T.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:at("flex items-center p-6 pt-0",t),...e}));sU.displayName="CardFooter";const Dc={hu:{title:"Adatok",noData:"Még nincsenek adatok.",join:"Csatlakozás"},en:{title:"Data",noData:"No data yet.",join:"Join"}};function oU(){const[t]=yt(pn),e=Do(),[n,r]=T.useState([]),[i,s]=T.useState(!0);return T.useEffect(()=>{(async()=>{s(!0);try{const c=(await fI(ny(Zs,"ideas"))).docs.map(u=>({id:u.id,...u.data()}));r(c)}catch(a){console.error("Error fetching data:",a)}s(!1)})()},[]),m.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[m.jsx(Dl,{}),m.jsxs("main",{className:"container mx-auto px-4 py-12",children:[m.jsx("h1",{className:"text-3xl font-semibold text-center mb-6",children:Dc[t].title}),i?m.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300",children:"Betöltés..."}):n.length===0?m.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300",children:Dc[t].noData}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(o=>m.jsxs(Ll,{className:"bg-white dark:bg-slate-800",children:[m.jsx(Ml,{children:m.jsx(Vl,{className:"text-xl font-semibold",children:o.title})}),m.jsxs(jl,{children:[m.jsx("img",{src:`/${o.imagePath}`,alt:o.title,className:"w-full h-48 object-cover mb-4 rounded"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:o.description}),e?m.jsx(ke,{asChild:!0,className:"bg-indigo-500 text-white hover:bg-indigo-600",children:m.jsx(qt,{to:`/ideas/${o.id}`,children:Dc[t].join})}):m.jsx(ke,{asChild:!0,className:"bg-indigo-500 text-white hover:bg-indigo-600",children:m.jsx(qt,{to:"/login",children:Dc[t].join})})]})]},o.id))})]}),m.jsx(Vo,{})]})}const Lc={hu:{title:"Ötletek",noIdeas:"Még nincsenek ötletek.",join:"Csatlakozás"},en:{title:"Ideas",noIdeas:"No ideas yet.",join:"Join"}};function aU(){const[t]=yt(pn),e=Do(),[n,r]=T.useState([]),[i,s]=T.useState(!0);return T.useEffect(()=>{(async()=>{s(!0);try{const c=(await fI(ny(Zs,"ideas"))).docs.map(u=>({id:u.id,...u.data()}));r(c)}catch(a){console.error("Error fetching ideas:",a)}s(!1)})()},[]),m.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[m.jsx(Dl,{}),m.jsxs("main",{className:"container mx-auto px-4 py-12",children:[m.jsx("h1",{className:"text-3xl font-semibold text-center mb-6",children:Lc[t].title}),i?m.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300",children:"Betöltés..."}):n.length===0?m.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300",children:Lc[t].noIdeas}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(o=>m.jsxs(Ll,{className:"bg-white dark:bg-slate-800",children:[m.jsx(Ml,{children:m.jsx(Vl,{className:"text-xl font-semibold",children:o.title})}),m.jsxs(jl,{children:[m.jsx("img",{src:`/${o.imagePath}`,alt:o.title,className:"w-full h-48 object-cover mb-4 rounded"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:o.description}),e?m.jsx(ke,{asChild:!0,className:"bg-indigo-500 text-white hover:bg-indigo-600",children:m.jsx(qt,{to:`/ideas/${o.id}`,children:Lc[t].join})}):m.jsx(ke,{asChild:!0,className:"bg-indigo-500 text-white hover:bg-indigo-600",children:m.jsx(qt,{to:"/login",children:Lc[t].join})})]})]},o.id))})]}),m.jsx(Vo,{})]})}const lk=T.forwardRef(({className:t,...e},n)=>m.jsx("textarea",{className:at("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));lk.displayName="Textarea";const Qt={hu:{title:"Ötlet megosztása",ideaTitle:"Ötlet címe",description:"Leírás",imageUrl:"Kép URL",submit:"Megosztás",success:"Ötlet sikeresen megosztva!",error:"Hiba történt az ötlet megosztása során.",loginPrompt:"Kérjük, jelentkezz be az ötlet megosztásához."},en:{title:"Share an Idea",ideaTitle:"Idea Title",description:"Description",imageUrl:"Image URL",submit:"Share",success:"Idea shared successfully!",error:"An error occurred while sharing the idea.",loginPrompt:"Please sign in to share an idea."}};function lU(){const[t]=yt(pn),e=Do(),n=wl(),[r,i]=T.useState(""),[s,o]=T.useState(""),[a,c]=T.useState(""),[u,d]=T.useState(""),[f,p]=T.useState(""),_=async I=>{if(I.preventDefault(),!e){d(Qt[t].loginPrompt);return}try{await h4(ny(Zs,"ideas"),{title:r,description:s,imagePath:a||"idea.png",userId:e.uid,createdAt:new Date}),p(Qt[t].success),i(""),o(""),c(""),setTimeout(()=>n("/ideas"),2e3)}catch{d(Qt[t].error)}};return m.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[m.jsx(Dl,{}),m.jsx("main",{className:"container mx-auto px-4 py-12",children:m.jsxs(Ll,{className:"w-full max-w-md mx-auto bg-white dark:bg-slate-800",children:[m.jsx(Ml,{children:m.jsx(Vl,{className:"text-2xl font-semibold text-center",children:Qt[t].title})}),m.jsxs(jl,{children:[f&&m.jsx("p",{className:"text-green-500 text-center mb-4",children:f}),u&&m.jsx("p",{className:"text-red-500 text-center mb-4",children:u}),e?m.jsxs("form",{onSubmit:_,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(Wi,{htmlFor:"title",children:Qt[t].ideaTitle}),m.jsx(eo,{id:"title",value:r,onChange:I=>i(I.target.value),placeholder:Qt[t].ideaTitle,className:"mt-1",required:!0})]}),m.jsxs("div",{children:[m.jsx(Wi,{htmlFor:"description",children:Qt[t].description}),m.jsx(lk,{id:"description",value:s,onChange:I=>o(I.target.value),placeholder:Qt[t].description,className:"mt-1",rows:5,required:!0})]}),m.jsxs("div",{children:[m.jsx(Wi,{htmlFor:"imageUrl",children:Qt[t].imageUrl}),m.jsx(eo,{id:"imageUrl",value:a,onChange:I=>c(I.target.value),placeholder:Qt[t].imageUrl,className:"mt-1"})]}),m.jsx(ke,{type:"submit",className:"w-full bg-indigo-500 text-white hover:bg-indigo-600",children:Qt[t].submit})]}):m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:Qt[t].loginPrompt}),m.jsx(ke,{asChild:!0,className:"bg-indigo-500 text-white hover:bg-indigo-600",children:m.jsx(qt,{to:"/login",children:Qt[t].loginPrompt})})]})]})]})}),m.jsx(Vo,{})]})}const Mc={hu:{title:"Profil",email:"Email",notSignedIn:"Kérjük, jelentkezz be a profil megtekintéséhez.",signIn:"Bejelentkezés"},en:{title:"Profile",email:"Email",notSignedIn:"Please sign in to view your profile.",signIn:"Sign In"}};function cU(){const[t]=yt(pn),e=Do();return m.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[m.jsx(Dl,{}),m.jsx("main",{className:"container mx-auto px-4 py-12",children:m.jsxs(Ll,{className:"w-full max-w-md mx-auto bg-white dark:bg-slate-800",children:[m.jsx(Ml,{children:m.jsx(Vl,{className:"text-2xl font-semibold text-center",children:Mc[t].title})}),m.jsx(jl,{children:e?m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{children:[m.jsx(Ey,{className:"text-gray-600 dark:text-gray-300",children:Mc[t].email}),m.jsx("p",{className:"text-lg",children:e.email})]})}):m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:Mc[t].notSignedIn}),m.jsx(ke,{asChild:!0,className:"bg-indigo-500 text-white hover:bg-indigo-600",children:m.jsx(qt,{to:"/login",children:Mc[t].signIn})})]})})]})}),m.jsx(Vo,{})]})}const Is={hu:{title:"Adatvédelmi irányelvek",subtitle:"Az Ön adatainak védelme a legfőbb prioritásunk",lastUpdated:"Utolsó frissítés",backToHome:"Vissza a főoldalra",sections:[{id:"overview",title:"Áttekintés",icon:dd,content:["A Veho elkötelezett az Ön személyes adatainak védelme mellett. Ez az adatvédelmi irányelv részletesen ismerteti, hogyan gyűjtjük, használjuk és védjük az Ön adatait.","Szolgáltatásunk használatával Ön elfogadja a jelen irányelvben foglalt gyakorlatokat."]},{id:"data-collection",title:"Adatgyűjtés",icon:k0,content:["Személyes információk: név, email cím, telefonszám","Használati adatok: böngészési szokások, preferenciák","Technikai adatok: IP cím, böngésző típusa, eszköz információk","Ötletek és tartalmak: az Ön által megosztott kreatív tartalmak"]},{id:"data-usage",title:"Adatfelhasználás",icon:ad,content:["Szolgáltatások nyújtása és fejlesztése","Felhasználói élmény personalizálása","Kommunikáció és ügyfélszolgálat","Biztonsági intézkedések és visszaélések megelőzése","Jogi kötelezettségek teljesítése"]},{id:"data-security",title:"Adatbiztonság",icon:ud,content:["Titkosítás: Az összes érzékeny adat titkosítva van tárolva","Hozzáférés-vezérlés: Szigorú jogosultságkezelés","Rendszeres biztonsági auditok és frissítések","Adatmentés és helyreállítási eljárások"]},{id:"user-rights",title:"Az Ön jogai",icon:wo,content:["Hozzáférési jog: megtekintheti a rólad tárolt adatokat","Helyesbítési jog: kérheti adatai javítását","Törlési jog: kérheti adatai törlését","Adathordozhatóság: exportálhatja adatait","Tiltakozási jog: ellenerezheti bizonyos adatkezeléseknek"]},{id:"contact",title:"Kapcsolat",icon:vo,content:["Ha kérdése van az adatvédelemmel kapcsolatban, vegye fel velünk a kapcsolatot:","Email: privacy@veho.com","Telefon: +36 30 123 4567","Cím: Budapest, Magyarország"]}]},en:{title:"Privacy Policy",subtitle:"Your data protection is our top priority",lastUpdated:"Last updated",backToHome:"Back to home",sections:[{id:"overview",title:"Overview",icon:dd,content:["Veho is committed to protecting your personal data. This privacy policy details how we collect, use, and protect your information.","By using our service, you agree to the practices described in this policy."]},{id:"data-collection",title:"Data Collection",icon:k0,content:["Personal information: name, email address, phone number","Usage data: browsing habits, preferences","Technical data: IP address, browser type, device information","Ideas and content: creative content you share"]},{id:"data-usage",title:"Data Usage",icon:ad,content:["Providing and improving services","Personalizing user experience","Communication and customer support","Security measures and fraud prevention","Legal compliance"]},{id:"data-security",title:"Data Security",icon:ud,content:["Encryption: All sensitive data is stored encrypted","Access control: Strict permission management","Regular security audits and updates","Data backup and recovery procedures"]},{id:"user-rights",title:"Your Rights",icon:wo,content:["Right of access: view data stored about you","Right of rectification: request correction of your data","Right of erasure: request deletion of your data","Data portability: export your data","Right to object: oppose certain data processing"]},{id:"contact",title:"Contact",icon:vo,content:["If you have questions about privacy, please contact us:","Email: privacy@veho.com","Phone: +36 30 123 4567","Address: Budapest, Hungary"]}]}};function uU(){const[t]=yt(pn);return m.jsxs("div",{className:"min-h-screen relative",children:[m.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[m.jsx("div",{className:"absolute top-1/4 right-1/6 w-64 h-64 bg-primary/5 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-1/4 left-1/6 w-80 h-80 bg-secondary/5 rounded-full blur-3xl animate-pulse animation-delay-1000"}),m.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-accent/3 rounded-full blur-3xl animate-pulse animation-delay-2000"})]}),m.jsxs("main",{className:"relative z-10",children:[m.jsx("section",{className:"relative py-16 md:py-24 overflow-hidden",children:m.jsx("div",{className:"container mx-auto px-4",children:m.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[m.jsx("div",{className:"mb-8",children:m.jsx(qt,{to:"/",className:"group inline-flex items-center gap-2 text-white/70 hover:text-white transition-all duration-300",children:m.jsxs(ke,{variant:"ghost",className:"group bg-white/10 border border-white/30 text-white/90 hover:bg-white/20 hover:border-primary/40 transition-all duration-300 backdrop-blur-sm",children:[m.jsx(b0,{className:"w-4 h-4 mr-2 transition-transform group-hover:-translate-x-1"}),Is[t].backToHome]})})}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-accent/20 rounded-3xl blur-2xl opacity-50"}),m.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 md:p-12 shadow-2xl",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-primary to-accent rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:m.jsx(dd,{className:"w-8 h-8 text-white"})}),m.jsx("h1",{className:"text-4xl md:text-6xl font-bold bg-gradient-to-r from-primary via-accent to-secondary bg-clip-text text-transparent mb-4 leading-tight",children:Is[t].title}),m.jsx("p",{className:"text-xl md:text-2xl text-white/80 mb-6 leading-relaxed",children:Is[t].subtitle}),m.jsxs("div",{className:"flex items-center justify-center gap-2 text-white/60",children:[m.jsx(OI,{className:"w-4 h-4"}),m.jsxs("span",{className:"text-sm",children:[Is[t].lastUpdated,": 2025. január 1."]})]})]})]})]})})}),m.jsx("section",{className:"relative py-16",children:m.jsx("div",{className:"container mx-auto px-4",children:m.jsx("div",{className:"max-w-4xl mx-auto space-y-8",children:Is[t].sections.map((e,n)=>{const r=e.icon;return m.jsx("div",{className:"group",children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/5 to-white/10 rounded-2xl blur-sm"}),m.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-6 md:p-8 shadow-xl hover:bg-white/15 hover:border-white/30 transition-all duration-500",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[m.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${n%3===0?"from-primary to-primary-600":n%3===1?"from-secondary to-secondary-600":"from-accent to-accent-600"} rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:m.jsx(r,{className:"w-6 h-6 text-white"})}),m.jsx("h2",{className:`text-2xl md:text-3xl font-bold bg-gradient-to-r ${n%3===0?"from-primary to-primary-600":n%3===1?"from-secondary to-secondary-600":"from-accent to-accent-600"} bg-clip-text text-transparent`,children:e.title})]}),m.jsx("div",{className:"space-y-4",children:e.content.map((i,s)=>m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-primary to-accent rounded-full mt-2 flex-shrink-0"}),m.jsx("p",{className:"text-white/80 leading-relaxed",children:i})]},s))})]})]})},e.id)})})})}),m.jsx("section",{className:"relative py-16",children:m.jsx("div",{className:"container mx-auto px-4",children:m.jsx("div",{className:"max-w-2xl mx-auto text-center",children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-secondary/20 rounded-2xl blur-xl"}),m.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-8 shadow-2xl",children:[m.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:t==="hu"?"További kérdések?":"More questions?"}),m.jsx("p",{className:"text-white/80 mb-6 leading-relaxed",children:t==="hu"?"Ha bármilyen kérdése van az adatvédelemmel kapcsolatban, ne habozzon kapcsolatba lépni velünk.":"If you have any questions about privacy, don't hesitate to contact us."}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[m.jsxs(ke,{className:"btn-primary group",children:[m.jsx(vo,{className:"w-4 h-4 mr-2 transition-transform group-hover:scale-110"}),t==="hu"?"Email küldése":"Send Email"]}),m.jsx(qt,{to:"/",className:"group",children:m.jsxs(ke,{variant:"ghost",className:"bg-white/10 border border-white/30 text-white/90 hover:bg-white/20 hover:border-white/50 transition-all duration-300 backdrop-blur-sm group",children:[m.jsx(b0,{className:"w-4 h-4 mr-2 transition-transform group-hover:-translate-x-1"}),Is[t].backToHome]})})]})]})]})})})})]}),m.jsx(Vo,{})]})}function dU(){const[t]=yt(El);return m.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[m.jsxs("div",{className:"fixed inset-0 -z-10",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950"}),m.jsxs("div",{className:"absolute inset-0 opacity-40",children:[m.jsx("div",{className:"absolute top-1/4 left-1/6 w-96 h-96 bg-primary/10 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute top-3/4 right-1/6 w-80 h-80 bg-secondary/10 rounded-full blur-3xl animate-pulse animation-delay-1000"}),m.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-64 h-64 bg-accent/10 rounded-full blur-3xl animate-pulse animation-delay-2000"}),m.jsx("div",{className:"absolute top-1/2 right-1/4 w-72 h-72 bg-primary/5 rounded-full blur-3xl animate-pulse animation-delay-3000"})]}),m.jsx("div",{className:"absolute inset-0 opacity-[0.02]",children:m.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)
            `,backgroundSize:"50px 50px"}})}),m.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(8)].map((e,n)=>m.jsx("div",{className:"absolute w-1 h-1 bg-white/20 rounded-full animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${n*.8}s`,animationDuration:`${4+Math.random()*3}s`}},n))}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/20 via-transparent to-black/20"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/10 via-transparent to-black/20"})]}),m.jsx("div",{className:"relative z-10",children:m.jsxs(FP,{children:[m.jsx("div",{className:"relative z-50",children:m.jsx(Dl,{})}),m.jsx("main",{className:"relative",children:m.jsxs(gP,{children:[m.jsx(Br,{path:"/",element:m.jsx(I3,{})}),m.jsx(Br,{path:"/login",element:m.jsx(U3,{})}),m.jsx(Br,{path:"/ideas",element:m.jsx(aU,{})}),m.jsx(Br,{path:"/share-idea",element:m.jsx(lU,{})}),m.jsx(Br,{path:"/profile",element:m.jsx(cU,{})}),m.jsx(Br,{path:"/privacy-policy",element:m.jsx(uU,{})}),m.jsx(Br,{path:"/data",element:t?m.jsx(oU,{}):m.jsx(pP,{to:"/login",replace:!0})})]})})]})}),m.jsx("div",{className:"fixed bottom-8 right-8 z-40 pointer-events-none",children:m.jsx("div",{className:"w-2 h-16 bg-white/10 rounded-full backdrop-blur-sm border border-white/20",children:m.jsx("div",{className:"w-full h-1/3 bg-gradient-to-b from-primary to-transparent rounded-full animate-pulse"})})})]})}vT(document.getElementById("root")).render(m.jsx(T.StrictMode,{children:m.jsx(dU,{})}));
