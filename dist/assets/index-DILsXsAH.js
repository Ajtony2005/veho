function BC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function E0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var x0={exports:{}},Kc={},S0={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa=Symbol.for("react.element"),$C=Symbol.for("react.portal"),WC=Symbol.for("react.fragment"),HC=Symbol.for("react.strict_mode"),qC=Symbol.for("react.profiler"),GC=Symbol.for("react.provider"),KC=Symbol.for("react.context"),QC=Symbol.for("react.forward_ref"),YC=Symbol.for("react.suspense"),XC=Symbol.for("react.memo"),JC=Symbol.for("react.lazy"),By=Symbol.iterator;function ZC(t){return t===null||typeof t!="object"?null:(t=By&&t[By]||t["@@iterator"],typeof t=="function"?t:null)}var T0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I0=Object.assign,C0={};function so(t,e,n){this.props=t,this.context=e,this.refs=C0,this.updater=n||T0}so.prototype.isReactComponent={};so.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};so.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function b0(){}b0.prototype=so.prototype;function Up(t,e,n){this.props=t,this.context=e,this.refs=C0,this.updater=n||T0}var zp=Up.prototype=new b0;zp.constructor=Up;I0(zp,so.prototype);zp.isPureReactComponent=!0;var $y=Array.isArray,k0=Object.prototype.hasOwnProperty,Bp={current:null},A0={key:!0,ref:!0,__self:!0,__source:!0};function R0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)k0.call(e,r)&&!A0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Xa,type:t,key:s,ref:o,props:i,_owner:Bp.current}}function eb(t,e){return{$$typeof:Xa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $p(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xa}function tb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wy=/\/+/g;function rh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tb(""+t.key):e.toString(36)}function yu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xa:case $C:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rh(o,0):r,$y(i)?(n="",t!=null&&(n=t.replace(Wy,"$&/")+"/"),yu(i,e,n,"",function(c){return c})):i!=null&&($p(i)&&(i=eb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Wy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$y(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+rh(s,a);o+=yu(s,e,n,u,i)}else if(u=ZC(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+rh(s,a++),o+=yu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ll(t,e,n){if(t==null)return t;var r=[],i=0;return yu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function nb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},vu={transition:null},rb={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:vu,ReactCurrentOwner:Bp};function P0(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Ll,forEach:function(t,e,n){Ll(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ll(t,function(){e++}),e},toArray:function(t){return Ll(t,function(e){return e})||[]},only:function(t){if(!$p(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=so;de.Fragment=WC;de.Profiler=qC;de.PureComponent=Up;de.StrictMode=HC;de.Suspense=YC;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rb;de.act=P0;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=I0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)k0.call(e,u)&&!A0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Xa,type:t.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:KC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GC,_context:t},t.Consumer=t};de.createElement=R0;de.createFactory=function(t){var e=R0.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:QC,render:t}};de.isValidElement=$p;de.lazy=function(t){return{$$typeof:JC,_payload:{_status:-1,_result:t},_init:nb}};de.memo=function(t,e){return{$$typeof:XC,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=vu.transition;vu.transition={};try{t()}finally{vu.transition=e}};de.unstable_act=P0;de.useCallback=function(t,e){return Ot.current.useCallback(t,e)};de.useContext=function(t){return Ot.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};de.useEffect=function(t,e){return Ot.current.useEffect(t,e)};de.useId=function(){return Ot.current.useId()};de.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return Ot.current.useMemo(t,e)};de.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};de.useRef=function(t){return Ot.current.useRef(t)};de.useState=function(t){return Ot.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return Ot.current.useTransition()};de.version="18.3.1";S0.exports=de;var x=S0.exports;const dt=E0(x),N0=BC({__proto__:null,default:dt},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib=x,sb=Symbol.for("react.element"),ob=Symbol.for("react.fragment"),ab=Object.prototype.hasOwnProperty,lb=ib.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ub={key:!0,ref:!0,__self:!0,__source:!0};function D0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ab.call(e,r)&&!ub.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sb,type:t,key:s,ref:o,props:i,_owner:lb.current}}Kc.Fragment=ob;Kc.jsx=D0;Kc.jsxs=D0;x0.exports=Kc;var g=x0.exports,O0={exports:{}},Jt={},L0={exports:{}},M0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,$){var X=L.length;L.push($);e:for(;0<X;){var he=X-1>>>1,le=L[he];if(0<i(le,$))L[he]=$,L[X]=le,X=he;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var $=L[0],X=L.pop();if(X!==$){L[0]=X;e:for(var he=0,le=L.length,oe=le>>>1;he<oe;){var we=2*(he+1)-1,We=L[we],Ge=we+1,W=L[Ge];if(0>i(We,X))Ge<le&&0>i(W,We)?(L[he]=W,L[Ge]=X,he=Ge):(L[he]=We,L[we]=X,he=we);else if(Ge<le&&0>i(W,X))L[he]=W,L[Ge]=X,he=Ge;else break e}}return $}function i(L,$){var X=L.sortIndex-$.sortIndex;return X!==0?X:L.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,p=3,S=!1,I=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(L){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=L)r(c),$.sortIndex=$.expirationTime,e(u,$);else break;$=n(c)}}function D(L){if(w=!1,T(L),!I)if(n(u)!==null)I=!0,Z(O);else{var $=n(c);$!==null&&H(D,$.startTime-L)}}function O(L,$){I=!1,w&&(w=!1,_(v),v=-1),S=!0;var X=p;try{for(T($),f=n(u);f!==null&&(!(f.expirationTime>$)||L&&!P());){var he=f.callback;if(typeof he=="function"){f.callback=null,p=f.priorityLevel;var le=he(f.expirationTime<=$);$=t.unstable_now(),typeof le=="function"?f.callback=le:f===n(u)&&r(u),T($)}else r(u);f=n(u)}if(f!==null)var oe=!0;else{var we=n(c);we!==null&&H(D,we.startTime-$),oe=!1}return oe}finally{f=null,p=X,S=!1}}var V=!1,E=null,v=-1,C=5,A=-1;function P(){return!(t.unstable_now()-A<C)}function N(){if(E!==null){var L=t.unstable_now();A=L;var $=!0;try{$=E(!0,L)}finally{$?R():(V=!1,E=null)}}else V=!1}var R;if(typeof y=="function")R=function(){y(N)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,re=K.port2;K.port1.onmessage=N,R=function(){re.postMessage(null)}}else R=function(){k(N,0)};function Z(L){E=L,V||(V=!0,R())}function H(L,$){v=k(function(){L(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){I||S||(I=!0,Z(O))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var X=p;p=$;try{return L()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,$){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=p;p=L;try{return $()}finally{p=X}},t.unstable_scheduleCallback=function(L,$,X){var he=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?he+X:he):X=he,L){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=X+le,L={id:d++,callback:$,priorityLevel:L,startTime:X,expirationTime:le,sortIndex:-1},X>he?(L.sortIndex=X,e(c,L),n(u)===null&&L===n(c)&&(w?(_(v),v=-1):w=!0,H(D,X-he))):(L.sortIndex=le,e(u,L),I||S||(I=!0,Z(O))),L},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(L){var $=p;return function(){var X=p;p=$;try{return L.apply(this,arguments)}finally{p=X}}}})(M0);L0.exports=M0;var cb=L0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db=x,Xt=cb;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V0=new Set,xa={};function Qi(t,e){$s(t,e),$s(t+"Capture",e)}function $s(t,e){for(xa[t]=e,t=0;t<e.length;t++)V0.add(e[t])}var ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sf=Object.prototype.hasOwnProperty,hb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hy={},qy={};function fb(t){return sf.call(qy,t)?!0:sf.call(Hy,t)?!1:hb.test(t)?qy[t]=!0:(Hy[t]=!0,!1)}function pb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mb(t,e,n,r){if(e===null||typeof e>"u"||pb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wp=/[\-:]([a-z])/g;function Hp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wp,Hp);mt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wp,Hp);mt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wp,Hp);mt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function qp(t,e,n,r){var i=mt.hasOwnProperty(e)?mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mb(e,n,i,r)&&(n=null),r||i===null?fb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wr=db.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ml=Symbol.for("react.element"),ms=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),Gp=Symbol.for("react.strict_mode"),of=Symbol.for("react.profiler"),j0=Symbol.for("react.provider"),F0=Symbol.for("react.context"),Kp=Symbol.for("react.forward_ref"),af=Symbol.for("react.suspense"),lf=Symbol.for("react.suspense_list"),Qp=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),U0=Symbol.for("react.offscreen"),Gy=Symbol.iterator;function zo(t){return t===null||typeof t!="object"?null:(t=Gy&&t[Gy]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,ih;function Jo(t){if(ih===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ih=e&&e[1]||""}return`
`+ih+t}var sh=!1;function oh(t,e){if(!t||sh)return"";sh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{sh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jo(t):""}function gb(t){switch(t.tag){case 5:return Jo(t.type);case 16:return Jo("Lazy");case 13:return Jo("Suspense");case 19:return Jo("SuspenseList");case 0:case 2:case 15:return t=oh(t.type,!1),t;case 11:return t=oh(t.type.render,!1),t;case 1:return t=oh(t.type,!0),t;default:return""}}function uf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gs:return"Fragment";case ms:return"Portal";case of:return"Profiler";case Gp:return"StrictMode";case af:return"Suspense";case lf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case F0:return(t.displayName||"Context")+".Consumer";case j0:return(t._context.displayName||"Context")+".Provider";case Kp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qp:return e=t.displayName||null,e!==null?e:uf(t.type)||"Memo";case Rr:e=t._payload,t=t._init;try{return uf(t(e))}catch{}}return null}function yb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uf(e);case 8:return e===Gp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ti(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function z0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vb(t){var e=z0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vl(t){t._valueTracker||(t._valueTracker=vb(t))}function B0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=z0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cf(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ky(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ti(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $0(t,e){e=e.checked,e!=null&&qp(t,"checked",e,!1)}function df(t,e){$0(t,e);var n=ti(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hf(t,e.type,n):e.hasOwnProperty("defaultValue")&&hf(t,e.type,ti(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hf(t,e,n){(e!=="number"||Wu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zo=Array.isArray;function ks(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ti(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ff(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Zo(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ti(n)}}function W0(t,e){var n=ti(e.value),r=ti(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function H0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?H0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jl,q0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jl=jl||document.createElement("div"),jl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Sa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var aa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wb=["Webkit","ms","Moz","O"];Object.keys(aa).forEach(function(t){wb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),aa[e]=aa[t]})});function G0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||aa.hasOwnProperty(t)&&aa[t]?(""+e).trim():e+"px"}function K0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=G0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var _b=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mf(t,e){if(e){if(_b[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function gf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yf=null;function Yp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vf=null,As=null,Rs=null;function Jy(t){if(t=el(t)){if(typeof vf!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Zc(e),vf(t.stateNode,t.type,e))}}function Q0(t){As?Rs?Rs.push(t):Rs=[t]:As=t}function Y0(){if(As){var t=As,e=Rs;if(Rs=As=null,Jy(t),e)for(t=0;t<e.length;t++)Jy(e[t])}}function X0(t,e){return t(e)}function J0(){}var ah=!1;function Z0(t,e,n){if(ah)return t(e,n);ah=!0;try{return X0(t,e,n)}finally{ah=!1,(As!==null||Rs!==null)&&(J0(),Y0())}}function Ta(t,e){var n=t.stateNode;if(n===null)return null;var r=Zc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var wf=!1;if(ar)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){wf=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{wf=!1}function Eb(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var la=!1,Hu=null,qu=!1,_f=null,xb={onError:function(t){la=!0,Hu=t}};function Sb(t,e,n,r,i,s,o,a,u){la=!1,Hu=null,Eb.apply(xb,arguments)}function Tb(t,e,n,r,i,s,o,a,u){if(Sb.apply(this,arguments),la){if(la){var c=Hu;la=!1,Hu=null}else throw Error(z(198));qu||(qu=!0,_f=c)}}function Yi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zy(t){if(Yi(t)!==t)throw Error(z(188))}function Ib(t){var e=t.alternate;if(!e){if(e=Yi(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Zy(i),t;if(s===r)return Zy(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function tE(t){return t=Ib(t),t!==null?nE(t):null}function nE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nE(t);if(e!==null)return e;t=t.sibling}return null}var rE=Xt.unstable_scheduleCallback,ev=Xt.unstable_cancelCallback,Cb=Xt.unstable_shouldYield,bb=Xt.unstable_requestPaint,qe=Xt.unstable_now,kb=Xt.unstable_getCurrentPriorityLevel,Xp=Xt.unstable_ImmediatePriority,iE=Xt.unstable_UserBlockingPriority,Gu=Xt.unstable_NormalPriority,Ab=Xt.unstable_LowPriority,sE=Xt.unstable_IdlePriority,Qc=null,On=null;function Rb(t){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Qc,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:Db,Pb=Math.log,Nb=Math.LN2;function Db(t){return t>>>=0,t===0?32:31-(Pb(t)/Nb|0)|0}var Fl=64,Ul=4194304;function ea(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ku(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ea(a):(s&=o,s!==0&&(r=ea(s)))}else o=n&~i,o!==0?r=ea(o):s!==0&&(r=ea(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_n(e),i=1<<n,r|=t[n],e&=~i;return r}function Ob(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_n(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=Ob(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Ef(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oE(){var t=Fl;return Fl<<=1,!(Fl&4194240)&&(Fl=64),t}function lh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ja(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function Mb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Jp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function aE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lE,Zp,uE,cE,dE,xf=!1,zl=[],zr=null,Br=null,$r=null,Ia=new Map,Ca=new Map,Nr=[],Vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tv(t,e){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Ia.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(e.pointerId)}}function $o(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=el(e),e!==null&&Zp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jb(t,e,n,r,i){switch(e){case"focusin":return zr=$o(zr,t,e,n,r,i),!0;case"dragenter":return Br=$o(Br,t,e,n,r,i),!0;case"mouseover":return $r=$o($r,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ia.set(s,$o(Ia.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ca.set(s,$o(Ca.get(s)||null,t,e,n,r,i)),!0}return!1}function hE(t){var e=bi(t.target);if(e!==null){var n=Yi(e);if(n!==null){if(e=n.tag,e===13){if(e=eE(n),e!==null){t.blockedOn=e,dE(t.priority,function(){uE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yf=r,n.target.dispatchEvent(r),yf=null}else return e=el(n),e!==null&&Zp(e),t.blockedOn=n,!1;e.shift()}return!0}function nv(t,e,n){wu(t)&&n.delete(e)}function Fb(){xf=!1,zr!==null&&wu(zr)&&(zr=null),Br!==null&&wu(Br)&&(Br=null),$r!==null&&wu($r)&&($r=null),Ia.forEach(nv),Ca.forEach(nv)}function Wo(t,e){t.blockedOn===e&&(t.blockedOn=null,xf||(xf=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,Fb)))}function ba(t){function e(i){return Wo(i,t)}if(0<zl.length){Wo(zl[0],t);for(var n=1;n<zl.length;n++){var r=zl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zr!==null&&Wo(zr,t),Br!==null&&Wo(Br,t),$r!==null&&Wo($r,t),Ia.forEach(e),Ca.forEach(e),n=0;n<Nr.length;n++)r=Nr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Nr.length&&(n=Nr[0],n.blockedOn===null);)hE(n),n.blockedOn===null&&Nr.shift()}var Ps=wr.ReactCurrentBatchConfig,Qu=!0;function Ub(t,e,n,r){var i=Se,s=Ps.transition;Ps.transition=null;try{Se=1,em(t,e,n,r)}finally{Se=i,Ps.transition=s}}function zb(t,e,n,r){var i=Se,s=Ps.transition;Ps.transition=null;try{Se=4,em(t,e,n,r)}finally{Se=i,Ps.transition=s}}function em(t,e,n,r){if(Qu){var i=Sf(t,e,n,r);if(i===null)vh(t,e,r,Yu,n),tv(t,r);else if(jb(i,t,e,n,r))r.stopPropagation();else if(tv(t,r),e&4&&-1<Vb.indexOf(t)){for(;i!==null;){var s=el(i);if(s!==null&&lE(s),s=Sf(t,e,n,r),s===null&&vh(t,e,r,Yu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vh(t,e,r,null,n)}}var Yu=null;function Sf(t,e,n,r){if(Yu=null,t=Yp(r),t=bi(t),t!==null)if(e=Yi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=eE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yu=t,null}function fE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kb()){case Xp:return 1;case iE:return 4;case Gu:case Ab:return 16;case sE:return 536870912;default:return 16}default:return 16}}var jr=null,tm=null,_u=null;function pE(){if(_u)return _u;var t,e=tm,n=e.length,r,i="value"in jr?jr.value:jr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _u=i.slice(t,1<r?1-r:void 0)}function Eu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bl(){return!0}function rv(){return!1}function Zt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Bl:rv,this.isPropagationStopped=rv,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),e}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nm=Zt(oo),Za=je({},oo,{view:0,detail:0}),Bb=Zt(Za),uh,ch,Ho,Yc=je({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ho&&(Ho&&t.type==="mousemove"?(uh=t.screenX-Ho.screenX,ch=t.screenY-Ho.screenY):ch=uh=0,Ho=t),uh)},movementY:function(t){return"movementY"in t?t.movementY:ch}}),iv=Zt(Yc),$b=je({},Yc,{dataTransfer:0}),Wb=Zt($b),Hb=je({},Za,{relatedTarget:0}),dh=Zt(Hb),qb=je({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),Gb=Zt(qb),Kb=je({},oo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qb=Zt(Kb),Yb=je({},oo,{data:0}),sv=Zt(Yb),Xb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ek(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zb[t])?!!e[t]:!1}function rm(){return ek}var tk=je({},Za,{key:function(t){if(t.key){var e=Xb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rm,charCode:function(t){return t.type==="keypress"?Eu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nk=Zt(tk),rk=je({},Yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ov=Zt(rk),ik=je({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rm}),sk=Zt(ik),ok=je({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ak=Zt(ok),lk=je({},Yc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uk=Zt(lk),ck=[9,13,27,32],im=ar&&"CompositionEvent"in window,ua=null;ar&&"documentMode"in document&&(ua=document.documentMode);var dk=ar&&"TextEvent"in window&&!ua,mE=ar&&(!im||ua&&8<ua&&11>=ua),av=" ",lv=!1;function gE(t,e){switch(t){case"keyup":return ck.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ys=!1;function hk(t,e){switch(t){case"compositionend":return yE(e);case"keypress":return e.which!==32?null:(lv=!0,av);case"textInput":return t=e.data,t===av&&lv?null:t;default:return null}}function fk(t,e){if(ys)return t==="compositionend"||!im&&gE(t,e)?(t=pE(),_u=tm=jr=null,ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mE&&e.locale!=="ko"?null:e.data;default:return null}}var pk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pk[t.type]:e==="textarea"}function vE(t,e,n,r){Q0(r),e=Xu(e,"onChange"),0<e.length&&(n=new nm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ca=null,ka=null;function mk(t){AE(t,0)}function Xc(t){var e=_s(t);if(B0(e))return t}function gk(t,e){if(t==="change")return e}var wE=!1;if(ar){var hh;if(ar){var fh="oninput"in document;if(!fh){var cv=document.createElement("div");cv.setAttribute("oninput","return;"),fh=typeof cv.oninput=="function"}hh=fh}else hh=!1;wE=hh&&(!document.documentMode||9<document.documentMode)}function dv(){ca&&(ca.detachEvent("onpropertychange",_E),ka=ca=null)}function _E(t){if(t.propertyName==="value"&&Xc(ka)){var e=[];vE(e,ka,t,Yp(t)),Z0(mk,e)}}function yk(t,e,n){t==="focusin"?(dv(),ca=e,ka=n,ca.attachEvent("onpropertychange",_E)):t==="focusout"&&dv()}function vk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xc(ka)}function wk(t,e){if(t==="click")return Xc(e)}function _k(t,e){if(t==="input"||t==="change")return Xc(e)}function Ek(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xn=typeof Object.is=="function"?Object.is:Ek;function Aa(t,e){if(xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sf.call(e,i)||!xn(t[i],e[i]))return!1}return!0}function hv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fv(t,e){var n=hv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hv(n)}}function EE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?EE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xE(){for(var t=window,e=Wu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wu(t.document)}return e}function sm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xk(t){var e=xE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&EE(n.ownerDocument.documentElement,n)){if(r!==null&&sm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=fv(n,s);var o=fv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sk=ar&&"documentMode"in document&&11>=document.documentMode,vs=null,Tf=null,da=null,If=!1;function pv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;If||vs==null||vs!==Wu(r)||(r=vs,"selectionStart"in r&&sm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),da&&Aa(da,r)||(da=r,r=Xu(Tf,"onSelect"),0<r.length&&(e=new nm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vs)))}function $l(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ws={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},ph={},SE={};ar&&(SE=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Jc(t){if(ph[t])return ph[t];if(!ws[t])return t;var e=ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in SE)return ph[t]=e[n];return t}var TE=Jc("animationend"),IE=Jc("animationiteration"),CE=Jc("animationstart"),bE=Jc("transitionend"),kE=new Map,mv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(t,e){kE.set(t,e),Qi(e,[t])}for(var mh=0;mh<mv.length;mh++){var gh=mv[mh],Tk=gh.toLowerCase(),Ik=gh[0].toUpperCase()+gh.slice(1);di(Tk,"on"+Ik)}di(TE,"onAnimationEnd");di(IE,"onAnimationIteration");di(CE,"onAnimationStart");di("dblclick","onDoubleClick");di("focusin","onFocus");di("focusout","onBlur");di(bE,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ck=new Set("cancel close invalid load scroll toggle".split(" ").concat(ta));function gv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Tb(r,e,void 0,t),t.currentTarget=null}function AE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;gv(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;gv(i,a,c),s=u}}}if(qu)throw t=_f,qu=!1,_f=null,t}function be(t,e){var n=e[Rf];n===void 0&&(n=e[Rf]=new Set);var r=t+"__bubble";n.has(r)||(RE(e,t,2,!1),n.add(r))}function yh(t,e,n){var r=0;e&&(r|=4),RE(n,t,r,e)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function Ra(t){if(!t[Wl]){t[Wl]=!0,V0.forEach(function(n){n!=="selectionchange"&&(Ck.has(n)||yh(n,!1,t),yh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wl]||(e[Wl]=!0,yh("selectionchange",!1,e))}}function RE(t,e,n,r){switch(fE(e)){case 1:var i=Ub;break;case 4:i=zb;break;default:i=em}n=i.bind(null,e,n,t),i=void 0,!wf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function vh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=bi(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Z0(function(){var c=s,d=Yp(n),f=[];e:{var p=kE.get(t);if(p!==void 0){var S=nm,I=t;switch(t){case"keypress":if(Eu(n)===0)break e;case"keydown":case"keyup":S=nk;break;case"focusin":I="focus",S=dh;break;case"focusout":I="blur",S=dh;break;case"beforeblur":case"afterblur":S=dh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=iv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Wb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=sk;break;case TE:case IE:case CE:S=Gb;break;case bE:S=ak;break;case"scroll":S=Bb;break;case"wheel":S=uk;break;case"copy":case"cut":case"paste":S=Qb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=ov}var w=(e&4)!==0,k=!w&&t==="scroll",_=w?p!==null?p+"Capture":null:p;w=[];for(var y=c,T;y!==null;){T=y;var D=T.stateNode;if(T.tag===5&&D!==null&&(T=D,_!==null&&(D=Ta(y,_),D!=null&&w.push(Pa(y,D,T)))),k)break;y=y.return}0<w.length&&(p=new S(p,I,null,n,d),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",p&&n!==yf&&(I=n.relatedTarget||n.fromElement)&&(bi(I)||I[lr]))break e;if((S||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,S?(I=n.relatedTarget||n.toElement,S=c,I=I?bi(I):null,I!==null&&(k=Yi(I),I!==k||I.tag!==5&&I.tag!==6)&&(I=null)):(S=null,I=c),S!==I)){if(w=iv,D="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=ov,D="onPointerLeave",_="onPointerEnter",y="pointer"),k=S==null?p:_s(S),T=I==null?p:_s(I),p=new w(D,y+"leave",S,n,d),p.target=k,p.relatedTarget=T,D=null,bi(d)===c&&(w=new w(_,y+"enter",I,n,d),w.target=T,w.relatedTarget=k,D=w),k=D,S&&I)t:{for(w=S,_=I,y=0,T=w;T;T=ss(T))y++;for(T=0,D=_;D;D=ss(D))T++;for(;0<y-T;)w=ss(w),y--;for(;0<T-y;)_=ss(_),T--;for(;y--;){if(w===_||_!==null&&w===_.alternate)break t;w=ss(w),_=ss(_)}w=null}else w=null;S!==null&&yv(f,p,S,w,!1),I!==null&&k!==null&&yv(f,k,I,w,!0)}}e:{if(p=c?_s(c):window,S=p.nodeName&&p.nodeName.toLowerCase(),S==="select"||S==="input"&&p.type==="file")var O=gk;else if(uv(p))if(wE)O=_k;else{O=vk;var V=yk}else(S=p.nodeName)&&S.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=wk);if(O&&(O=O(t,c))){vE(f,O,n,d);break e}V&&V(t,p,c),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&hf(p,"number",p.value)}switch(V=c?_s(c):window,t){case"focusin":(uv(V)||V.contentEditable==="true")&&(vs=V,Tf=c,da=null);break;case"focusout":da=Tf=vs=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,pv(f,n,d);break;case"selectionchange":if(Sk)break;case"keydown":case"keyup":pv(f,n,d)}var E;if(im)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else ys?gE(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(mE&&n.locale!=="ko"&&(ys||v!=="onCompositionStart"?v==="onCompositionEnd"&&ys&&(E=pE()):(jr=d,tm="value"in jr?jr.value:jr.textContent,ys=!0)),V=Xu(c,v),0<V.length&&(v=new sv(v,t,null,n,d),f.push({event:v,listeners:V}),E?v.data=E:(E=yE(n),E!==null&&(v.data=E)))),(E=dk?hk(t,n):fk(t,n))&&(c=Xu(c,"onBeforeInput"),0<c.length&&(d=new sv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=E))}AE(f,e)})}function Pa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ta(t,n),s!=null&&r.unshift(Pa(t,s,i)),s=Ta(t,e),s!=null&&r.push(Pa(t,s,i))),t=t.return}return r}function ss(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Ta(n,s),u!=null&&o.unshift(Pa(n,u,a))):i||(u=Ta(n,s),u!=null&&o.push(Pa(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var bk=/\r\n?/g,kk=/\u0000|\uFFFD/g;function vv(t){return(typeof t=="string"?t:""+t).replace(bk,`
`).replace(kk,"")}function Hl(t,e,n){if(e=vv(e),vv(t)!==e&&n)throw Error(z(425))}function Ju(){}var Cf=null,bf=null;function kf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Af=typeof setTimeout=="function"?setTimeout:void 0,Ak=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,Rk=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(t){return wv.resolve(null).then(t).catch(Pk)}:Af;function Pk(t){setTimeout(function(){throw t})}function wh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ba(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ba(e)}function Wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _v(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ao=Math.random().toString(36).slice(2),Rn="__reactFiber$"+ao,Na="__reactProps$"+ao,lr="__reactContainer$"+ao,Rf="__reactEvents$"+ao,Nk="__reactListeners$"+ao,Dk="__reactHandles$"+ao;function bi(t){var e=t[Rn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lr]||n[Rn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_v(t);t!==null;){if(n=t[Rn])return n;t=_v(t)}return e}t=n,n=t.parentNode}return null}function el(t){return t=t[Rn]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Zc(t){return t[Na]||null}var Pf=[],Es=-1;function hi(t){return{current:t}}function Re(t){0>Es||(t.current=Pf[Es],Pf[Es]=null,Es--)}function Ie(t,e){Es++,Pf[Es]=t.current,t.current=e}var ni={},bt=hi(ni),Ut=hi(!1),Li=ni;function Ws(t,e){var n=t.type.contextTypes;if(!n)return ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zt(t){return t=t.childContextTypes,t!=null}function Zu(){Re(Ut),Re(bt)}function Ev(t,e,n){if(bt.current!==ni)throw Error(z(168));Ie(bt,e),Ie(Ut,n)}function PE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,yb(t)||"Unknown",i));return je({},n,r)}function ec(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ni,Li=bt.current,Ie(bt,t),Ie(Ut,Ut.current),!0}function xv(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=PE(t,e,Li),r.__reactInternalMemoizedMergedChildContext=t,Re(Ut),Re(bt),Ie(bt,t)):Re(Ut),Ie(Ut,n)}var Zn=null,ed=!1,_h=!1;function NE(t){Zn===null?Zn=[t]:Zn.push(t)}function Ok(t){ed=!0,NE(t)}function fi(){if(!_h&&Zn!==null){_h=!0;var t=0,e=Se;try{var n=Zn;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zn=null,ed=!1}catch(i){throw Zn!==null&&(Zn=Zn.slice(t+1)),rE(Xp,fi),i}finally{Se=e,_h=!1}}return null}var xs=[],Ss=0,tc=null,nc=0,en=[],tn=0,Mi=null,er=1,tr="";function Ti(t,e){xs[Ss++]=nc,xs[Ss++]=tc,tc=t,nc=e}function DE(t,e,n){en[tn++]=er,en[tn++]=tr,en[tn++]=Mi,Mi=t;var r=er;t=tr;var i=32-_n(r)-1;r&=~(1<<i),n+=1;var s=32-_n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,er=1<<32-_n(e)+i|n<<i|r,tr=s+t}else er=1<<s|n<<i|r,tr=t}function om(t){t.return!==null&&(Ti(t,1),DE(t,1,0))}function am(t){for(;t===tc;)tc=xs[--Ss],xs[Ss]=null,nc=xs[--Ss],xs[Ss]=null;for(;t===Mi;)Mi=en[--tn],en[tn]=null,tr=en[--tn],en[tn]=null,er=en[--tn],en[tn]=null}var Qt=null,Kt=null,Ne=!1,yn=null;function OE(t,e){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qt=t,Kt=Wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qt=t,Kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mi!==null?{id:er,overflow:tr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qt=t,Kt=null,!0):!1;default:return!1}}function Nf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Df(t){if(Ne){var e=Kt;if(e){var n=e;if(!Sv(t,e)){if(Nf(t))throw Error(z(418));e=Wr(n.nextSibling);var r=Qt;e&&Sv(t,e)?OE(r,n):(t.flags=t.flags&-4097|2,Ne=!1,Qt=t)}}else{if(Nf(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ne=!1,Qt=t}}}function Tv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qt=t}function ql(t){if(t!==Qt)return!1;if(!Ne)return Tv(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kf(t.type,t.memoizedProps)),e&&(e=Kt)){if(Nf(t))throw LE(),Error(z(418));for(;e;)OE(t,e),e=Wr(e.nextSibling)}if(Tv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kt=Wr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kt=null}}else Kt=Qt?Wr(t.stateNode.nextSibling):null;return!0}function LE(){for(var t=Kt;t;)t=Wr(t.nextSibling)}function Hs(){Kt=Qt=null,Ne=!1}function lm(t){yn===null?yn=[t]:yn.push(t)}var Lk=wr.ReactCurrentBatchConfig;function qo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Gl(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Iv(t){var e=t._init;return e(t._payload)}function ME(t){function e(_,y){if(t){var T=_.deletions;T===null?(_.deletions=[y],_.flags|=16):T.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=Kr(_,y),_.index=0,_.sibling=null,_}function s(_,y,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<y?(_.flags|=2,y):T):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,T,D){return y===null||y.tag!==6?(y=bh(T,_.mode,D),y.return=_,y):(y=i(y,T),y.return=_,y)}function u(_,y,T,D){var O=T.type;return O===gs?d(_,y,T.props.children,D,T.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Rr&&Iv(O)===y.type)?(D=i(y,T.props),D.ref=qo(_,y,T),D.return=_,D):(D=ku(T.type,T.key,T.props,null,_.mode,D),D.ref=qo(_,y,T),D.return=_,D)}function c(_,y,T,D){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=kh(T,_.mode,D),y.return=_,y):(y=i(y,T.children||[]),y.return=_,y)}function d(_,y,T,D,O){return y===null||y.tag!==7?(y=Ni(T,_.mode,D,O),y.return=_,y):(y=i(y,T),y.return=_,y)}function f(_,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=bh(""+y,_.mode,T),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ml:return T=ku(y.type,y.key,y.props,null,_.mode,T),T.ref=qo(_,null,y),T.return=_,T;case ms:return y=kh(y,_.mode,T),y.return=_,y;case Rr:var D=y._init;return f(_,D(y._payload),T)}if(Zo(y)||zo(y))return y=Ni(y,_.mode,T,null),y.return=_,y;Gl(_,y)}return null}function p(_,y,T,D){var O=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:a(_,y,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ml:return T.key===O?u(_,y,T,D):null;case ms:return T.key===O?c(_,y,T,D):null;case Rr:return O=T._init,p(_,y,O(T._payload),D)}if(Zo(T)||zo(T))return O!==null?null:d(_,y,T,D,null);Gl(_,T)}return null}function S(_,y,T,D,O){if(typeof D=="string"&&D!==""||typeof D=="number")return _=_.get(T)||null,a(y,_,""+D,O);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ml:return _=_.get(D.key===null?T:D.key)||null,u(y,_,D,O);case ms:return _=_.get(D.key===null?T:D.key)||null,c(y,_,D,O);case Rr:var V=D._init;return S(_,y,T,V(D._payload),O)}if(Zo(D)||zo(D))return _=_.get(T)||null,d(y,_,D,O,null);Gl(y,D)}return null}function I(_,y,T,D){for(var O=null,V=null,E=y,v=y=0,C=null;E!==null&&v<T.length;v++){E.index>v?(C=E,E=null):C=E.sibling;var A=p(_,E,T[v],D);if(A===null){E===null&&(E=C);break}t&&E&&A.alternate===null&&e(_,E),y=s(A,y,v),V===null?O=A:V.sibling=A,V=A,E=C}if(v===T.length)return n(_,E),Ne&&Ti(_,v),O;if(E===null){for(;v<T.length;v++)E=f(_,T[v],D),E!==null&&(y=s(E,y,v),V===null?O=E:V.sibling=E,V=E);return Ne&&Ti(_,v),O}for(E=r(_,E);v<T.length;v++)C=S(E,_,v,T[v],D),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?v:C.key),y=s(C,y,v),V===null?O=C:V.sibling=C,V=C);return t&&E.forEach(function(P){return e(_,P)}),Ne&&Ti(_,v),O}function w(_,y,T,D){var O=zo(T);if(typeof O!="function")throw Error(z(150));if(T=O.call(T),T==null)throw Error(z(151));for(var V=O=null,E=y,v=y=0,C=null,A=T.next();E!==null&&!A.done;v++,A=T.next()){E.index>v?(C=E,E=null):C=E.sibling;var P=p(_,E,A.value,D);if(P===null){E===null&&(E=C);break}t&&E&&P.alternate===null&&e(_,E),y=s(P,y,v),V===null?O=P:V.sibling=P,V=P,E=C}if(A.done)return n(_,E),Ne&&Ti(_,v),O;if(E===null){for(;!A.done;v++,A=T.next())A=f(_,A.value,D),A!==null&&(y=s(A,y,v),V===null?O=A:V.sibling=A,V=A);return Ne&&Ti(_,v),O}for(E=r(_,E);!A.done;v++,A=T.next())A=S(E,_,v,A.value,D),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?v:A.key),y=s(A,y,v),V===null?O=A:V.sibling=A,V=A);return t&&E.forEach(function(N){return e(_,N)}),Ne&&Ti(_,v),O}function k(_,y,T,D){if(typeof T=="object"&&T!==null&&T.type===gs&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ml:e:{for(var O=T.key,V=y;V!==null;){if(V.key===O){if(O=T.type,O===gs){if(V.tag===7){n(_,V.sibling),y=i(V,T.props.children),y.return=_,_=y;break e}}else if(V.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Rr&&Iv(O)===V.type){n(_,V.sibling),y=i(V,T.props),y.ref=qo(_,V,T),y.return=_,_=y;break e}n(_,V);break}else e(_,V);V=V.sibling}T.type===gs?(y=Ni(T.props.children,_.mode,D,T.key),y.return=_,_=y):(D=ku(T.type,T.key,T.props,null,_.mode,D),D.ref=qo(_,y,T),D.return=_,_=D)}return o(_);case ms:e:{for(V=T.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(_,y.sibling),y=i(y,T.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=kh(T,_.mode,D),y.return=_,_=y}return o(_);case Rr:return V=T._init,k(_,y,V(T._payload),D)}if(Zo(T))return I(_,y,T,D);if(zo(T))return w(_,y,T,D);Gl(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(_,y.sibling),y=i(y,T),y.return=_,_=y):(n(_,y),y=bh(T,_.mode,D),y.return=_,_=y),o(_)):n(_,y)}return k}var qs=ME(!0),VE=ME(!1),rc=hi(null),ic=null,Ts=null,um=null;function cm(){um=Ts=ic=null}function dm(t){var e=rc.current;Re(rc),t._currentValue=e}function Of(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ns(t,e){ic=t,um=Ts=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ft=!0),t.firstContext=null)}function an(t){var e=t._currentValue;if(um!==t)if(t={context:t,memoizedValue:e,next:null},Ts===null){if(ic===null)throw Error(z(308));Ts=t,ic.dependencies={lanes:0,firstContext:t}}else Ts=Ts.next=t;return e}var ki=null;function hm(t){ki===null?ki=[t]:ki.push(t)}function jE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hm(e)):(n.next=i.next,i.next=n),e.interleaved=n,ur(t,r)}function ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pr=!1;function fm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ir(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ur(t,n)}return i=r.interleaved,i===null?(e.next=e,hm(r)):(e.next=i.next,i.next=e),r.interleaved=e,ur(t,n)}function xu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jp(t,n)}}function Cv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sc(t,e,n,r){var i=t.updateQueue;Pr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,d=c=u=null,a=s;do{var p=a.lane,S=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:S,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,w=a;switch(p=e,S=n,w.tag){case 1:if(I=w.payload,typeof I=="function"){f=I.call(S,f,p);break e}f=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=w.payload,p=typeof I=="function"?I.call(S,f,p):I,p==null)break e;f=je({},f,p);break e;case 2:Pr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else S={eventTime:S,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=S,u=f):d=d.next=S,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ji|=o,t.lanes=o,t.memoizedState=f}}function bv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var tl={},Ln=hi(tl),Da=hi(tl),Oa=hi(tl);function Ai(t){if(t===tl)throw Error(z(174));return t}function pm(t,e){switch(Ie(Oa,e),Ie(Da,t),Ie(Ln,tl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pf(e,t)}Re(Ln),Ie(Ln,e)}function Gs(){Re(Ln),Re(Da),Re(Oa)}function UE(t){Ai(Oa.current);var e=Ai(Ln.current),n=pf(e,t.type);e!==n&&(Ie(Da,t),Ie(Ln,n))}function mm(t){Da.current===t&&(Re(Ln),Re(Da))}var Le=hi(0);function oc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Eh=[];function gm(){for(var t=0;t<Eh.length;t++)Eh[t]._workInProgressVersionPrimary=null;Eh.length=0}var Su=wr.ReactCurrentDispatcher,xh=wr.ReactCurrentBatchConfig,Vi=0,Ve=null,Ze=null,it=null,ac=!1,ha=!1,La=0,Mk=0;function Et(){throw Error(z(321))}function ym(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xn(t[n],e[n]))return!1;return!0}function vm(t,e,n,r,i,s){if(Vi=s,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Su.current=t===null||t.memoizedState===null?Uk:zk,t=n(r,i),ha){s=0;do{if(ha=!1,La=0,25<=s)throw Error(z(301));s+=1,it=Ze=null,e.updateQueue=null,Su.current=Bk,t=n(r,i)}while(ha)}if(Su.current=lc,e=Ze!==null&&Ze.next!==null,Vi=0,it=Ze=Ve=null,ac=!1,e)throw Error(z(300));return t}function wm(){var t=La!==0;return La=0,t}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Ve.memoizedState=it=t:it=it.next=t,it}function ln(){if(Ze===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=it===null?Ve.memoizedState:it.next;if(e!==null)it=e,Ze=t;else{if(t===null)throw Error(z(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},it===null?Ve.memoizedState=it=t:it=it.next=t}return it}function Ma(t,e){return typeof e=="function"?e(t):e}function Sh(t){var e=ln(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((Vi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Ve.lanes|=d,ji|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,xn(r,e.memoizedState)||(Ft=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ve.lanes|=s,ji|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Th(t){var e=ln(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);xn(s,e.memoizedState)||(Ft=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function zE(){}function BE(t,e){var n=Ve,r=ln(),i=e(),s=!xn(r.memoizedState,i);if(s&&(r.memoizedState=i,Ft=!0),r=r.queue,_m(HE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,Va(9,WE.bind(null,n,r,i,e),void 0,null),st===null)throw Error(z(349));Vi&30||$E(n,e,i)}return i}function $E(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function WE(t,e,n,r){e.value=n,e.getSnapshot=r,qE(e)&&GE(t)}function HE(t,e,n){return n(function(){qE(e)&&GE(t)})}function qE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xn(t,n)}catch{return!0}}function GE(t){var e=ur(t,1);e!==null&&En(e,t,1,-1)}function kv(t){var e=kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:t},e.queue=t,t=t.dispatch=Fk.bind(null,Ve,t),[e.memoizedState,t]}function Va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function KE(){return ln().memoizedState}function Tu(t,e,n,r){var i=kn();Ve.flags|=t,i.memoizedState=Va(1|e,n,void 0,r===void 0?null:r)}function td(t,e,n,r){var i=ln();r=r===void 0?null:r;var s=void 0;if(Ze!==null){var o=Ze.memoizedState;if(s=o.destroy,r!==null&&ym(r,o.deps)){i.memoizedState=Va(e,n,s,r);return}}Ve.flags|=t,i.memoizedState=Va(1|e,n,s,r)}function Av(t,e){return Tu(8390656,8,t,e)}function _m(t,e){return td(2048,8,t,e)}function QE(t,e){return td(4,2,t,e)}function YE(t,e){return td(4,4,t,e)}function XE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JE(t,e,n){return n=n!=null?n.concat([t]):null,td(4,4,XE.bind(null,e,t),n)}function Em(){}function ZE(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ym(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ex(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ym(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function tx(t,e,n){return Vi&21?(xn(n,e)||(n=oE(),Ve.lanes|=n,ji|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ft=!0),t.memoizedState=n)}function Vk(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=xh.transition;xh.transition={};try{t(!1),e()}finally{Se=n,xh.transition=r}}function nx(){return ln().memoizedState}function jk(t,e,n){var r=Gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rx(t))ix(e,n);else if(n=jE(t,e,n,r),n!==null){var i=Nt();En(n,t,r,i),sx(n,e,r)}}function Fk(t,e,n){var r=Gr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rx(t))ix(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,xn(a,o)){var u=e.interleaved;u===null?(i.next=i,hm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=jE(t,e,i,r),n!==null&&(i=Nt(),En(n,t,r,i),sx(n,e,r))}}function rx(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function ix(t,e){ha=ac=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jp(t,n)}}var lc={readContext:an,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},Uk={readContext:an,useCallback:function(t,e){return kn().memoizedState=[t,e===void 0?null:e],t},useContext:an,useEffect:Av,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tu(4194308,4,XE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tu(4,2,t,e)},useMemo:function(t,e){var n=kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=jk.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=kn();return t={current:t},e.memoizedState=t},useState:kv,useDebugValue:Em,useDeferredValue:function(t){return kn().memoizedState=t},useTransition:function(){var t=kv(!1),e=t[0];return t=Vk.bind(null,t[1]),kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,i=kn();if(Ne){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),st===null)throw Error(z(349));Vi&30||$E(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Av(HE.bind(null,r,s,t),[t]),r.flags|=2048,Va(9,WE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=kn(),e=st.identifierPrefix;if(Ne){var n=tr,r=er;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=La++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Mk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zk={readContext:an,useCallback:ZE,useContext:an,useEffect:_m,useImperativeHandle:JE,useInsertionEffect:QE,useLayoutEffect:YE,useMemo:ex,useReducer:Sh,useRef:KE,useState:function(){return Sh(Ma)},useDebugValue:Em,useDeferredValue:function(t){var e=ln();return tx(e,Ze.memoizedState,t)},useTransition:function(){var t=Sh(Ma)[0],e=ln().memoizedState;return[t,e]},useMutableSource:zE,useSyncExternalStore:BE,useId:nx,unstable_isNewReconciler:!1},Bk={readContext:an,useCallback:ZE,useContext:an,useEffect:_m,useImperativeHandle:JE,useInsertionEffect:QE,useLayoutEffect:YE,useMemo:ex,useReducer:Th,useRef:KE,useState:function(){return Th(Ma)},useDebugValue:Em,useDeferredValue:function(t){var e=ln();return Ze===null?e.memoizedState=t:tx(e,Ze.memoizedState,t)},useTransition:function(){var t=Th(Ma)[0],e=ln().memoizedState;return[t,e]},useMutableSource:zE,useSyncExternalStore:BE,useId:nx,unstable_isNewReconciler:!1};function mn(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Lf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nd={isMounted:function(t){return(t=t._reactInternals)?Yi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nt(),i=Gr(t),s=ir(r,i);s.payload=e,n!=null&&(s.callback=n),e=Hr(t,s,i),e!==null&&(En(e,t,i,r),xu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nt(),i=Gr(t),s=ir(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Hr(t,s,i),e!==null&&(En(e,t,i,r),xu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),r=Gr(t),i=ir(n,r);i.tag=2,e!=null&&(i.callback=e),e=Hr(t,i,r),e!==null&&(En(e,t,r,n),xu(e,t,r))}};function Rv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Aa(n,r)||!Aa(i,s):!0}function ox(t,e,n){var r=!1,i=ni,s=e.contextType;return typeof s=="object"&&s!==null?s=an(s):(i=zt(e)?Li:bt.current,r=e.contextTypes,s=(r=r!=null)?Ws(t,i):ni),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Pv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nd.enqueueReplaceState(e,e.state,null)}function Mf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},fm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=an(s):(s=zt(e)?Li:bt.current,i.context=Ws(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Lf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nd.enqueueReplaceState(i,i.state,null),sc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ks(t,e){try{var n="",r=e;do n+=gb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ih(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $k=typeof WeakMap=="function"?WeakMap:Map;function ax(t,e,n){n=ir(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cc||(cc=!0,Gf=r),Vf(t,e)},n}function lx(t,e,n){n=ir(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Vf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Vf(t,e),typeof r!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Nv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $k;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rA.bind(null,t,e,n),e.then(t,t))}function Dv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ov(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ir(-1,1),e.tag=2,Hr(n,e,1))),n.lanes|=1),t)}var Wk=wr.ReactCurrentOwner,Ft=!1;function Pt(t,e,n,r){e.child=t===null?VE(e,null,n,r):qs(e,t.child,n,r)}function Lv(t,e,n,r,i){n=n.render;var s=e.ref;return Ns(e,i),r=vm(t,e,n,r,s,i),n=wm(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cr(t,e,i)):(Ne&&n&&om(e),e.flags|=1,Pt(t,e,r,i),e.child)}function Mv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Am(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ux(t,e,s,r,i)):(t=ku(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Aa,n(o,r)&&t.ref===e.ref)return cr(t,e,i)}return e.flags|=1,t=Kr(s,r),t.ref=e.ref,t.return=e,e.child=t}function ux(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Aa(s,r)&&t.ref===e.ref)if(Ft=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ft=!0);else return e.lanes=t.lanes,cr(t,e,i)}return jf(t,e,n,r,i)}function cx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Cs,qt),qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(Cs,qt),qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ie(Cs,qt),qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ie(Cs,qt),qt|=r;return Pt(t,e,i,n),e.child}function dx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jf(t,e,n,r,i){var s=zt(n)?Li:bt.current;return s=Ws(e,s),Ns(e,i),n=vm(t,e,n,r,s,i),r=wm(),t!==null&&!Ft?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cr(t,e,i)):(Ne&&r&&om(e),e.flags|=1,Pt(t,e,n,i),e.child)}function Vv(t,e,n,r,i){if(zt(n)){var s=!0;ec(e)}else s=!1;if(Ns(e,i),e.stateNode===null)Iu(t,e),ox(e,n,r),Mf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=an(c):(c=zt(n)?Li:bt.current,c=Ws(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Pv(e,o,r,c),Pr=!1;var p=e.memoizedState;o.state=p,sc(e,r,o,i),u=e.memoizedState,a!==r||p!==u||Ut.current||Pr?(typeof d=="function"&&(Lf(e,n,d,r),u=e.memoizedState),(a=Pr||Rv(e,n,a,r,p,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,FE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:mn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=an(u):(u=zt(n)?Li:bt.current,u=Ws(e,u));var S=n.getDerivedStateFromProps;(d=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==u)&&Pv(e,o,r,u),Pr=!1,p=e.memoizedState,o.state=p,sc(e,r,o,i);var I=e.memoizedState;a!==f||p!==I||Ut.current||Pr?(typeof S=="function"&&(Lf(e,n,S,r),I=e.memoizedState),(c=Pr||Rv(e,n,c,r,p,I,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Ff(t,e,n,r,s,i)}function Ff(t,e,n,r,i,s){dx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&xv(e,n,!1),cr(t,e,s);r=e.stateNode,Wk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qs(e,t.child,null,s),e.child=qs(e,null,a,s)):Pt(t,e,a,s),e.memoizedState=r.state,i&&xv(e,n,!0),e.child}function hx(t){var e=t.stateNode;e.pendingContext?Ev(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ev(t,e.context,!1),pm(t,e.containerInfo)}function jv(t,e,n,r,i){return Hs(),lm(i),e.flags|=256,Pt(t,e,n,r),e.child}var Uf={dehydrated:null,treeContext:null,retryLane:0};function zf(t){return{baseLanes:t,cachePool:null,transitions:null}}function fx(t,e,n){var r=e.pendingProps,i=Le.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ie(Le,i&1),t===null)return Df(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sd(o,r,0,null),t=Ni(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=zf(n),e.memoizedState=Uf,t):xm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Hk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Kr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Kr(a,s):(s=Ni(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?zf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Uf,r}return s=t.child,t=s.sibling,r=Kr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xm(t,e){return e=sd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kl(t,e,n,r){return r!==null&&lm(r),qs(e,t.child,null,n),t=xm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ih(Error(z(422))),Kl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sd({mode:"visible",children:r.children},i,0,null),s=Ni(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&qs(e,t.child,null,o),e.child.memoizedState=zf(o),e.memoizedState=Uf,s);if(!(e.mode&1))return Kl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=Ih(s,r,void 0),Kl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ft||a){if(r=st,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ur(t,i),En(r,t,i,-1))}return km(),r=Ih(Error(z(421))),Kl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Kt=Wr(i.nextSibling),Qt=e,Ne=!0,yn=null,t!==null&&(en[tn++]=er,en[tn++]=tr,en[tn++]=Mi,er=t.id,tr=t.overflow,Mi=e),e=xm(e,r.children),e.flags|=4096,e)}function Fv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Of(t.return,e,n)}function Ch(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function px(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Pt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fv(t,n,e);else if(t.tag===19)Fv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&oc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ch(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&oc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ch(e,!0,n,null,s);break;case"together":Ch(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Iu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ji|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Kr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qk(t,e,n){switch(e.tag){case 3:hx(e),Hs();break;case 5:UE(e);break;case 1:zt(e.type)&&ec(e);break;case 4:pm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ie(rc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?fx(t,e,n):(Ie(Le,Le.current&1),t=cr(t,e,n),t!==null?t.sibling:null);Ie(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return px(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,cx(t,e,n)}return cr(t,e,n)}var mx,Bf,gx,yx;mx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bf=function(){};gx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ai(Ln.current);var s=null;switch(n){case"input":i=cf(t,i),r=cf(t,r),s=[];break;case"select":i=je({},i,{value:void 0}),r=je({},r,{value:void 0}),s=[];break;case"textarea":i=ff(t,i),r=ff(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ju)}mf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&be("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};yx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Go(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Gk(t,e,n){var r=e.pendingProps;switch(am(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return zt(e.type)&&Zu(),xt(e),null;case 3:return r=e.stateNode,Gs(),Re(Ut),Re(bt),gm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ql(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(Yf(yn),yn=null))),Bf(t,e),xt(e),null;case 5:mm(e);var i=Ai(Oa.current);if(n=e.type,t!==null&&e.stateNode!=null)gx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return xt(e),null}if(t=Ai(Ln.current),ql(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Rn]=e,r[Na]=s,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<ta.length;i++)be(ta[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":Ky(r,s),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},be("invalid",r);break;case"textarea":Yy(r,s),be("invalid",r)}mf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Hl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Hl(r.textContent,a,t),i=["children",""+a]):xa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":Vl(r),Qy(r,s,!0);break;case"textarea":Vl(r),Xy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ju)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=H0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Rn]=e,t[Na]=r,mx(t,e,!1,!1),e.stateNode=t;e:{switch(o=gf(n,r),n){case"dialog":be("cancel",t),be("close",t),i=r;break;case"iframe":case"object":case"embed":be("load",t),i=r;break;case"video":case"audio":for(i=0;i<ta.length;i++)be(ta[i],t);i=r;break;case"source":be("error",t),i=r;break;case"img":case"image":case"link":be("error",t),be("load",t),i=r;break;case"details":be("toggle",t),i=r;break;case"input":Ky(t,r),i=cf(t,r),be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=je({},r,{value:void 0}),be("invalid",t);break;case"textarea":Yy(t,r),i=ff(t,r),be("invalid",t);break;default:i=r}mf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?K0(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&q0(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Sa(t,u):typeof u=="number"&&Sa(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xa.hasOwnProperty(s)?u!=null&&s==="onScroll"&&be("scroll",t):u!=null&&qp(t,s,u,o))}switch(n){case"input":Vl(t),Qy(t,r,!1);break;case"textarea":Vl(t),Xy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ti(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ks(t,!!r.multiple,s,!1):r.defaultValue!=null&&ks(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ju)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)yx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Ai(Oa.current),Ai(Ln.current),ql(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rn]=e,(s=r.nodeValue!==n)&&(t=Qt,t!==null))switch(t.tag){case 3:Hl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Hl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rn]=e,e.stateNode=r}return xt(e),null;case 13:if(Re(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&Kt!==null&&e.mode&1&&!(e.flags&128))LE(),Hs(),e.flags|=98560,s=!1;else if(s=ql(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Rn]=e}else Hs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),s=!1}else yn!==null&&(Yf(yn),yn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?tt===0&&(tt=3):km())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return Gs(),Bf(t,e),t===null&&Ra(e.stateNode.containerInfo),xt(e),null;case 10:return dm(e.type._context),xt(e),null;case 17:return zt(e.type)&&Zu(),xt(e),null;case 19:if(Re(Le),s=e.memoizedState,s===null)return xt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Go(s,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oc(t),o!==null){for(e.flags|=128,Go(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Le,Le.current&1|2),e.child}t=t.sibling}s.tail!==null&&qe()>Qs&&(e.flags|=128,r=!0,Go(s,!1),e.lanes=4194304)}else{if(!r)if(t=oc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Go(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ne)return xt(e),null}else 2*qe()-s.renderingStartTime>Qs&&n!==1073741824&&(e.flags|=128,r=!0,Go(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qe(),e.sibling=null,n=Le.current,Ie(Le,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return bm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qt&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function Kk(t,e){switch(am(e),e.tag){case 1:return zt(e.type)&&Zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gs(),Re(Ut),Re(bt),gm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mm(e),null;case 13:if(Re(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Hs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Re(Le),null;case 4:return Gs(),null;case 10:return dm(e.type._context),null;case 22:case 23:return bm(),null;case 24:return null;default:return null}}var Ql=!1,It=!1,Qk=typeof WeakSet=="function"?WeakSet:Set,G=null;function Is(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function $f(t,e,n){try{n()}catch(r){Be(t,e,r)}}var Uv=!1;function Yk(t,e){if(Cf=Qu,t=xE(),sm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var S;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(S=f.firstChild)!==null;)p=f,f=S;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(u=o),(S=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=S}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(bf={focusedElem:t,selectionRange:n},Qu=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var w=I.memoizedProps,k=I.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:mn(e.type,w),k);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(D){Be(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return I=Uv,Uv=!1,I}function fa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&$f(e,n,s)}i=i.next}while(i!==r)}}function rd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vx(t){var e=t.alternate;e!==null&&(t.alternate=null,vx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rn],delete e[Na],delete e[Rf],delete e[Nk],delete e[Dk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wx(t){return t.tag===5||t.tag===3||t.tag===4}function zv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ju));else if(r!==4&&(t=t.child,t!==null))for(Hf(t,e,n),t=t.sibling;t!==null;)Hf(t,e,n),t=t.sibling}function qf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qf(t,e,n),t=t.sibling;t!==null;)qf(t,e,n),t=t.sibling}var ut=null,gn=!1;function Ir(t,e,n){for(n=n.child;n!==null;)_x(t,e,n),n=n.sibling}function _x(t,e,n){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Qc,n)}catch{}switch(n.tag){case 5:It||Is(n,e);case 6:var r=ut,i=gn;ut=null,Ir(t,e,n),ut=r,gn=i,ut!==null&&(gn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(gn?(t=ut,n=n.stateNode,t.nodeType===8?wh(t.parentNode,n):t.nodeType===1&&wh(t,n),ba(t)):wh(ut,n.stateNode));break;case 4:r=ut,i=gn,ut=n.stateNode.containerInfo,gn=!0,Ir(t,e,n),ut=r,gn=i;break;case 0:case 11:case 14:case 15:if(!It&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$f(n,e,o),i=i.next}while(i!==r)}Ir(t,e,n);break;case 1:if(!It&&(Is(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Be(n,e,a)}Ir(t,e,n);break;case 21:Ir(t,e,n);break;case 22:n.mode&1?(It=(r=It)||n.memoizedState!==null,Ir(t,e,n),It=r):Ir(t,e,n);break;default:Ir(t,e,n)}}function Bv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Qk),e.forEach(function(r){var i=sA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,gn=!1;break e;case 3:ut=a.stateNode.containerInfo,gn=!0;break e;case 4:ut=a.stateNode.containerInfo,gn=!0;break e}a=a.return}if(ut===null)throw Error(z(160));_x(s,o,i),ut=null,gn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Be(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ex(e,t),e=e.sibling}function Ex(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fn(e,t),bn(t),r&4){try{fa(3,t,t.return),rd(3,t)}catch(w){Be(t,t.return,w)}try{fa(5,t,t.return)}catch(w){Be(t,t.return,w)}}break;case 1:fn(e,t),bn(t),r&512&&n!==null&&Is(n,n.return);break;case 5:if(fn(e,t),bn(t),r&512&&n!==null&&Is(n,n.return),t.flags&32){var i=t.stateNode;try{Sa(i,"")}catch(w){Be(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$0(i,s),gf(a,o);var c=gf(a,s);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?K0(i,f):d==="dangerouslySetInnerHTML"?q0(i,f):d==="children"?Sa(i,f):qp(i,d,f,c)}switch(a){case"input":df(i,s);break;case"textarea":W0(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?ks(i,!!s.multiple,S,!1):p!==!!s.multiple&&(s.defaultValue!=null?ks(i,!!s.multiple,s.defaultValue,!0):ks(i,!!s.multiple,s.multiple?[]:"",!1))}i[Na]=s}catch(w){Be(t,t.return,w)}}break;case 6:if(fn(e,t),bn(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Be(t,t.return,w)}}break;case 3:if(fn(e,t),bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ba(e.containerInfo)}catch(w){Be(t,t.return,w)}break;case 4:fn(e,t),bn(t);break;case 13:fn(e,t),bn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Im=qe())),r&4&&Bv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(It=(c=It)||d,fn(e,t),It=c):fn(e,t),bn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(G=t,d=t.child;d!==null;){for(f=G=d;G!==null;){switch(p=G,S=p.child,p.tag){case 0:case 11:case 14:case 15:fa(4,p,p.return);break;case 1:Is(p,p.return);var I=p.stateNode;if(typeof I.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(w){Be(r,n,w)}}break;case 5:Is(p,p.return);break;case 22:if(p.memoizedState!==null){Wv(f);continue}}S!==null?(S.return=p,G=S):Wv(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=G0("display",o))}catch(w){Be(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){Be(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fn(e,t),bn(t),r&4&&Bv(t);break;case 21:break;default:fn(e,t),bn(t)}}function bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wx(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Sa(i,""),r.flags&=-33);var s=zv(t);qf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=zv(t);Hf(t,a,o);break;default:throw Error(z(161))}}catch(u){Be(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Xk(t,e,n){G=t,xx(t)}function xx(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ql;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||It;a=Ql;var c=It;if(Ql=o,(It=u)&&!c)for(G=i;G!==null;)o=G,u=o.child,o.tag===22&&o.memoizedState!==null?Hv(i):u!==null?(u.return=o,G=u):Hv(i);for(;s!==null;)G=s,xx(s),s=s.sibling;G=i,Ql=a,It=c}$v(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):$v(t)}}function $v(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:It||rd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!It)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&bv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ba(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}It||e.flags&512&&Wf(e)}catch(p){Be(e,e.return,p)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function Wv(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function Hv(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rd(4,e)}catch(u){Be(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Be(e,i,u)}}var s=e.return;try{Wf(e)}catch(u){Be(e,s,u)}break;case 5:var o=e.return;try{Wf(e)}catch(u){Be(e,o,u)}}}catch(u){Be(e,e.return,u)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var Jk=Math.ceil,uc=wr.ReactCurrentDispatcher,Sm=wr.ReactCurrentOwner,on=wr.ReactCurrentBatchConfig,ve=0,st=null,Ye=null,pt=0,qt=0,Cs=hi(0),tt=0,ja=null,ji=0,id=0,Tm=0,pa=null,jt=null,Im=0,Qs=1/0,Jn=null,cc=!1,Gf=null,qr=null,Yl=!1,Fr=null,dc=0,ma=0,Kf=null,Cu=-1,bu=0;function Nt(){return ve&6?qe():Cu!==-1?Cu:Cu=qe()}function Gr(t){return t.mode&1?ve&2&&pt!==0?pt&-pt:Lk.transition!==null?(bu===0&&(bu=oE()),bu):(t=Se,t!==0||(t=window.event,t=t===void 0?16:fE(t.type)),t):1}function En(t,e,n,r){if(50<ma)throw ma=0,Kf=null,Error(z(185));Ja(t,n,r),(!(ve&2)||t!==st)&&(t===st&&(!(ve&2)&&(id|=n),tt===4&&Dr(t,pt)),Bt(t,r),n===1&&ve===0&&!(e.mode&1)&&(Qs=qe()+500,ed&&fi()))}function Bt(t,e){var n=t.callbackNode;Lb(t,e);var r=Ku(t,t===st?pt:0);if(r===0)n!==null&&ev(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ev(n),e===1)t.tag===0?Ok(qv.bind(null,t)):NE(qv.bind(null,t)),Rk(function(){!(ve&6)&&fi()}),n=null;else{switch(aE(r)){case 1:n=Xp;break;case 4:n=iE;break;case 16:n=Gu;break;case 536870912:n=sE;break;default:n=Gu}n=Rx(n,Sx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Sx(t,e){if(Cu=-1,bu=0,ve&6)throw Error(z(327));var n=t.callbackNode;if(Ds()&&t.callbackNode!==n)return null;var r=Ku(t,t===st?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hc(t,r);else{e=r;var i=ve;ve|=2;var s=Ix();(st!==t||pt!==e)&&(Jn=null,Qs=qe()+500,Pi(t,e));do try{tA();break}catch(a){Tx(t,a)}while(!0);cm(),uc.current=s,ve=i,Ye!==null?e=0:(st=null,pt=0,e=tt)}if(e!==0){if(e===2&&(i=Ef(t),i!==0&&(r=i,e=Qf(t,i))),e===1)throw n=ja,Pi(t,0),Dr(t,r),Bt(t,qe()),n;if(e===6)Dr(t,r);else{if(i=t.current.alternate,!(r&30)&&!Zk(i)&&(e=hc(t,r),e===2&&(s=Ef(t),s!==0&&(r=s,e=Qf(t,s))),e===1))throw n=ja,Pi(t,0),Dr(t,r),Bt(t,qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ii(t,jt,Jn);break;case 3:if(Dr(t,r),(r&130023424)===r&&(e=Im+500-qe(),10<e)){if(Ku(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Nt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Af(Ii.bind(null,t,jt,Jn),e);break}Ii(t,jt,Jn);break;case 4:if(Dr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jk(r/1960))-r,10<r){t.timeoutHandle=Af(Ii.bind(null,t,jt,Jn),r);break}Ii(t,jt,Jn);break;case 5:Ii(t,jt,Jn);break;default:throw Error(z(329))}}}return Bt(t,qe()),t.callbackNode===n?Sx.bind(null,t):null}function Qf(t,e){var n=pa;return t.current.memoizedState.isDehydrated&&(Pi(t,e).flags|=256),t=hc(t,e),t!==2&&(e=jt,jt=n,e!==null&&Yf(e)),t}function Yf(t){jt===null?jt=t:jt.push.apply(jt,t)}function Zk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dr(t,e){for(e&=~Tm,e&=~id,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),r=1<<n;t[n]=-1,e&=~r}}function qv(t){if(ve&6)throw Error(z(327));Ds();var e=Ku(t,0);if(!(e&1))return Bt(t,qe()),null;var n=hc(t,e);if(t.tag!==0&&n===2){var r=Ef(t);r!==0&&(e=r,n=Qf(t,r))}if(n===1)throw n=ja,Pi(t,0),Dr(t,e),Bt(t,qe()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ii(t,jt,Jn),Bt(t,qe()),null}function Cm(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(Qs=qe()+500,ed&&fi())}}function Fi(t){Fr!==null&&Fr.tag===0&&!(ve&6)&&Ds();var e=ve;ve|=1;var n=on.transition,r=Se;try{if(on.transition=null,Se=1,t)return t()}finally{Se=r,on.transition=n,ve=e,!(ve&6)&&fi()}}function bm(){qt=Cs.current,Re(Cs)}function Pi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ak(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(am(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zu();break;case 3:Gs(),Re(Ut),Re(bt),gm();break;case 5:mm(r);break;case 4:Gs();break;case 13:Re(Le);break;case 19:Re(Le);break;case 10:dm(r.type._context);break;case 22:case 23:bm()}n=n.return}if(st=t,Ye=t=Kr(t.current,null),pt=qt=e,tt=0,ja=null,Tm=id=ji=0,jt=pa=null,ki!==null){for(e=0;e<ki.length;e++)if(n=ki[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ki=null}return t}function Tx(t,e){do{var n=Ye;try{if(cm(),Su.current=lc,ac){for(var r=Ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ac=!1}if(Vi=0,it=Ze=Ve=null,ha=!1,La=0,Sm.current=null,n===null||n.return===null){tt=1,ja=e,Ye=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=pt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var S=Dv(o);if(S!==null){S.flags&=-257,Ov(S,o,a,s,e),S.mode&1&&Nv(s,c,e),e=S,u=c;var I=e.updateQueue;if(I===null){var w=new Set;w.add(u),e.updateQueue=w}else I.add(u);break e}else{if(!(e&1)){Nv(s,c,e),km();break e}u=Error(z(426))}}else if(Ne&&a.mode&1){var k=Dv(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ov(k,o,a,s,e),lm(Ks(u,a));break e}}s=u=Ks(u,a),tt!==4&&(tt=2),pa===null?pa=[s]:pa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=ax(s,u,e);Cv(s,_);break e;case 1:a=u;var y=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(qr===null||!qr.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=lx(s,a,e);Cv(s,D);break e}}s=s.return}while(s!==null)}bx(n)}catch(O){e=O,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function Ix(){var t=uc.current;return uc.current=lc,t===null?lc:t}function km(){(tt===0||tt===3||tt===2)&&(tt=4),st===null||!(ji&268435455)&&!(id&268435455)||Dr(st,pt)}function hc(t,e){var n=ve;ve|=2;var r=Ix();(st!==t||pt!==e)&&(Jn=null,Pi(t,e));do try{eA();break}catch(i){Tx(t,i)}while(!0);if(cm(),ve=n,uc.current=r,Ye!==null)throw Error(z(261));return st=null,pt=0,tt}function eA(){for(;Ye!==null;)Cx(Ye)}function tA(){for(;Ye!==null&&!Cb();)Cx(Ye)}function Cx(t){var e=Ax(t.alternate,t,qt);t.memoizedProps=t.pendingProps,e===null?bx(t):Ye=e,Sm.current=null}function bx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Kk(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Ye=null;return}}else if(n=Gk(n,e,qt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);tt===0&&(tt=5)}function Ii(t,e,n){var r=Se,i=on.transition;try{on.transition=null,Se=1,nA(t,e,n,r)}finally{on.transition=i,Se=r}return null}function nA(t,e,n,r){do Ds();while(Fr!==null);if(ve&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Mb(t,s),t===st&&(Ye=st=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yl||(Yl=!0,Rx(Gu,function(){return Ds(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=on.transition,on.transition=null;var o=Se;Se=1;var a=ve;ve|=4,Sm.current=null,Yk(t,n),Ex(n,t),xk(bf),Qu=!!Cf,bf=Cf=null,t.current=n,Xk(n),bb(),ve=a,Se=o,on.transition=s}else t.current=n;if(Yl&&(Yl=!1,Fr=t,dc=i),s=t.pendingLanes,s===0&&(qr=null),Rb(n.stateNode),Bt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cc)throw cc=!1,t=Gf,Gf=null,t;return dc&1&&t.tag!==0&&Ds(),s=t.pendingLanes,s&1?t===Kf?ma++:(ma=0,Kf=t):ma=0,fi(),null}function Ds(){if(Fr!==null){var t=aE(dc),e=on.transition,n=Se;try{if(on.transition=null,Se=16>t?16:t,Fr===null)var r=!1;else{if(t=Fr,Fr=null,dc=0,ve&6)throw Error(z(331));var i=ve;for(ve|=4,G=t.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(G=c;G!==null;){var d=G;switch(d.tag){case 0:case 11:case 15:fa(8,d,s)}var f=d.child;if(f!==null)f.return=d,G=f;else for(;G!==null;){d=G;var p=d.sibling,S=d.return;if(vx(d),d===c){G=null;break}if(p!==null){p.return=S,G=p;break}G=S}}}var I=s.alternate;if(I!==null){var w=I.child;if(w!==null){I.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fa(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,G=_;break e}G=s.return}}var y=t.current;for(G=y;G!==null;){o=G;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,G=T;else e:for(o=y;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rd(9,a)}}catch(O){Be(a,a.return,O)}if(a===o){G=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,G=D;break e}G=a.return}}if(ve=i,fi(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Qc,t)}catch{}r=!0}return r}finally{Se=n,on.transition=e}}return!1}function Gv(t,e,n){e=Ks(n,e),e=ax(t,e,1),t=Hr(t,e,1),e=Nt(),t!==null&&(Ja(t,1,e),Bt(t,e))}function Be(t,e,n){if(t.tag===3)Gv(t,t,n);else for(;e!==null;){if(e.tag===3){Gv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qr===null||!qr.has(r))){t=Ks(n,t),t=lx(e,t,1),e=Hr(e,t,1),t=Nt(),e!==null&&(Ja(e,1,t),Bt(e,t));break}}e=e.return}}function rA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(pt&n)===n&&(tt===4||tt===3&&(pt&130023424)===pt&&500>qe()-Im?Pi(t,0):Tm|=n),Bt(t,e)}function kx(t,e){e===0&&(t.mode&1?(e=Ul,Ul<<=1,!(Ul&130023424)&&(Ul=4194304)):e=1);var n=Nt();t=ur(t,e),t!==null&&(Ja(t,e,n),Bt(t,n))}function iA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kx(t,n)}function sA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),kx(t,n)}var Ax;Ax=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)Ft=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ft=!1,qk(t,e,n);Ft=!!(t.flags&131072)}else Ft=!1,Ne&&e.flags&1048576&&DE(e,nc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Iu(t,e),t=e.pendingProps;var i=Ws(e,bt.current);Ns(e,n),i=vm(null,e,r,t,i,n);var s=wm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(r)?(s=!0,ec(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fm(e),i.updater=nd,e.stateNode=i,i._reactInternals=e,Mf(e,r,t,n),e=Ff(null,e,r,!0,s,n)):(e.tag=0,Ne&&s&&om(e),Pt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Iu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=aA(r),t=mn(r,t),i){case 0:e=jf(null,e,r,t,n);break e;case 1:e=Vv(null,e,r,t,n);break e;case 11:e=Lv(null,e,r,t,n);break e;case 14:e=Mv(null,e,r,mn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),jf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Vv(t,e,r,i,n);case 3:e:{if(hx(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,FE(t,e),sc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ks(Error(z(423)),e),e=jv(t,e,r,n,i);break e}else if(r!==i){i=Ks(Error(z(424)),e),e=jv(t,e,r,n,i);break e}else for(Kt=Wr(e.stateNode.containerInfo.firstChild),Qt=e,Ne=!0,yn=null,n=VE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hs(),r===i){e=cr(t,e,n);break e}Pt(t,e,r,n)}e=e.child}return e;case 5:return UE(e),t===null&&Df(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,kf(r,i)?o=null:s!==null&&kf(r,s)&&(e.flags|=32),dx(t,e),Pt(t,e,o,n),e.child;case 6:return t===null&&Df(e),null;case 13:return fx(t,e,n);case 4:return pm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qs(e,null,r,n):Pt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Lv(t,e,r,i,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ie(rc,r._currentValue),r._currentValue=o,s!==null)if(xn(s.value,o)){if(s.children===i.children&&!Ut.current){e=cr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=ir(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Of(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Of(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Pt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ns(e,n),i=an(i),r=r(i),e.flags|=1,Pt(t,e,r,n),e.child;case 14:return r=e.type,i=mn(r,e.pendingProps),i=mn(r.type,i),Mv(t,e,r,i,n);case 15:return ux(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:mn(r,i),Iu(t,e),e.tag=1,zt(r)?(t=!0,ec(e)):t=!1,Ns(e,n),ox(e,r,i),Mf(e,r,i,n),Ff(null,e,r,!0,t,n);case 19:return px(t,e,n);case 22:return cx(t,e,n)}throw Error(z(156,e.tag))};function Rx(t,e){return rE(t,e)}function oA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,e,n,r){return new oA(t,e,n,r)}function Am(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aA(t){if(typeof t=="function")return Am(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kp)return 11;if(t===Qp)return 14}return 2}function Kr(t,e){var n=t.alternate;return n===null?(n=sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ku(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Am(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gs:return Ni(n.children,i,s,e);case Gp:o=8,i|=8;break;case of:return t=sn(12,n,e,i|2),t.elementType=of,t.lanes=s,t;case af:return t=sn(13,n,e,i),t.elementType=af,t.lanes=s,t;case lf:return t=sn(19,n,e,i),t.elementType=lf,t.lanes=s,t;case U0:return sd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j0:o=10;break e;case F0:o=9;break e;case Kp:o=11;break e;case Qp:o=14;break e;case Rr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=sn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ni(t,e,n,r){return t=sn(7,t,r,e),t.lanes=n,t}function sd(t,e,n,r){return t=sn(22,t,r,e),t.elementType=U0,t.lanes=n,t.stateNode={isHidden:!1},t}function bh(t,e,n){return t=sn(6,t,null,e),t.lanes=n,t}function kh(t,e,n){return e=sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lh(0),this.expirationTimes=lh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rm(t,e,n,r,i,s,o,a,u){return t=new lA(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=sn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fm(s),t}function uA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Px(t){if(!t)return ni;t=t._reactInternals;e:{if(Yi(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(zt(n))return PE(t,n,e)}return e}function Nx(t,e,n,r,i,s,o,a,u){return t=Rm(n,r,!0,t,i,s,o,a,u),t.context=Px(null),n=t.current,r=Nt(),i=Gr(n),s=ir(r,i),s.callback=e??null,Hr(n,s,i),t.current.lanes=i,Ja(t,i,r),Bt(t,r),t}function od(t,e,n,r){var i=e.current,s=Nt(),o=Gr(i);return n=Px(n),e.context===null?e.context=n:e.pendingContext=n,e=ir(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hr(i,e,o),t!==null&&(En(t,i,o,s),xu(t,i,o)),o}function fc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Pm(t,e){Kv(t,e),(t=t.alternate)&&Kv(t,e)}function cA(){return null}var Dx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nm(t){this._internalRoot=t}ad.prototype.render=Nm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));od(t,e,null,null)};ad.prototype.unmount=Nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fi(function(){od(null,t,null,null)}),e[lr]=null}};function ad(t){this._internalRoot=t}ad.prototype.unstable_scheduleHydration=function(t){if(t){var e=cE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Nr.length&&e!==0&&e<Nr[n].priority;n++);Nr.splice(n,0,t),n===0&&hE(t)}};function Dm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ld(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qv(){}function dA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=fc(o);s.call(c)}}var o=Nx(e,r,t,0,null,!1,!1,"",Qv);return t._reactRootContainer=o,t[lr]=o.current,Ra(t.nodeType===8?t.parentNode:t),Fi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=fc(u);a.call(c)}}var u=Rm(t,0,!1,null,null,!1,!1,"",Qv);return t._reactRootContainer=u,t[lr]=u.current,Ra(t.nodeType===8?t.parentNode:t),Fi(function(){od(e,u,n,r)}),u}function ud(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=fc(o);a.call(u)}}od(e,o,t,i)}else o=dA(n,e,t,i,r);return fc(o)}lE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ea(e.pendingLanes);n!==0&&(Jp(e,n|1),Bt(e,qe()),!(ve&6)&&(Qs=qe()+500,fi()))}break;case 13:Fi(function(){var r=ur(t,1);if(r!==null){var i=Nt();En(r,t,1,i)}}),Pm(t,1)}};Zp=function(t){if(t.tag===13){var e=ur(t,134217728);if(e!==null){var n=Nt();En(e,t,134217728,n)}Pm(t,134217728)}};uE=function(t){if(t.tag===13){var e=Gr(t),n=ur(t,e);if(n!==null){var r=Nt();En(n,t,e,r)}Pm(t,e)}};cE=function(){return Se};dE=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};vf=function(t,e,n){switch(e){case"input":if(df(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zc(r);if(!i)throw Error(z(90));B0(r),df(r,i)}}}break;case"textarea":W0(t,n);break;case"select":e=n.value,e!=null&&ks(t,!!n.multiple,e,!1)}};X0=Cm;J0=Fi;var hA={usingClientEntryPoint:!1,Events:[el,_s,Zc,Q0,Y0,Cm]},Ko={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fA={bundleType:Ko.bundleType,version:Ko.version,rendererPackageName:Ko.rendererPackageName,rendererConfig:Ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ko.findFiberByHostInstance||cA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{Qc=Xl.inject(fA),On=Xl}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hA;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dm(e))throw Error(z(200));return uA(t,e,null,n)};Jt.createRoot=function(t,e){if(!Dm(t))throw Error(z(299));var n=!1,r="",i=Dx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Rm(t,1,!1,null,null,n,!1,r,i),t[lr]=e.current,Ra(t.nodeType===8?t.parentNode:t),new Nm(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=tE(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return Fi(t)};Jt.hydrate=function(t,e,n){if(!ld(e))throw Error(z(200));return ud(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!Dm(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Dx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Nx(e,null,t,1,n??null,i,!1,s,o),t[lr]=e.current,Ra(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ad(e)};Jt.render=function(t,e,n){if(!ld(e))throw Error(z(200));return ud(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!ld(t))throw Error(z(40));return t._reactRootContainer?(Fi(function(){ud(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1};Jt.unstable_batchedUpdates=Cm;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ld(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return ud(t,e,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function Ox(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ox)}catch(t){console.error(t)}}Ox(),O0.exports=Jt;var lo=O0.exports;const pA=E0(lo);var Lx,Yv=lo;Lx=Yv.createRoot,Yv.hydrateRoot;const na={},Xv=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,Jv=t=>"init"in t,Ah=t=>!!t.write,Zv=t=>"v"in t||"e"in t,Jl=t=>{if("e"in t)throw t.e;if((na?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},pc=new WeakMap,ew=t=>{var e;return mc(t)&&!!((e=pc.get(t))!=null&&e[0])},mA=t=>{const e=pc.get(t);e!=null&&e[0]&&(e[0]=!1,e[1].forEach(n=>n()))},Mx=(t,e)=>{let n=pc.get(t);if(!n){n=[!0,new Set],pc.set(t,n);const r=()=>{n[0]=!1};t.then(r,r)}n[1].add(e)},mc=t=>typeof(t==null?void 0:t.then)=="function",Vx=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},Rh=(t,e,n)=>{const r=n(t),i="v"in r,s=r.v;if(mc(e))for(const o of r.d.keys())Vx(t,e,n(o));r.v=e,delete r.e,(!i||!Object.is(s,r.v))&&(++r.n,mc(s)&&mA(s))},tw=(t,e,n)=>{var r;const i=new Set;for(const s of((r=n.get(t))==null?void 0:r.t)||[])n.has(s)&&i.add(s);for(const s of e.p)i.add(s);return i},gA=()=>{const t=new Set,e=()=>{t.forEach(n=>n())};return e.add=n=>(t.add(n),()=>{t.delete(n)}),e},Ph=()=>{const t={},e=new WeakMap,n=r=>{var i,s;(i=e.get(t))==null||i.forEach(o=>o(r)),(s=e.get(r))==null||s.forEach(o=>o())};return n.add=(r,i)=>{const s=r||t,o=(e.has(s)?e:e.set(s,new Set)).get(s);return o.add(i),()=>{o==null||o.delete(i),o.size||e.delete(s)}},n},yA=t=>(t.c||(t.c=Ph()),t.m||(t.m=Ph()),t.u||(t.u=Ph()),t.f||(t.f=gA()),t),vA=Symbol(),wA=(t=new WeakMap,e=new WeakMap,n=new WeakMap,r=new Set,i=new Set,s=new Set,o={},a=(p,...S)=>p.read(...S),u=(p,...S)=>p.write(...S),c=(p,S)=>{var I;return(I=p.unstable_onInit)==null?void 0:I.call(p,S)},d=(p,S)=>{var I;return(I=p.onMount)==null?void 0:I.call(p,S)},...f)=>{const p=f[0]||(E=>{if((na?"production":void 0)!=="production"&&!E)throw new Error("Atom is undefined or null");let v=t.get(E);return v||(v={d:new Map,p:new Set,n:0},t.set(E,v),c==null||c(E,V)),v}),S=f[1]||(()=>{const E=[],v=C=>{try{C()}catch(A){E.push(A)}};do{o.f&&v(o.f);const C=new Set,A=C.add.bind(C);r.forEach(P=>{var N;return(N=e.get(P))==null?void 0:N.l.forEach(A)}),r.clear(),s.forEach(A),s.clear(),i.forEach(A),i.clear(),C.forEach(v),r.size&&I()}while(r.size||s.size||i.size);if(E.length)throw new AggregateError(E)}),I=f[2]||(()=>{const E=[],v=new WeakSet,C=new WeakSet,A=Array.from(r);for(;A.length;){const P=A[A.length-1],N=p(P);if(C.has(P)){A.pop();continue}if(v.has(P)){if(n.get(P)===N.n)E.push([P,N]);else if((na?"production":void 0)!=="production"&&n.has(P))throw new Error("[Bug] invalidated atom exists");C.add(P),A.pop();continue}v.add(P);for(const R of tw(P,N,e))v.has(R)||A.push(R)}for(let P=E.length-1;P>=0;--P){const[N,R]=E[P];let K=!1;for(const re of R.d.keys())if(re!==N&&r.has(re)){K=!0;break}K&&(w(N),y(N)),n.delete(N)}}),w=f[3]||(E=>{var v;const C=p(E);if(Zv(C)&&(e.has(E)&&n.get(E)!==C.n||Array.from(C.d).every(([H,L])=>w(H).n===L)))return C;C.d.clear();let A=!0;const P=()=>{e.has(E)&&(y(E),I(),S())},N=H=>{var L;if(Xv(E,H)){const X=p(H);if(!Zv(X))if(Jv(H))Rh(H,H.init,p);else throw new Error("no atom init");return Jl(X)}const $=w(H);try{return Jl($)}finally{C.d.set(H,$.n),ew(C.v)&&Vx(E,C.v,$),(L=e.get(H))==null||L.t.add(E),A||P()}};let R,K;const re={get signal(){return R||(R=new AbortController),R.signal},get setSelf(){return(na?"production":void 0)!=="production"&&!Ah(E)&&console.warn("setSelf function cannot be used with read-only atom"),!K&&Ah(E)&&(K=(...H)=>{if((na?"production":void 0)!=="production"&&A&&console.warn("setSelf function cannot be called in sync"),!A)try{return _(E,...H)}finally{I(),S()}}),K}},Z=C.n;try{const H=a(E,N,re);return Rh(E,H,p),mc(H)&&(Mx(H,()=>R==null?void 0:R.abort()),H.then(P,P)),C}catch(H){return delete C.v,C.e=H,++C.n,C}finally{A=!1,Z!==C.n&&n.get(E)===Z&&(n.set(E,C.n),r.add(E),(v=o.c)==null||v.call(o,E))}}),k=f[4]||(E=>{const v=[E];for(;v.length;){const C=v.pop(),A=p(C);for(const P of tw(C,A,e)){const N=p(P);n.set(P,N.n),v.push(P)}}}),_=f[5]||((E,...v)=>{let C=!0;const A=N=>Jl(w(N)),P=(N,...R)=>{var K;const re=p(N);try{if(Xv(E,N)){if(!Jv(N))throw new Error("atom not writable");const Z=re.n,H=R[0];Rh(N,H,p),y(N),Z!==re.n&&(r.add(N),(K=o.c)==null||K.call(o,N),k(N));return}else return _(N,...R)}finally{C||(I(),S())}};try{return u(E,A,P,...v)}finally{C=!1}}),y=f[6]||(E=>{var v;const C=p(E),A=e.get(E);if(A&&!ew(C.v)){for(const[P,N]of C.d)if(!A.d.has(P)){const R=p(P);T(P).t.add(E),A.d.add(P),N!==R.n&&(r.add(P),(v=o.c)==null||v.call(o,P),k(P))}for(const P of A.d||[])if(!C.d.has(P)){A.d.delete(P);const N=D(P);N==null||N.t.delete(E)}}}),T=f[7]||(E=>{var v;const C=p(E);let A=e.get(E);if(!A){w(E);for(const P of C.d.keys())T(P).t.add(E);if(A={l:new Set,d:new Set(C.d.keys()),t:new Set},e.set(E,A),(v=o.m)==null||v.call(o,E),Ah(E)){const P=()=>{let N=!0;const R=(...K)=>{try{return _(E,...K)}finally{N||(I(),S())}};try{const K=d(E,R);K&&(A.u=()=>{N=!0;try{K()}finally{N=!1}})}finally{N=!1}};i.add(P)}}return A}),D=f[8]||(E=>{var v;const C=p(E);let A=e.get(E);if(A&&!A.l.size&&!Array.from(A.t).some(P=>{var N;return(N=e.get(P))==null?void 0:N.d.has(E)})){A.u&&s.add(A.u),A=void 0,e.delete(E),(v=o.u)==null||v.call(o,E);for(const P of C.d.keys()){const N=D(P);N==null||N.t.delete(E)}return}return A}),O=[t,e,n,r,i,s,o,a,u,c,d,p,S,I,w,k,_,y,T,D],V={get:E=>Jl(w(E)),set:(E,...v)=>{try{return _(E,...v)}finally{I(),S()}},sub:(E,v)=>{const A=T(E).l;return A.add(v),S(),()=>{A.delete(v),D(E),S()}}};return Object.defineProperty(V,vA,{value:O}),V},jx=wA,_A=yA,nw=Mx,Om={};let EA=0;function Fx(t,e){const n=`atom${++EA}`,r={toString(){return(Om?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=xA,r.write=SA),r}function xA(t){return t(this)}function SA(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}const TA=()=>{let t=0;const e=_A({}),n=new WeakMap,r=new WeakMap,i=jx(n,r,void 0,void 0,void 0,void 0,e,void 0,(a,u,c,...d)=>t?c(a,...d):a.write(u,c,...d)),s=new Set;return e.m.add(void 0,a=>{s.add(a);const u=n.get(a);u.m=r.get(a)}),e.u.add(void 0,a=>{s.delete(a);const u=n.get(a);delete u.m}),Object.assign(i,{dev4_get_internal_weak_map:()=>(console.log("Deprecated: Use devstore from the devtools library"),n),dev4_get_mounted_atoms:()=>s,dev4_restore_atoms:a=>{const u={read:()=>null,write:(c,d)=>{++t;try{for(const[f,p]of a)"init"in f&&d(f,p)}finally{--t}}};i.set(u)}})};function IA(){return(Om?"production":void 0)!=="production"?TA():jx()}let Qo;function CA(){return Qo||(Qo=IA(),(Om?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Qo),globalThis.__JOTAI_DEFAULT_STORE__!==Qo&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Qo}const bA={},kA=x.createContext(void 0);function Ux(t){return x.useContext(kA)||CA()}const Xf=t=>typeof(t==null?void 0:t.then)=="function",Jf=t=>{t.status||(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}))},AA=dt.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(Jf(t),t)}),Nh=new WeakMap,rw=(t,e)=>{let n=Nh.get(t);return n||(n=new Promise((r,i)=>{let s=t;const o=c=>d=>{s===c&&r(d)},a=c=>d=>{s===c&&i(d)},u=()=>{try{const c=e();Xf(c)?(Nh.set(c,n),s=c,c.then(o(c),a(c)),nw(c,u)):r(c)}catch(c){i(c)}};t.then(o(t),a(t)),nw(t,u)}),Nh.set(t,n)),n};function RA(t,e){const{delay:n,unstable_promiseStatus:r=!dt.use}={},i=Ux(),[[s,o,a],u]=x.useReducer(d=>{const f=i.get(t);return Object.is(d[0],f)&&d[1]===i&&d[2]===t?d:[f,i,t]},void 0,()=>[i.get(t),i,t]);let c=s;if((o!==i||a!==t)&&(u(),c=i.get(t)),x.useEffect(()=>{const d=i.sub(t,()=>{if(r)try{const f=i.get(t);Xf(f)&&Jf(rw(f,()=>i.get(t)))}catch{}if(typeof n=="number"){setTimeout(u,n);return}u()});return u(),d},[i,t,n,r]),x.useDebugValue(c),Xf(c)){const d=rw(c,()=>i.get(t));return r&&Jf(d),AA(d)}return c}function PA(t,e){const n=Ux();return x.useCallback((...i)=>{if((bA?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...i)},[n,t])}function Dt(t,e){return[RA(t),PA(t)]}/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iw="popstate";function NA(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Zf("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fa(i)}return OA(e,n,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DA(){return Math.random().toString(36).substring(2,10)}function sw(t,e){return{usr:t.state,key:t.key,idx:e}}function Zf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?uo(e):e,state:n,key:e&&e.key||r||DA()}}function Fa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function uo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function OA(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",u=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let k=d(),_=k==null?null:k-c;c=k,u&&u({action:a,location:w.location,delta:_})}function p(k,_){a="PUSH";let y=Zf(w.location,k,_);c=d()+1;let T=sw(y,c),D=w.createHref(y);try{o.pushState(T,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(D)}s&&u&&u({action:a,location:w.location,delta:1})}function S(k,_){a="REPLACE";let y=Zf(w.location,k,_);c=d();let T=sw(y,c),D=w.createHref(y);o.replaceState(T,"",D),s&&u&&u({action:a,location:w.location,delta:0})}function I(k){return LA(k)}let w={get action(){return a},get location(){return t(i,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(iw,f),u=k,()=>{i.removeEventListener(iw,f),u=null}},createHref(k){return e(i,k)},createURL:I,encodeLocation(k){let _=I(k);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:S,go(k){return o.go(k)}};return w}function LA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),De(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Fa(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function zx(t,e,n="/"){return MA(t,e,n,!1)}function MA(t,e,n,r){let i=typeof e=="string"?uo(e):e,s=dr(i.pathname||"/",n);if(s==null)return null;let o=Bx(t);VA(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=KA(s);a=qA(o[u],c,r)}return a}function Bx(t,e=[],n=[],r=""){let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(De(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=sr([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(De(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Bx(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:WA(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of $x(s.path))i(s,o,u)}),e}function $x(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=$x(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function VA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var jA=/^:[\w-]+$/,FA=3,UA=2,zA=1,BA=10,$A=-2,ow=t=>t==="*";function WA(t,e){let n=t.split("/"),r=n.length;return n.some(ow)&&(r+=$A),e&&(r+=UA),n.filter(i=>!ow(i)).reduce((i,s)=>i+(jA.test(s)?FA:s===""?zA:BA),r)}function HA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qA(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=gc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=gc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:sr([s,f.pathname]),pathnameBase:JA(sr([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=sr([s,f.pathnameBase]))}return o}function gc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=GA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:f},p)=>{if(d==="*"){let I=a[p]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const S=a[p];return f&&!S?c[d]=void 0:c[d]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function GA(t,e=!1,n=!0){Sn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function KA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function dr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function QA(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?uo(t):t;return{pathname:n?n.startsWith("/")?n:YA(n,e):e,search:ZA(r),hash:eR(i)}}function YA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Dh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lm(t){let e=XA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Mm(t,e,n,r=!1){let i;typeof t=="string"?i=uo(t):(i={...t},De(!i.pathname||!i.pathname.includes("?"),Dh("?","pathname","search",i)),De(!i.pathname||!i.pathname.includes("#"),Dh("#","pathname","hash",i)),De(!i.search||!i.search.includes("#"),Dh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let u=QA(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var sr=t=>t.join("/").replace(/\/\/+/g,"/"),JA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Wx=["POST","PUT","PATCH","DELETE"];new Set(Wx);var nR=["GET",...Wx];new Set(nR);var co=x.createContext(null);co.displayName="DataRouter";var cd=x.createContext(null);cd.displayName="DataRouterState";x.createContext(!1);var Hx=x.createContext({isTransitioning:!1});Hx.displayName="ViewTransition";var rR=x.createContext(new Map);rR.displayName="Fetchers";var iR=x.createContext(null);iR.displayName="Await";var Cn=x.createContext(null);Cn.displayName="Navigation";var nl=x.createContext(null);nl.displayName="Location";var qn=x.createContext({outlet:null,matches:[],isDataRoute:!1});qn.displayName="Route";var Vm=x.createContext(null);Vm.displayName="RouteError";function sR(t,{relative:e}={}){De(ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=x.useContext(Cn),{hash:i,pathname:s,search:o}=rl(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:sr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function ho(){return x.useContext(nl)!=null}function pi(){return De(ho(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(nl).location}var qx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gx(t){x.useContext(Cn).static||x.useLayoutEffect(t)}function dd(){let{isDataRoute:t}=x.useContext(qn);return t?vR():oR()}function oR(){De(ho(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(co),{basename:e,navigator:n}=x.useContext(Cn),{matches:r}=x.useContext(qn),{pathname:i}=pi(),s=JSON.stringify(Lm(r)),o=x.useRef(!1);return Gx(()=>{o.current=!0}),x.useCallback((u,c={})=>{if(Sn(o.current,qx),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=Mm(u,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:sr([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}x.createContext(null);function rl(t,{relative:e}={}){let{matches:n}=x.useContext(qn),{pathname:r}=pi(),i=JSON.stringify(Lm(n));return x.useMemo(()=>Mm(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function aR(t,e){return Kx(t,e)}function Kx(t,e,n,r){var _;De(ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(Cn),{matches:s}=x.useContext(qn),o=s[s.length-1],a=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",d=o&&o.route;{let y=d&&d.path||"";Qx(u,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let f=pi(),p;if(e){let y=typeof e=="string"?uo(e):e;De(c==="/"||((_=y.pathname)==null?void 0:_.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${y.pathname}" was given in the \`location\` prop.`),p=y}else p=f;let S=p.pathname||"/",I=S;if(c!=="/"){let y=c.replace(/^\//,"").split("/");I="/"+S.replace(/^\//,"").split("/").slice(y.length).join("/")}let w=zx(t,{pathname:I});Sn(d||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Sn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=hR(w&&w.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:sr([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:sr([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&k?x.createElement(nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},k):k}function lR(){let t=yR(),e=tR(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:s},"ErrorBoundary")," or"," ",x.createElement("code",{style:s},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,o)}var uR=x.createElement(lR,null),cR=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?x.createElement(qn.Provider,{value:this.props.routeContext},x.createElement(Vm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dR({routeContext:t,match:e,children:n}){let r=x.useContext(co);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(qn.Provider,{value:t},n)}function hR(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let u=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);De(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,a=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=u),c.route.id){let{loaderData:d,errors:f}=n,p=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||p){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((u,c,d)=>{let f,p=!1,S=null,I=null;n&&(f=s&&c.route.id?s[c.route.id]:void 0,S=c.route.errorElement||uR,o&&(a<0&&d===0?(Qx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,I=null):a===d&&(p=!0,I=c.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,d+1)),k=()=>{let _;return f?_=S:p?_=I:c.route.Component?_=x.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=u,x.createElement(dR,{match:c,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?x.createElement(cR,{location:n.location,revalidation:n.revalidation,component:S,error:f,children:k(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):k()},null)}function jm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fR(t){let e=x.useContext(co);return De(e,jm(t)),e}function pR(t){let e=x.useContext(cd);return De(e,jm(t)),e}function mR(t){let e=x.useContext(qn);return De(e,jm(t)),e}function Fm(t){let e=mR(t),n=e.matches[e.matches.length-1];return De(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function gR(){return Fm("useRouteId")}function yR(){var r;let t=x.useContext(Vm),e=pR("useRouteError"),n=Fm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function vR(){let{router:t}=fR("useNavigate"),e=Fm("useNavigate"),n=x.useRef(!1);return Gx(()=>{n.current=!0}),x.useCallback(async(i,s={})=>{Sn(n.current,qx),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var aw={};function Qx(t,e,n){!e&&!aw[t]&&(aw[t]=!0,Sn(!1,n))}x.memo(wR);function wR({routes:t,future:e,state:n}){return Kx(t,void 0,n,e)}function _R({to:t,replace:e,state:n,relative:r}){De(ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=x.useContext(Cn);Sn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=x.useContext(qn),{pathname:o}=pi(),a=dd(),u=Mm(t,Lm(s),o,r==="path"),c=JSON.stringify(u);return x.useEffect(()=>{a(JSON.parse(c),{replace:e,state:n,relative:r})},[a,c,r,e,n]),null}function kr(t){De(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ER({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){De(!ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=x.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=uo(n));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:p="default"}=n,S=x.useMemo(()=>{let I=dr(u,o);return I==null?null:{location:{pathname:I,search:c,hash:d,state:f,key:p},navigationType:r}},[o,u,c,d,f,p,r]);return Sn(S!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:x.createElement(Cn.Provider,{value:a},x.createElement(nl.Provider,{children:e,value:S}))}function xR({children:t,location:e}){return aR(ep(t),e)}function ep(t,e=[]){let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,ep(r.props.children,s));return}De(r.type===kr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),De(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ep(r.props.children,s)),n.push(o)}),n}var Au="get",Ru="application/x-www-form-urlencoded";function hd(t){return t!=null&&typeof t.tagName=="string"}function SR(t){return hd(t)&&t.tagName.toLowerCase()==="button"}function TR(t){return hd(t)&&t.tagName.toLowerCase()==="form"}function IR(t){return hd(t)&&t.tagName.toLowerCase()==="input"}function CR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bR(t,e){return t.button===0&&(!e||e==="_self")&&!CR(t)}var Zl=null;function kR(){if(Zl===null)try{new FormData(document.createElement("form"),0),Zl=!1}catch{Zl=!0}return Zl}var AR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oh(t){return t!=null&&!AR.has(t)?(Sn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ru}"`),null):t}function RR(t,e){let n,r,i,s,o;if(TR(t)){let a=t.getAttribute("action");r=a?dr(a,e):null,n=t.getAttribute("method")||Au,i=Oh(t.getAttribute("enctype"))||Ru,s=new FormData(t)}else if(SR(t)||IR(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||a.getAttribute("action");if(r=u?dr(u,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Au,i=Oh(t.getAttribute("formenctype"))||Oh(a.getAttribute("enctype"))||Ru,s=new FormData(a,t),!kR()){let{name:c,type:d,value:f}=t;if(d==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,f)}}else{if(hd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Au,r=null,i=Ru,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Um(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PR(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&dr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function NR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function OR(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await NR(s,n);return o.links?o.links():[]}return[]}));return jR(r.flat(1).filter(DR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function lw(t,e,n,r,i,s){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,a=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,c)=>o(u,c)||a(u,c)):s==="data"?e.filter((u,c)=>{var f;let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function LR(t,e,{includeHydrateFallback:n}={}){return MR(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function MR(t){return[...new Set(t)]}function VR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function jR(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(VR(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Yx(){let t=x.useContext(co);return Um(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function FR(){let t=x.useContext(cd);return Um(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zm=x.createContext(void 0);zm.displayName="FrameworkContext";function Xx(){let t=x.useContext(zm);return Um(t,"You must render this element inside a <HydratedRouter> element"),t}function UR(t,e){let n=x.useContext(zm),[r,i]=x.useState(!1),[s,o]=x.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=e,p=x.useRef(null);x.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=_=>{_.forEach(y=>{o(y.isIntersecting)})},k=new IntersectionObserver(w,{threshold:.5});return p.current&&k.observe(p.current),()=>{k.disconnect()}}},[t]),x.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let S=()=>{i(!0)},I=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,p,{}]:[s,p,{onFocus:Yo(a,S),onBlur:Yo(u,I),onMouseEnter:Yo(c,S),onMouseLeave:Yo(d,I),onTouchStart:Yo(f,S)}]:[!1,p,{}]}function Yo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function zR({page:t,...e}){let{router:n}=Yx(),r=x.useMemo(()=>zx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?x.createElement($R,{page:t,matches:r,...e}):null}function BR(t){let{manifest:e,routeModules:n}=Xx(),[r,i]=x.useState([]);return x.useEffect(()=>{let s=!1;return OR(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function $R({page:t,matches:e,...n}){let r=pi(),{manifest:i,routeModules:s}=Xx(),{basename:o}=Yx(),{loaderData:a,matches:u}=FR(),c=x.useMemo(()=>lw(t,e,u,i,r,"data"),[t,e,u,i,r]),d=x.useMemo(()=>lw(t,e,u,i,r,"assets"),[t,e,u,i,r]),f=x.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let I=new Set,w=!1;if(e.forEach(_=>{var T;let y=i.routes[_.route.id];!y||!y.hasLoader||(!c.some(D=>D.route.id===_.route.id)&&_.route.id in a&&((T=s[_.route.id])!=null&&T.shouldRevalidate)||y.hasClientLoader?w=!0:I.add(_.route.id))}),I.size===0)return[];let k=PR(t,o,"data");return w&&I.size>0&&k.searchParams.set("_routes",e.filter(_=>I.has(_.route.id)).map(_=>_.route.id).join(",")),[k.pathname+k.search]},[o,a,r,i,c,e,t,s]),p=x.useMemo(()=>LR(d,i),[d,i]),S=BR(d);return x.createElement(x.Fragment,null,f.map(I=>x.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),p.map(I=>x.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),S.map(({key:I,link:w})=>x.createElement("link",{key:I,...w})))}function WR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Jx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jx&&(window.__reactRouterVersion="7.7.1")}catch{}function HR({basename:t,children:e,window:n}){let r=x.useRef();r.current==null&&(r.current=NA({window:n,v5Compat:!0}));let i=r.current,[s,o]=x.useState({action:i.action,location:i.location}),a=x.useCallback(u=>{x.startTransition(()=>o(u))},[o]);return x.useLayoutEffect(()=>i.listen(a),[i,a]),x.createElement(ER,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var Zx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,un=x.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:d,viewTransition:f,...p},S){let{basename:I}=x.useContext(Cn),w=typeof c=="string"&&Zx.test(c),k,_=!1;if(typeof c=="string"&&w&&(k=c,Jx))try{let C=new URL(window.location.href),A=c.startsWith("//")?new URL(C.protocol+c):new URL(c),P=dr(A.pathname,I);A.origin===C.origin&&P!=null?c=P+A.search+A.hash:_=!0}catch{Sn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=sR(c,{relative:i}),[T,D,O]=UR(r,p),V=QR(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:i,viewTransition:f});function E(C){e&&e(C),C.defaultPrevented||V(C)}let v=x.createElement("a",{...p,...O,href:k||y,onClick:_||s?e:E,ref:WR(S,D),target:u,"data-discover":!w&&n==="render"?"true":void 0});return T&&!w?x.createElement(x.Fragment,null,v,x.createElement(zR,{page:y})):v});un.displayName="Link";var qR=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:u,...c},d){let f=rl(o,{relative:c.relative}),p=pi(),S=x.useContext(cd),{navigator:I,basename:w}=x.useContext(Cn),k=S!=null&&eP(f)&&a===!0,_=I.encodeLocation?I.encodeLocation(f).pathname:f.pathname,y=p.pathname,T=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(y=y.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase()),T&&w&&(T=dr(T,w)||T);const D=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let O=y===_||!i&&y.startsWith(_)&&y.charAt(D)==="/",V=T!=null&&(T===_||!i&&T.startsWith(_)&&T.charAt(_.length)==="/"),E={isActive:O,isPending:V,isTransitioning:k},v=O?e:void 0,C;typeof r=="function"?C=r(E):C=[r,O?"active":null,V?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let A=typeof s=="function"?s(E):s;return x.createElement(un,{...c,"aria-current":v,className:C,ref:d,style:A,to:o,viewTransition:a},typeof u=="function"?u(E):u)});qR.displayName="NavLink";var GR=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Au,action:a,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:f,...p},S)=>{let I=JR(),w=ZR(a,{relative:c}),k=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&Zx.test(a),y=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let D=T.nativeEvent.submitter,O=(D==null?void 0:D.getAttribute("formmethod"))||o;I(D||T.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:s,relative:c,preventScrollReset:d,viewTransition:f})};return x.createElement("form",{ref:S,method:k,action:w,onSubmit:r?u:y,...p,"data-discover":!_&&t==="render"?"true":void 0})});GR.displayName="Form";function KR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e1(t){let e=x.useContext(co);return De(e,KR(t)),e}function QR(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=dd(),u=pi(),c=rl(t,{relative:s});return x.useCallback(d=>{if(bR(d,e)){d.preventDefault();let f=n!==void 0?n:Fa(u)===Fa(c);a(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,a,c,n,r,e,t,i,s,o])}var YR=0,XR=()=>`__${String(++YR)}__`;function JR(){let{router:t}=e1("useSubmit"),{basename:e}=x.useContext(Cn),n=gR();return x.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:u,body:c}=RR(r,e);if(i.navigate===!1){let d=i.fetcherKey||XR();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function ZR(t,{relative:e}={}){let{basename:n}=x.useContext(Cn),r=x.useContext(qn);De(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...rl(t||".",{relative:e})},o=pi();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(d=>d==="")){a.delete("index"),u.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:sr([n,s.pathname])),Fa(s)}function eP(t,{relative:e}={}){let n=x.useContext(Hx);De(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=e1("useViewTransitionState"),i=rl(t,{relative:e});if(!n.isTransitioning)return!1;let s=dr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=dr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return gc(i.pathname,o)!=null||gc(i.pathname,s)!=null}const Bm=Fx(null),tP=()=>{};var uw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},n1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,S=c&63;u||(S=64,o||(p=64)),r.push(n[d],n[f],n[p],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new rP;const p=s<<2|a>>4;if(r.push(p),c!==64){const S=a<<4&240|c>>2;if(r.push(S),f!==64){const I=c<<6&192|f;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iP=function(t){const e=t1(t);return n1.encodeByteArray(e,!0)},yc=function(t){return iP(t).replace(/\./g,"")},r1=function(t){try{return n1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=()=>sP().__FIREBASE_DEFAULTS__,aP=()=>{if(typeof process>"u"||typeof uw>"u")return;const t=uw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&r1(t[1]);return e&&JSON.parse(e)},fd=()=>{try{return tP()||oP()||aP()||lP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i1=t=>{var e,n;return(n=(e=fd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},uP=t=>{const e=i1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},s1=()=>{var t;return(t=fd())==null?void 0:t.config},o1=t=>{var e;return(e=fd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function a1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[yc(JSON.stringify(n)),yc(JSON.stringify(o)),""].join(".")}const ga={};function hP(){const t={prod:[],emulator:[]};for(const e of Object.keys(ga))ga[e]?t.emulator.push(e):t.prod.push(e);return t}function fP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let cw=!1;function l1(t,e){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||ga[t]===e||ga[t]||cw)return;ga[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=hP().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,S){p.setAttribute("width","24"),p.setAttribute("id",S),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{cw=!0,o()},p}function d(p,S){p.setAttribute("id",S),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=fP(r),S=n("text"),I=document.getElementById(S)||document.createElement("span"),w=n("learnmore"),k=document.getElementById(w)||document.createElement("a"),_=n("preprendIcon"),y=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),d(k,w);const D=c();u(y,_),T.append(y,I,k,D),document.body.appendChild(T)}s?(I.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function mP(){var e;const t=(e=fd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wP(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _P(){return!mP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EP(){try{return typeof indexedDB=="object"}catch{return!1}}function xP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="FirebaseError";class _r extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SP,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,il.prototype.create)}}class il{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?TP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new _r(i,a,r)}}function TP(t,e){return t.replace(IP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const IP=/\{\$([^}]+)}/g;function CP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ui(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(dw(s)&&dw(o)){if(!Ui(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bP(t,e){const n=new kP(t,e);return n.subscribe.bind(n)}class kP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Lh),i.error===void 0&&(i.error=Lh),i.complete===void 0&&(i.complete=Lh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t){return t&&t._delegate?t._delegate:t}class zi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NP(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PP(t){return t===Ci?void 0:t}function NP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const OP={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},LP=pe.INFO,MP={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},VP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=MP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $m{constructor(e){this.name=e,this._logLevel=LP,this._logHandler=VP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const jP=(t,e)=>e.some(n=>t instanceof n);let hw,fw;function FP(){return hw||(hw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UP(){return fw||(fw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u1=new WeakMap,tp=new WeakMap,c1=new WeakMap,Mh=new WeakMap,Wm=new WeakMap;function zP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Qr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&u1.set(n,t)}).catch(()=>{}),Wm.set(e,t),e}function BP(t){if(tp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tp.set(t,e)}let np={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||c1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $P(t){np=t(np)}function WP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vh(this),e,...n);return c1.set(r,e.sort?e.sort():[e]),Qr(r)}:UP().includes(t)?function(...e){return t.apply(Vh(this),e),Qr(u1.get(this))}:function(...e){return Qr(t.apply(Vh(this),e))}}function HP(t){return typeof t=="function"?WP(t):(t instanceof IDBTransaction&&BP(t),jP(t,FP())?new Proxy(t,np):t)}function Qr(t){if(t instanceof IDBRequest)return zP(t);if(Mh.has(t))return Mh.get(t);const e=HP(t);return e!==t&&(Mh.set(t,e),Wm.set(e,t)),e}const Vh=t=>Wm.get(t);function qP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Qr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Qr(o.result),u.oldVersion,u.newVersion,Qr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const GP=["get","getKey","getAll","getAllKeys","count"],KP=["put","add","delete","clear"],jh=new Map;function pw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jh.get(e))return jh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=KP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GP.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return jh.set(e,s),s}$P(t=>({...t,get:(e,n,r)=>pw(e,n)||t.get(e,n,r),has:(e,n)=>!!pw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rp="@firebase/app",mw="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new $m("@firebase/app"),XP="@firebase/app-compat",JP="@firebase/analytics-compat",ZP="@firebase/analytics",eN="@firebase/app-check-compat",tN="@firebase/app-check",nN="@firebase/auth",rN="@firebase/auth-compat",iN="@firebase/database",sN="@firebase/data-connect",oN="@firebase/database-compat",aN="@firebase/functions",lN="@firebase/functions-compat",uN="@firebase/installations",cN="@firebase/installations-compat",dN="@firebase/messaging",hN="@firebase/messaging-compat",fN="@firebase/performance",pN="@firebase/performance-compat",mN="@firebase/remote-config",gN="@firebase/remote-config-compat",yN="@firebase/storage",vN="@firebase/storage-compat",wN="@firebase/firestore",_N="@firebase/ai",EN="@firebase/firestore-compat",xN="firebase",SN="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="[DEFAULT]",TN={[rp]:"fire-core",[XP]:"fire-core-compat",[ZP]:"fire-analytics",[JP]:"fire-analytics-compat",[tN]:"fire-app-check",[eN]:"fire-app-check-compat",[nN]:"fire-auth",[rN]:"fire-auth-compat",[iN]:"fire-rtdb",[sN]:"fire-data-connect",[oN]:"fire-rtdb-compat",[aN]:"fire-fn",[lN]:"fire-fn-compat",[uN]:"fire-iid",[cN]:"fire-iid-compat",[dN]:"fire-fcm",[hN]:"fire-fcm-compat",[fN]:"fire-perf",[pN]:"fire-perf-compat",[mN]:"fire-rc",[gN]:"fire-rc-compat",[yN]:"fire-gcs",[vN]:"fire-gcs-compat",[wN]:"fire-fst",[EN]:"fire-fst-compat",[_N]:"fire-vertex","fire-js":"fire-js",[xN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,IN=new Map,sp=new Map;function gw(t,e){try{t.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ys(t){const e=t.name;if(sp.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;sp.set(e,t);for(const n of vc.values())gw(n,t);for(const n of IN.values())gw(n,t);return!0}function Hm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new il("app","Firebase",CN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=SN;function d1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ip,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Yr.create("bad-app-name",{appName:String(i)});if(n||(n=s1()),!n)throw Yr.create("no-options");const s=vc.get(i);if(s){if(Ui(n,s.options)&&Ui(r,s.config))return s;throw Yr.create("duplicate-app",{appName:i})}const o=new DP(i);for(const u of sp.values())o.addComponent(u);const a=new bN(n,r,o);return vc.set(i,a),a}function h1(t=ip){const e=vc.get(t);if(!e&&t===ip&&s1())return d1();if(!e)throw Yr.create("no-app",{appName:t});return e}function Xr(t,e,n){let r=TN[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(o.join(" "));return}Ys(new zi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="firebase-heartbeat-database",AN=1,Ua="firebase-heartbeat-store";let Fh=null;function f1(){return Fh||(Fh=qP(kN,AN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ua)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yr.create("idb-open",{originalErrorMessage:t.message})})),Fh}async function RN(t){try{const n=(await f1()).transaction(Ua),r=await n.objectStore(Ua).get(p1(t));return await n.done,r}catch(e){if(e instanceof _r)hr.warn(e.message);else{const n=Yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hr.warn(n.message)}}}async function yw(t,e){try{const r=(await f1()).transaction(Ua,"readwrite");await r.objectStore(Ua).put(e,p1(t)),await r.done}catch(n){if(n instanceof _r)hr.warn(n.message);else{const r=Yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hr.warn(r.message)}}}function p1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=1024,NN=30;class DN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>NN){const o=MN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vw(),{heartbeatsToSend:r,unsentEntries:i}=ON(this._heartbeatsCache.heartbeats),s=yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return hr.warn(n),""}}}function vw(){return new Date().toISOString().substring(0,10)}function ON(t,e=PN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ww(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ww(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EP()?xP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return yw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return yw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ww(t){return yc(JSON.stringify({version:2,heartbeats:t})).length}function MN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t){Ys(new zi("platform-logger",e=>new QP(e),"PRIVATE")),Ys(new zi("heartbeat",e=>new DN(e),"PRIVATE")),Xr(rp,mw,t),Xr(rp,mw,"esm2020"),Xr("fire-js","")}VN("");function m1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jN=m1,g1=new il("auth","Firebase",m1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new $m("@firebase/auth");function FN(t,...e){wc.logLevel<=pe.WARN&&wc.warn(`Auth (${po}): ${t}`,...e)}function Pu(t,...e){wc.logLevel<=pe.ERROR&&wc.error(`Auth (${po}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(t,...e){throw qm(t,...e)}function Mn(t,...e){return qm(t,...e)}function y1(t,e,n){const r={...jN(),[e]:n};return new il("auth","Firebase",r).create(e,{appName:t.name})}function Di(t){return y1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return g1.create(t,...e)}function ne(t,e,...n){if(!t)throw qm(e,...n)}function nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pu(e),new Error(e)}function pr(t,e){t||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function UN(){return _w()==="http:"||_w()==="https:"}function _w(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UN()||yP()||"connection"in navigator)?navigator.onLine:!0}function BN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=pP()||vP()}get(){return zN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t,e){pr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HN=new ol(3e4,6e4);function Km(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function mo(t,e,n,r,i={}){return w1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=sl({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...s};return gP()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&fo(t.emulatorConfig.host)&&(c.credentials="include"),v1.fetch()(await _1(t,t.config.apiHost,n,a),c)})}async function w1(t,e,n){t._canInitEmulator=!1;const r={...$N,...e};try{const i=new GN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw eu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw eu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw eu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw eu(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw y1(t,d,c);fr(t,d)}}catch(i){if(i instanceof _r)throw i;fr(t,"network-request-failed",{message:String(i)})}}async function qN(t,e,n,r,i={}){const s=await mo(t,e,n,r,i);return"mfaPendingCredential"in s&&fr(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function _1(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Gm(t.config,i):`${t.config.apiScheme}://${i}`;return WN.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class GN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mn(this.auth,"network-request-failed")),HN.get())})}}function eu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e){return mo(t,"POST","/v1/accounts:delete",e)}async function _c(t,e){return mo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QN(t,e=!1){const n=cn(t),r=await n.getIdToken(e),i=Qm(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ya(Uh(i.auth_time)),issuedAtTime:ya(Uh(i.iat)),expirationTime:ya(Uh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Uh(t){return Number(t)*1e3}function Qm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pu("JWT malformed, contained fewer than 3 sections"),null;try{const i=r1(n);return i?JSON.parse(i):(Pu("Failed to decode base64 JWT payload"),null)}catch(i){return Pu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ew(t){const e=Qm(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof _r&&YN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ya(this.lastLoginAt),this.creationTime=ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t){var f;const e=t.auth,n=await t.getIdToken(),r=await za(t,_c(e,{idToken:n}));ne(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?E1(i.providerUserInfo):[],o=ZN(t.providerData,s),a=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?u:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ap(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function JN(t){const e=cn(t);await Ec(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function E1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(t,e){const n=await w1(t,{},async()=>{const r=sl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await _1(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:a,body:r};return t.emulatorConfig&&fo(t.emulatorConfig.host)&&(u.credentials="include"),v1.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function t2(t,e){return mo(t,"POST","/v2/accounts:revokeToken",Km(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ew(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ne(e.length!==0,"internal-error");const n=Ew(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await e2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Os;return r&&(ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ne(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Os,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new XN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ap(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await za(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QN(this,e)}reload(){return JN(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ec(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Di(this.auth));const e=await this.getIdToken();return await za(this,KN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:S,providerData:I,stsTokenManager:w}=n;ne(f&&w,e,"internal-error");const k=Os.fromJSON(this.name,w);ne(typeof f=="string",e,"internal-error"),Cr(r,e.name),Cr(i,e.name),ne(typeof p=="boolean",e,"internal-error"),ne(typeof S=="boolean",e,"internal-error"),Cr(s,e.name),Cr(o,e.name),Cr(a,e.name),Cr(u,e.name),Cr(c,e.name),Cr(d,e.name);const _=new vn({uid:f,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:S,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:k,createdAt:c,lastLoginAt:d});return I&&Array.isArray(I)&&(_.providerData=I.map(y=>({...y}))),u&&(_._redirectEventId=u),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new Os;i.updateFromServerResponse(n);const s=new vn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ec(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ne(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?E1(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Os;a.updateFromIdToken(r);const u=new vn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ap(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=new Map;function rr(t){pr(t instanceof Function,"Expected a class definition");let e=xw.get(t);return e?(pr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x1.type="NONE";const Sw=x1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ls{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Nu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Nu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _c(this.auth,{idToken:e}).catch(()=>{});return n?vn._fromGetAccountInfoResponse(this.auth,n,e):null}return vn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ls(rr(Sw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||rr(Sw);const o=Nu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const p=await _c(e,{idToken:d}).catch(()=>{});if(!p)break;f=await vn._fromGetAccountInfoResponse(e,p,d)}else f=vn._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ls(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ls(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(S1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k1(e))return"Blackberry";if(A1(e))return"Webos";if(T1(e))return"Safari";if((e.includes("chrome/")||I1(e))&&!e.includes("edge/"))return"Chrome";if(b1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function S1(t=kt()){return/firefox\//i.test(t)}function T1(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I1(t=kt()){return/crios\//i.test(t)}function C1(t=kt()){return/iemobile/i.test(t)}function b1(t=kt()){return/android/i.test(t)}function k1(t=kt()){return/blackberry/i.test(t)}function A1(t=kt()){return/webos/i.test(t)}function Ym(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function n2(t=kt()){var e;return Ym(t)&&!!((e=window.navigator)!=null&&e.standalone)}function r2(){return wP()&&document.documentMode===10}function R1(t=kt()){return Ym(t)||b1(t)||A1(t)||k1(t)||/windows phone/i.test(t)||C1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t,e=[]){let n;switch(t){case"Browser":n=Tw(kt());break;case"Worker":n=`${Tw(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(t,e={}){return mo(t,"GET","/v2/passwordPolicy",Km(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=6;class a2{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??o2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Iw(this),this.idTokenSubscription=new Iw(this),this.beforeStateQueue=new i2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=g1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Ls.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _c(this,{idToken:e}),r=await vn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ec(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Di(this));const n=e?cn(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s2(this),n=new a2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new il("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await t2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rr(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await Ls.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&FN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Xm(t){return cn(t)}class Iw{constructor(e){this.auth=e,this.observer=null,this.addObserver=bP(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u2(t){Jm=t}function c2(t){return Jm.loadJS(t)}function d2(){return Jm.gapiScript}function h2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t,e){const n=Hm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ui(s,e??{}))return i;fr(i,"already-initialized")}return n.initialize({options:e})}function p2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function m2(t,e,n){const r=Xm(t);ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=N1(e),{host:o,port:a}=g2(e),u=a===null?"":`:${a}`,c={url:`${s}//${o}${u}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ne(Ui(c,r.config.emulator)&&Ui(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,fo(o)?(a1(`${s}//${o}${u}`),l1("Auth",!0)):y2()}function N1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function g2(t){const e=N1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Cw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Cw(o)}}}function Cw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function y2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(t,e){return qN(t,"POST","/v1/accounts:signInWithIdp",Km(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="http://localhost";class Bi extends D1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Bi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ms(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ms(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ms(e,n)}buildRequest(){const e={requestUri:v2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends O1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends al{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends al{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bi._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Lr.credential(n,r)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends al{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends al{constructor(){super("twitter.com")}static credential(e,n){return Bi._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vr.credential(n,r)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await vn._fromIdTokenResponse(e,r,i),o=bw(r);return new Xs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bw(r);return new Xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends _r{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xc(e,n,r,i)}}function L1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xc._fromErrorAndOperation(t,s,e,r):s})}async function w2(t,e,n=!1){const r=await za(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(t,e,n=!1){const{auth:r}=t;if(Pn(r.app))return Promise.reject(Di(r));const i="reauthenticate";try{const s=await za(t,L1(r,i,e,t),n);ne(s.idToken,r,"internal-error");const o=Qm(s.idToken);ne(o,r,"internal-error");const{sub:a}=o;return ne(t.uid===a,r,"user-mismatch"),Xs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&fr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(t,e,n=!1){if(Pn(t.app))return Promise.reject(Di(t));const r="signIn",i=await L1(t,r,e),s=await Xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function x2(t,e,n,r){return cn(t).onIdTokenChanged(e,n,r)}function S2(t,e,n){return cn(t).beforeAuthStateChanged(e,n)}function T2(t,e,n,r){return cn(t).onAuthStateChanged(e,n,r)}const Sc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sc,"1"),this.storage.removeItem(Sc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=1e3,C2=10;class V1 extends M1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);r2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,C2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},I2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V1.type="LOCAL";const b2=V1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1 extends M1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}j1.type="SESSION";const F1=j1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await k2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=Zm("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function R2(t){Vn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function P2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function D2(){return U1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firebaseLocalStorageDb",O2=1,Tc="firebaseLocalStorage",B1="fbase_key";class ll{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function md(t,e){return t.transaction([Tc],e?"readwrite":"readonly").objectStore(Tc)}function L2(){const t=indexedDB.deleteDatabase(z1);return new ll(t).toPromise()}function lp(){const t=indexedDB.open(z1,O2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Tc,{keyPath:B1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Tc)?e(r):(r.close(),await L2(),e(await lp()))})})}async function kw(t,e,n){const r=md(t,!0).put({[B1]:e,value:n});return new ll(r).toPromise()}async function M2(t,e){const n=md(t,!1).get(e),r=await new ll(n).toPromise();return r===void 0?null:r.value}function Aw(t,e){const n=md(t,!0).delete(e);return new ll(n).toPromise()}const V2=800,j2=3;class $1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>j2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pd._getInstance(D2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await P2(),!this.activeServiceWorker)return;this.sender=new A2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lp();return await kw(e,Sc,"1"),await Aw(e,Sc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>M2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Aw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=md(i,!1).getAll();return new ll(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$1.type="LOCAL";const F2=$1;new ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t,e){return e?rr(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends D1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ms(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ms(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function z2(t){return E2(t.auth,new eg(t),t.bypassAuthState)}function B2(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),_2(n,new eg(t),t.bypassAuthState)}async function $2(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),w2(n,new eg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z2;case"linkViaPopup":case"linkViaRedirect":return $2;case"reauthViaPopup":case"reauthViaRedirect":return B2;default:fr(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=new ol(2e3,1e4);class bs extends W1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,bs.currentPopupAction&&bs.currentPopupAction.cancel(),bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=Zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W2.get())};e()}}bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="pendingRedirect",Du=new Map;class q2 extends W1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Du.get(this.auth._key());if(!e){try{const r=await G2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Du.set(this.auth._key(),e)}return this.bypassAuthState||Du.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G2(t,e){const n=Y2(e),r=Q2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function K2(t,e){Du.set(t._key(),e)}function Q2(t){return rr(t._redirectPersistence)}function Y2(t){return Nu(H2,t.config.apiKey,t.name)}async function X2(t,e,n=!1){if(Pn(t.app))return Promise.reject(Di(t));const r=Xm(t),i=U2(r,e),o=await new q2(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=10*60*1e3;class Z2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!H1(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rw(e))}saveEventToCache(e){this.cachedEventUids.add(Rw(e)),this.lastProcessedEventTime=Date.now()}}function Rw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function H1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(t,e={}){return mo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rD=/^https?/;async function iD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tD(t);for(const n of e)try{if(sD(n))return}catch{}fr(t,"unauthorized-domain")}function sD(t){const e=op(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!rD.test(n))return!1;if(nD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new ol(3e4,6e4);function Pw(){const t=Vn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aD(t){return new Promise((e,n)=>{var i,s,o;function r(){Pw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pw(),n(Mn(t,"network-request-failed"))},timeout:oD.get()})}if((s=(i=Vn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Vn().gapi)!=null&&o.load)r();else{const a=h2("iframefcb");return Vn()[a]=()=>{gapi.load?r():n(Mn(t,"network-request-failed"))},c2(`${d2()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Ou=null,e})}let Ou=null;function lD(t){return Ou=Ou||aD(t),Ou}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new ol(5e3,15e3),cD="__/auth/iframe",dD="emulator/auth/iframe",hD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pD(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gm(e,dD):`https://${t.config.authDomain}/${cD}`,r={apiKey:e.apiKey,appName:t.name,v:po},i=fD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${sl(r).slice(1)}`}async function mD(t){const e=await lD(t),n=Vn().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:pD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Mn(t,"network-request-failed"),a=Vn().setTimeout(()=>{s(o)},uD.get());function u(){Vn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yD=500,vD=600,wD="_blank",_D="http://localhost";class Nw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ED(t,e,n,r=yD,i=vD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u={...gD,width:r.toString(),height:i.toString(),top:s,left:o},c=kt().toLowerCase();n&&(a=I1(c)?wD:n),S1(c)&&(e=e||_D,u.scrollbars="yes");const d=Object.entries(u).reduce((p,[S,I])=>`${p}${S}=${I},`,"");if(n2(c)&&a!=="_self")return xD(e||"",a),new Nw(null);const f=window.open(e||"",a,d);ne(f,t,"popup-blocked");try{f.focus()}catch{}return new Nw(f)}function xD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="__/auth/handler",TD="emulator/auth/handler",ID=encodeURIComponent("fac");async function Dw(t,e,n,r,i,s){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:po,eventId:i};if(e instanceof O1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",CP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof al){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${ID}=${encodeURIComponent(u)}`:"";return`${CD(t)}?${sl(a).slice(1)}${c}`}function CD({config:t}){return t.emulator?Gm(t,TD):`https://${t.authDomain}/${SD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="webStorageSupport";class bD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F1,this._completeRedirectFn=X2,this._overrideRedirectResult=K2}async _openPopup(e,n,r,i){var o;pr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Dw(e,n,r,op(),i);return ED(e,s,Zm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Dw(e,n,r,op(),i);return R2(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(pr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await mD(e),r=new Z2(e);return n.register("authEvent",i=>(ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zh,{type:zh},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[zh];s!==void 0&&n(!!s),fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return R1()||T1()||Ym()}}const kD=bD;var Ow="@firebase/auth",Lw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PD(t){Ys(new zi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P1(t)},c=new l2(r,i,s,u);return p2(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ys(new zi("auth-internal",e=>{const n=Xm(e.getProvider("auth").getImmediate());return(r=>new AD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(Ow,Lw,RD(t)),Xr(Ow,Lw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=5*60,DD=o1("authIdTokenMaxAge")||ND;let Mw=null;const OD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DD)return;const i=n==null?void 0:n.token;Mw!==i&&(Mw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function LD(t=h1()){const e=Hm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=f2(t,{popupRedirectResolver:kD,persistence:[F2,b2,F1]}),r=o1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=OD(s.toString());S2(n,o,()=>o(n.currentUser)),x2(n,a=>o(a))}}const i=i1("auth");return i&&m2(n,`http://${i}`),n}function MD(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}u2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Mn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",MD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PD("Browser");var VD="firebase",jD="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(VD,jD,"app");var Vw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jr,q1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,v){function C(){}C.prototype=v.prototype,E.D=v.prototype,E.prototype=new C,E.prototype.constructor=E,E.C=function(A,P,N){for(var R=Array(arguments.length-2),K=2;K<arguments.length;K++)R[K-2]=arguments[K];return v.prototype[P].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,C){C||(C=0);var A=Array(16);if(typeof v=="string")for(var P=0;16>P;++P)A[P]=v.charCodeAt(C++)|v.charCodeAt(C++)<<8|v.charCodeAt(C++)<<16|v.charCodeAt(C++)<<24;else for(P=0;16>P;++P)A[P]=v[C++]|v[C++]<<8|v[C++]<<16|v[C++]<<24;v=E.g[0],C=E.g[1],P=E.g[2];var N=E.g[3],R=v+(N^C&(P^N))+A[0]+3614090360&4294967295;v=C+(R<<7&4294967295|R>>>25),R=N+(P^v&(C^P))+A[1]+3905402710&4294967295,N=v+(R<<12&4294967295|R>>>20),R=P+(C^N&(v^C))+A[2]+606105819&4294967295,P=N+(R<<17&4294967295|R>>>15),R=C+(v^P&(N^v))+A[3]+3250441966&4294967295,C=P+(R<<22&4294967295|R>>>10),R=v+(N^C&(P^N))+A[4]+4118548399&4294967295,v=C+(R<<7&4294967295|R>>>25),R=N+(P^v&(C^P))+A[5]+1200080426&4294967295,N=v+(R<<12&4294967295|R>>>20),R=P+(C^N&(v^C))+A[6]+2821735955&4294967295,P=N+(R<<17&4294967295|R>>>15),R=C+(v^P&(N^v))+A[7]+4249261313&4294967295,C=P+(R<<22&4294967295|R>>>10),R=v+(N^C&(P^N))+A[8]+1770035416&4294967295,v=C+(R<<7&4294967295|R>>>25),R=N+(P^v&(C^P))+A[9]+2336552879&4294967295,N=v+(R<<12&4294967295|R>>>20),R=P+(C^N&(v^C))+A[10]+4294925233&4294967295,P=N+(R<<17&4294967295|R>>>15),R=C+(v^P&(N^v))+A[11]+2304563134&4294967295,C=P+(R<<22&4294967295|R>>>10),R=v+(N^C&(P^N))+A[12]+1804603682&4294967295,v=C+(R<<7&4294967295|R>>>25),R=N+(P^v&(C^P))+A[13]+4254626195&4294967295,N=v+(R<<12&4294967295|R>>>20),R=P+(C^N&(v^C))+A[14]+2792965006&4294967295,P=N+(R<<17&4294967295|R>>>15),R=C+(v^P&(N^v))+A[15]+1236535329&4294967295,C=P+(R<<22&4294967295|R>>>10),R=v+(P^N&(C^P))+A[1]+4129170786&4294967295,v=C+(R<<5&4294967295|R>>>27),R=N+(C^P&(v^C))+A[6]+3225465664&4294967295,N=v+(R<<9&4294967295|R>>>23),R=P+(v^C&(N^v))+A[11]+643717713&4294967295,P=N+(R<<14&4294967295|R>>>18),R=C+(N^v&(P^N))+A[0]+3921069994&4294967295,C=P+(R<<20&4294967295|R>>>12),R=v+(P^N&(C^P))+A[5]+3593408605&4294967295,v=C+(R<<5&4294967295|R>>>27),R=N+(C^P&(v^C))+A[10]+38016083&4294967295,N=v+(R<<9&4294967295|R>>>23),R=P+(v^C&(N^v))+A[15]+3634488961&4294967295,P=N+(R<<14&4294967295|R>>>18),R=C+(N^v&(P^N))+A[4]+3889429448&4294967295,C=P+(R<<20&4294967295|R>>>12),R=v+(P^N&(C^P))+A[9]+568446438&4294967295,v=C+(R<<5&4294967295|R>>>27),R=N+(C^P&(v^C))+A[14]+3275163606&4294967295,N=v+(R<<9&4294967295|R>>>23),R=P+(v^C&(N^v))+A[3]+4107603335&4294967295,P=N+(R<<14&4294967295|R>>>18),R=C+(N^v&(P^N))+A[8]+1163531501&4294967295,C=P+(R<<20&4294967295|R>>>12),R=v+(P^N&(C^P))+A[13]+2850285829&4294967295,v=C+(R<<5&4294967295|R>>>27),R=N+(C^P&(v^C))+A[2]+4243563512&4294967295,N=v+(R<<9&4294967295|R>>>23),R=P+(v^C&(N^v))+A[7]+1735328473&4294967295,P=N+(R<<14&4294967295|R>>>18),R=C+(N^v&(P^N))+A[12]+2368359562&4294967295,C=P+(R<<20&4294967295|R>>>12),R=v+(C^P^N)+A[5]+4294588738&4294967295,v=C+(R<<4&4294967295|R>>>28),R=N+(v^C^P)+A[8]+2272392833&4294967295,N=v+(R<<11&4294967295|R>>>21),R=P+(N^v^C)+A[11]+1839030562&4294967295,P=N+(R<<16&4294967295|R>>>16),R=C+(P^N^v)+A[14]+4259657740&4294967295,C=P+(R<<23&4294967295|R>>>9),R=v+(C^P^N)+A[1]+2763975236&4294967295,v=C+(R<<4&4294967295|R>>>28),R=N+(v^C^P)+A[4]+1272893353&4294967295,N=v+(R<<11&4294967295|R>>>21),R=P+(N^v^C)+A[7]+4139469664&4294967295,P=N+(R<<16&4294967295|R>>>16),R=C+(P^N^v)+A[10]+3200236656&4294967295,C=P+(R<<23&4294967295|R>>>9),R=v+(C^P^N)+A[13]+681279174&4294967295,v=C+(R<<4&4294967295|R>>>28),R=N+(v^C^P)+A[0]+3936430074&4294967295,N=v+(R<<11&4294967295|R>>>21),R=P+(N^v^C)+A[3]+3572445317&4294967295,P=N+(R<<16&4294967295|R>>>16),R=C+(P^N^v)+A[6]+76029189&4294967295,C=P+(R<<23&4294967295|R>>>9),R=v+(C^P^N)+A[9]+3654602809&4294967295,v=C+(R<<4&4294967295|R>>>28),R=N+(v^C^P)+A[12]+3873151461&4294967295,N=v+(R<<11&4294967295|R>>>21),R=P+(N^v^C)+A[15]+530742520&4294967295,P=N+(R<<16&4294967295|R>>>16),R=C+(P^N^v)+A[2]+3299628645&4294967295,C=P+(R<<23&4294967295|R>>>9),R=v+(P^(C|~N))+A[0]+4096336452&4294967295,v=C+(R<<6&4294967295|R>>>26),R=N+(C^(v|~P))+A[7]+1126891415&4294967295,N=v+(R<<10&4294967295|R>>>22),R=P+(v^(N|~C))+A[14]+2878612391&4294967295,P=N+(R<<15&4294967295|R>>>17),R=C+(N^(P|~v))+A[5]+4237533241&4294967295,C=P+(R<<21&4294967295|R>>>11),R=v+(P^(C|~N))+A[12]+1700485571&4294967295,v=C+(R<<6&4294967295|R>>>26),R=N+(C^(v|~P))+A[3]+2399980690&4294967295,N=v+(R<<10&4294967295|R>>>22),R=P+(v^(N|~C))+A[10]+4293915773&4294967295,P=N+(R<<15&4294967295|R>>>17),R=C+(N^(P|~v))+A[1]+2240044497&4294967295,C=P+(R<<21&4294967295|R>>>11),R=v+(P^(C|~N))+A[8]+1873313359&4294967295,v=C+(R<<6&4294967295|R>>>26),R=N+(C^(v|~P))+A[15]+4264355552&4294967295,N=v+(R<<10&4294967295|R>>>22),R=P+(v^(N|~C))+A[6]+2734768916&4294967295,P=N+(R<<15&4294967295|R>>>17),R=C+(N^(P|~v))+A[13]+1309151649&4294967295,C=P+(R<<21&4294967295|R>>>11),R=v+(P^(C|~N))+A[4]+4149444226&4294967295,v=C+(R<<6&4294967295|R>>>26),R=N+(C^(v|~P))+A[11]+3174756917&4294967295,N=v+(R<<10&4294967295|R>>>22),R=P+(v^(N|~C))+A[2]+718787259&4294967295,P=N+(R<<15&4294967295|R>>>17),R=C+(N^(P|~v))+A[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,E.g[2]=E.g[2]+P&4294967295,E.g[3]=E.g[3]+N&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var C=v-this.blockSize,A=this.B,P=this.h,N=0;N<v;){if(P==0)for(;N<=C;)i(this,E,N),N+=this.blockSize;if(typeof E=="string"){for(;N<v;)if(A[P++]=E.charCodeAt(N++),P==this.blockSize){i(this,A),P=0;break}}else for(;N<v;)if(A[P++]=E[N++],P==this.blockSize){i(this,A),P=0;break}}this.h=P,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var C=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=C&255,C/=256;for(this.u(E),E=Array(16),v=C=0;4>v;++v)for(var A=0;32>A;A+=8)E[C++]=this.g[v]>>>A&255;return E};function s(E,v){var C=a;return Object.prototype.hasOwnProperty.call(C,E)?C[E]:C[E]=v(E)}function o(E,v){this.h=v;for(var C=[],A=!0,P=E.length-1;0<=P;P--){var N=E[P]|0;A&&N==v||(C[P]=N,A=!1)}this.g=C}var a={};function u(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return k(c(-E));for(var v=[],C=1,A=0;E>=C;A++)v[A]=E/C|0,C*=4294967296;return new o(v,0)}function d(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return k(d(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(v,8)),A=f,P=0;P<E.length;P+=8){var N=Math.min(8,E.length-P),R=parseInt(E.substring(P,P+N),v);8>N?(N=c(Math.pow(v,N)),A=A.j(N).add(c(R))):(A=A.j(C),A=A.add(c(R)))}return A}var f=u(0),p=u(1),S=u(16777216);t=o.prototype,t.m=function(){if(w(this))return-k(this).m();for(var E=0,v=1,C=0;C<this.g.length;C++){var A=this.i(C);E+=(0<=A?A:4294967296+A)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I(this))return"0";if(w(this))return"-"+k(this).toString(E);for(var v=c(Math.pow(E,6)),C=this,A="";;){var P=D(C,v).g;C=_(C,P.j(v));var N=((0<C.g.length?C.g[0]:C.h)>>>0).toString(E);if(C=P,I(C))return N+A;for(;6>N.length;)N="0"+N;A=N+A}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function I(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function w(E){return E.h==-1}t.l=function(E){return E=_(this,E),w(E)?-1:I(E)?0:1};function k(E){for(var v=E.g.length,C=[],A=0;A<v;A++)C[A]=~E.g[A];return new o(C,~E.h).add(p)}t.abs=function(){return w(this)?k(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),C=[],A=0,P=0;P<=v;P++){var N=A+(this.i(P)&65535)+(E.i(P)&65535),R=(N>>>16)+(this.i(P)>>>16)+(E.i(P)>>>16);A=R>>>16,N&=65535,R&=65535,C[P]=R<<16|N}return new o(C,C[C.length-1]&-2147483648?-1:0)};function _(E,v){return E.add(k(v))}t.j=function(E){if(I(this)||I(E))return f;if(w(this))return w(E)?k(this).j(k(E)):k(k(this).j(E));if(w(E))return k(this.j(k(E)));if(0>this.l(S)&&0>E.l(S))return c(this.m()*E.m());for(var v=this.g.length+E.g.length,C=[],A=0;A<2*v;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(var P=0;P<E.g.length;P++){var N=this.i(A)>>>16,R=this.i(A)&65535,K=E.i(P)>>>16,re=E.i(P)&65535;C[2*A+2*P]+=R*re,y(C,2*A+2*P),C[2*A+2*P+1]+=N*re,y(C,2*A+2*P+1),C[2*A+2*P+1]+=R*K,y(C,2*A+2*P+1),C[2*A+2*P+2]+=N*K,y(C,2*A+2*P+2)}for(A=0;A<v;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=v;A<2*v;A++)C[A]=0;return new o(C,0)};function y(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function T(E,v){this.g=E,this.h=v}function D(E,v){if(I(v))throw Error("division by zero");if(I(E))return new T(f,f);if(w(E))return v=D(k(E),v),new T(k(v.g),k(v.h));if(w(v))return v=D(E,k(v)),new T(k(v.g),v.h);if(30<E.g.length){if(w(E)||w(v))throw Error("slowDivide_ only works with positive integers.");for(var C=p,A=v;0>=A.l(E);)C=O(C),A=O(A);var P=V(C,1),N=V(A,1);for(A=V(A,2),C=V(C,2);!I(A);){var R=N.add(A);0>=R.l(E)&&(P=P.add(C),N=R),A=V(A,1),C=V(C,1)}return v=_(E,P.j(v)),new T(P,v)}for(P=f;0<=E.l(v);){for(C=Math.max(1,Math.floor(E.m()/v.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),N=c(C),R=N.j(v);w(R)||0<R.l(E);)C-=A,N=c(C),R=N.j(v);I(N)&&(N=p),P=P.add(N),E=_(E,R)}return new T(P,E)}t.A=function(E){return D(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),C=[],A=0;A<v;A++)C[A]=this.i(A)&E.i(A);return new o(C,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),C=[],A=0;A<v;A++)C[A]=this.i(A)|E.i(A);return new o(C,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),C=[],A=0;A<v;A++)C[A]=this.i(A)^E.i(A);return new o(C,this.h^E.h)};function O(E){for(var v=E.g.length+1,C=[],A=0;A<v;A++)C[A]=E.i(A)<<1|E.i(A-1)>>>31;return new o(C,E.h)}function V(E,v){var C=v>>5;v%=32;for(var A=E.g.length-C,P=[],N=0;N<A;N++)P[N]=0<v?E.i(N+C)>>>v|E.i(N+C+1)<<32-v:E.i(N+C);return new o(P,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,q1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Jr=o}).apply(typeof Vw<"u"?Vw:typeof self<"u"?self:typeof window<"u"?window:{});var tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var G1,ra,K1,Lu,up,Q1,Y1,X1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,m){return l==Array.prototype||l==Object.prototype||(l[h]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof tu=="object"&&tu];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var m=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var M=l[b];if(!(M in m))break e;m=m[M]}l=l[l.length-1],b=m[l],h=h(b),h!=b&&h!=null&&e(m,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var m=0,b=!1,M={next:function(){if(!b&&m<l.length){var j=m++;return{value:h(j,l[j]),done:!1}}return b=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,m){return l.call.apply(l.bind,arguments)}function f(l,h,m){if(!l)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,b),l.apply(h,M)}}return function(){return l.apply(h,arguments)}}function p(l,h,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function S(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var b=m.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function I(l,h){function m(){}m.prototype=h.prototype,l.aa=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(b,M,j){for(var B=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)B[Te-2]=arguments[Te];return h.prototype[M].apply(b,B)}}function w(l){const h=l.length;if(0<h){const m=Array(h);for(let b=0;b<h;b++)m[b]=l[b];return m}return[]}function k(l,h){for(let m=1;m<arguments.length;m++){const b=arguments[m];if(u(b)){const M=l.length||0,j=b.length||0;l.length=M+j;for(let B=0;B<j;B++)l[M+B]=b[B]}else l.push(b)}}class _{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(l){return/^[\s\xa0]*$/.test(l)}function T(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function D(l){return D[" "](l),l}D[" "]=function(){};var O=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function V(l,h,m){for(const b in l)h.call(m,l[b],b,l)}function E(l,h){for(const m in l)h.call(void 0,l[m],m,l)}function v(l){const h={};for(const m in l)h[m]=l[m];return h}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,h){let m,b;for(let M=1;M<arguments.length;M++){b=arguments[M];for(m in b)l[m]=b[m];for(let j=0;j<C.length;j++)m=C[j],Object.prototype.hasOwnProperty.call(b,m)&&(l[m]=b[m])}}function P(l){var h=1;l=l.split(":");const m=[];for(;0<h&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function N(l){a.setTimeout(()=>{throw l},0)}function R(){var l=$;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class K{constructor(){this.h=this.g=null}add(h,m){const b=re.get();b.set(h,m),this.h?this.h.next=b:this.g=b,this.h=b}}var re=new _(()=>new Z,l=>l.reset());class Z{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let H,L=!1,$=new K,X=()=>{const l=a.Promise.resolve(void 0);H=()=>{l.then(he)}};var he=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(m){N(m)}var h=re;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}L=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return l}();function We(l,h){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(O){e:{try{D(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else m=="mouseover"?h=l.fromElement:m=="mouseout"&&(h=l.toElement);this.relatedTarget=h,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ge[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&We.aa.h.call(this)}}I(We,oe);var Ge={2:"touch",3:"pen",4:"mouse"};We.prototype.h=function(){We.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Oe(l,h,m,b,M){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!b,this.ha=M,this.key=++Ee,this.da=this.fa=!1}function fe(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ue(l){this.src=l,this.g={},this.h=0}ue.prototype.add=function(l,h,m,b,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var B=at(l,h,b,M);return-1<B?(h=l[B],m||(h.fa=!1)):(h=new Oe(h,this.src,j,!!b,M),h.fa=m,l.push(h)),h};function ce(l,h){var m=h.type;if(m in l.g){var b=l.g[m],M=Array.prototype.indexOf.call(b,h,void 0),j;(j=0<=M)&&Array.prototype.splice.call(b,M,1),j&&(fe(h),l.g[m].length==0&&(delete l.g[m],l.h--))}}function at(l,h,m,b){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==h&&j.capture==!!m&&j.ha==b)return M}return-1}var Mt="closure_lm_"+(1e6*Math.random()|0),Kn={};function Er(l,h,m,b,M){if(Array.isArray(h)){for(var j=0;j<h.length;j++)Er(l,h[j],m,b,M);return null}return m=qg(m),l&&l[W]?l.K(h,m,c(b)?!!b.capture:!1,M):yi(l,h,m,!1,b,M)}function yi(l,h,m,b,M,j){if(!h)throw Error("Invalid event type");var B=c(M)?!!M.capture:!!M,Te=Fd(l);if(Te||(l[Mt]=Te=new ue(l)),m=Te.add(h,m,b,B,j),m.proxy)return m;if(b=Vd(),m.proxy=b,b.src=l,b.listener=m,l.addEventListener)we||(M=B),M===void 0&&(M=!1),l.addEventListener(h.toString(),b,M);else if(l.attachEvent)l.attachEvent(Hg(h.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Vd(){function l(m){return h.call(l.src,l.listener,m)}const h=mC;return l}function vi(l,h,m,b,M){if(Array.isArray(h))for(var j=0;j<h.length;j++)vi(l,h[j],m,b,M);else b=c(b)?!!b.capture:!!b,m=qg(m),l&&l[W]?(l=l.i,h=String(h).toString(),h in l.g&&(j=l.g[h],m=at(j,m,b,M),-1<m&&(fe(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete l.g[h],l.h--)))):l&&(l=Fd(l))&&(h=l.g[h.toString()],l=-1,h&&(l=at(h,m,b,M)),(m=-1<l?h[l]:null)&&jd(m))}function jd(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[W])ce(h.i,l);else{var m=l.type,b=l.proxy;h.removeEventListener?h.removeEventListener(m,b,l.capture):h.detachEvent?h.detachEvent(Hg(m),b):h.addListener&&h.removeListener&&h.removeListener(b),(m=Fd(h))?(ce(m,l),m.h==0&&(m.src=null,h[Mt]=null)):fe(l)}}}function Hg(l){return l in Kn?Kn[l]:Kn[l]="on"+l}function mC(l,h){if(l.da)l=!0;else{h=new We(h,this);var m=l.listener,b=l.ha||l.src;l.fa&&jd(l),l=m.call(b,h)}return l}function Fd(l){return l=l[Mt],l instanceof ue?l:null}var Ud="__closure_events_fn_"+(1e9*Math.random()>>>0);function qg(l){return typeof l=="function"?l:(l[Ud]||(l[Ud]=function(h){return l.handleEvent(h)}),l[Ud])}function vt(){le.call(this),this.i=new ue(this),this.M=this,this.F=null}I(vt,le),vt.prototype[W]=!0,vt.prototype.removeEventListener=function(l,h,m,b){vi(this,l,h,m,b)};function At(l,h){var m,b=l.F;if(b)for(m=[];b;b=b.F)m.push(b);if(l=l.M,b=h.type||h,typeof h=="string")h=new oe(h,l);else if(h instanceof oe)h.target=h.target||l;else{var M=h;h=new oe(b,l),A(h,M)}if(M=!0,m)for(var j=m.length-1;0<=j;j--){var B=h.g=m[j];M=wl(B,b,!0,h)&&M}if(B=h.g=l,M=wl(B,b,!0,h)&&M,M=wl(B,b,!1,h)&&M,m)for(j=0;j<m.length;j++)B=h.g=m[j],M=wl(B,b,!1,h)&&M}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var m=l.g[h],b=0;b<m.length;b++)fe(m[b]);delete l.g[h],l.h--}}this.F=null},vt.prototype.K=function(l,h,m,b){return this.i.add(String(l),h,!1,m,b)},vt.prototype.L=function(l,h,m,b){return this.i.add(String(l),h,!0,m,b)};function wl(l,h,m,b){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,j=0;j<h.length;++j){var B=h[j];if(B&&!B.da&&B.capture==m){var Te=B.listener,lt=B.ha||B.src;B.fa&&ce(l.i,B),M=Te.call(lt,b)!==!1&&M}}return M&&!b.defaultPrevented}function Gg(l,h,m){if(typeof l=="function")m&&(l=p(l,m));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function Kg(l){l.g=Gg(()=>{l.g=null,l.i&&(l.i=!1,Kg(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class gC extends le{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Kg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ko(l){le.call(this),this.h=l,this.g={}}I(ko,le);var Qg=[];function Yg(l){V(l.g,function(h,m){this.g.hasOwnProperty(m)&&jd(h)},l),l.g={}}ko.prototype.N=function(){ko.aa.N.call(this),Yg(this)},ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zd=a.JSON.stringify,yC=a.JSON.parse,vC=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Bd(){}Bd.prototype.h=null;function Xg(l){return l.h||(l.h=l.i())}function Jg(){}var Ao={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $d(){oe.call(this,"d")}I($d,oe);function Wd(){oe.call(this,"c")}I(Wd,oe);var wi={},Zg=null;function _l(){return Zg=Zg||new vt}wi.La="serverreachability";function ey(l){oe.call(this,wi.La,l)}I(ey,oe);function Ro(l){const h=_l();At(h,new ey(h))}wi.STAT_EVENT="statevent";function ty(l,h){oe.call(this,wi.STAT_EVENT,l),this.stat=h}I(ty,oe);function Rt(l){const h=_l();At(h,new ty(h,l))}wi.Ma="timingevent";function ny(l,h){oe.call(this,wi.Ma,l),this.size=h}I(ny,oe);function Po(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function No(){this.g=!0}No.prototype.xa=function(){this.g=!1};function wC(l,h,m,b,M,j){l.info(function(){if(l.g)if(j)for(var B="",Te=j.split("&"),lt=0;lt<Te.length;lt++){var _e=Te[lt].split("=");if(1<_e.length){var wt=_e[0];_e=_e[1];var _t=wt.split("_");B=2<=_t.length&&_t[1]=="type"?B+(wt+"="+_e+"&"):B+(wt+"=redacted&")}}else B=null;else B=j;return"XMLHTTP REQ ("+b+") [attempt "+M+"]: "+h+`
`+m+`
`+B})}function _C(l,h,m,b,M,j,B){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+M+"]: "+h+`
`+m+`
`+j+" "+B})}function ts(l,h,m,b){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+xC(l,m)+(b?" "+b:"")})}function EC(l,h){l.info(function(){return"TIMEOUT: "+h})}No.prototype.info=function(){};function xC(l,h){if(!l.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var b=m[l];if(!(2>b.length)){var M=b[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var B=1;B<M.length;B++)M[B]=""}}}}return zd(m)}catch{return h}}var El={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ry={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hd;function xl(){}I(xl,Bd),xl.prototype.g=function(){return new XMLHttpRequest},xl.prototype.i=function(){return{}},Hd=new xl;function xr(l,h,m,b){this.j=l,this.i=h,this.l=m,this.R=b||1,this.U=new ko(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new iy}function iy(){this.i=null,this.g="",this.h=!1}var sy={},qd={};function Gd(l,h,m){l.L=1,l.v=Cl(Qn(h)),l.m=m,l.P=!0,oy(l,null)}function oy(l,h){l.F=Date.now(),Sl(l),l.A=Qn(l.v);var m=l.A,b=l.R;Array.isArray(b)||(b=[String(b)]),_y(m.i,"t",b),l.C=0,m=l.j.J,l.h=new iy,l.g=jy(l.j,m?h:null,!l.m),0<l.O&&(l.M=new gC(p(l.Y,l,l.g),l.O)),h=l.U,m=l.g,b=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Qg[0]=M.toString()),M=Qg);for(var j=0;j<M.length;j++){var B=Er(m,M[j],b||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Ro(),wC(l.i,l.u,l.A,l.l,l.R,l.m)}xr.prototype.ca=function(l){l=l.target;const h=this.M;h&&Yn(l)==3?h.j():this.Y(l)},xr.prototype.Y=function(l){try{if(l==this.g)e:{const _t=Yn(this.g);var h=this.g.Ba();const is=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||by(this.g)))){this.J||_t!=4||h==7||(h==8||0>=is?Ro(3):Ro(2)),Kd(this);var m=this.g.Z();this.X=m;t:if(ay(this)){var b=by(this.g);l="";var M=b.length,j=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_i(this),Do(this);var B="";break t}this.h.i=new a.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,l+=this.h.i.decode(b[h],{stream:!(j&&h==M-1)});b.length=0,this.h.g+=l,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=m==200,_C(this.i,this.u,this.A,this.l,this.R,_t,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,lt=this.g;if((Te=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Te)){var _e=Te;break t}}_e=null}if(m=_e)ts(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qd(this,m);else{this.o=!1,this.s=3,Rt(12),_i(this),Do(this);break e}}if(this.P){m=!0;let hn;for(;!this.J&&this.C<B.length;)if(hn=SC(this,B),hn==qd){_t==4&&(this.s=4,Rt(14),m=!1),ts(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==sy){this.s=4,Rt(15),ts(this.i,this.l,B,"[Invalid Chunk]"),m=!1;break}else ts(this.i,this.l,hn,null),Qd(this,hn);if(ay(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||B.length!=0||this.h.h||(this.s=1,Rt(16),m=!1),this.o=this.o&&m,!m)ts(this.i,this.l,B,"[Invalid Chunked Response]"),_i(this),Do(this);else if(0<B.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),th(wt),wt.M=!0,Rt(11))}}else ts(this.i,this.l,B,null),Qd(this,B);_t==4&&_i(this),this.o&&!this.J&&(_t==4?Oy(this.j,this):(this.o=!1,Sl(this)))}else UC(this.g),m==400&&0<B.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),_i(this),Do(this)}}}catch{}finally{}};function ay(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function SC(l,h){var m=l.C,b=h.indexOf(`
`,m);return b==-1?qd:(m=Number(h.substring(m,b)),isNaN(m)?sy:(b+=1,b+m>h.length?qd:(h=h.slice(b,b+m),l.C=b+m,h)))}xr.prototype.cancel=function(){this.J=!0,_i(this)};function Sl(l){l.S=Date.now()+l.I,ly(l,l.I)}function ly(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Po(p(l.ba,l),h)}function Kd(l){l.B&&(a.clearTimeout(l.B),l.B=null)}xr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(EC(this.i,this.A),this.L!=2&&(Ro(),Rt(17)),_i(this),this.s=2,Do(this)):ly(this,this.S-l)};function Do(l){l.j.G==0||l.J||Oy(l.j,l)}function _i(l){Kd(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Yg(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Qd(l,h){try{var m=l.j;if(m.G!=0&&(m.g==l||Yd(m.h,l))){if(!l.K&&Yd(m.h,l)&&m.G==3){try{var b=m.Da.g.parse(h)}catch{b=null}if(Array.isArray(b)&&b.length==3){var M=b;if(M[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Nl(m),Rl(m);else break e;eh(m),Rt(18)}}else m.za=M[1],0<m.za-m.T&&37500>M[2]&&m.F&&m.v==0&&!m.C&&(m.C=Po(p(m.Za,m),6e3));if(1>=dy(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else xi(m,11)}else if((l.K||m.g==l)&&Nl(m),!y(h))for(M=m.Da.g.parse(h),h=0;h<M.length;h++){let _e=M[h];if(m.T=_e[0],_e=_e[1],m.G==2)if(_e[0]=="c"){m.K=_e[1],m.ia=_e[2];const wt=_e[3];wt!=null&&(m.la=wt,m.j.info("VER="+m.la));const _t=_e[4];_t!=null&&(m.Aa=_t,m.j.info("SVER="+m.Aa));const is=_e[5];is!=null&&typeof is=="number"&&0<is&&(b=1.5*is,m.L=b,m.j.info("backChannelRequestTimeoutMs_="+b)),b=m;const hn=l.g;if(hn){const Ol=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ol){var j=b.h;j.g||Ol.indexOf("spdy")==-1&&Ol.indexOf("quic")==-1&&Ol.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Xd(j,j.h),j.h=null))}if(b.D){const nh=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;nh&&(b.ya=nh,Ce(b.I,b.D,nh))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),b=m;var B=l;if(b.qa=Vy(b,b.J?b.ia:null,b.W),B.K){hy(b.h,B);var Te=B,lt=b.L;lt&&(Te.I=lt),Te.B&&(Kd(Te),Sl(Te)),b.g=B}else Ny(b);0<m.i.length&&Pl(m)}else _e[0]!="stop"&&_e[0]!="close"||xi(m,7);else m.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?xi(m,7):Zd(m):_e[0]!="noop"&&m.l&&m.l.ta(_e),m.v=0)}}Ro(4)}catch{}}var TC=class{constructor(l,h){this.g=l,this.map=h}};function uy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function dy(l){return l.h?1:l.g?l.g.size:0}function Yd(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Xd(l,h){l.g?l.g.add(h):l.h=h}function hy(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}uy.prototype.cancel=function(){if(this.i=fy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function fy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const m of l.g.values())h=h.concat(m.D);return h}return w(l.i)}function IC(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],m=l.length,b=0;b<m;b++)h.push(l[b]);return h}h=[],m=0;for(b in l)h[m++]=l[b];return h}function CC(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var m=0;m<l;m++)h.push(m);return h}h=[],m=0;for(const b in l)h[m++]=b;return h}}}function py(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var m=CC(l),b=IC(l),M=b.length,j=0;j<M;j++)h.call(void 0,b[j],m&&m[j],l)}var my=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bC(l,h){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var b=l[m].indexOf("="),M=null;if(0<=b){var j=l[m].substring(0,b);M=l[m].substring(b+1)}else j=l[m];h(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ei(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ei){this.h=l.h,Tl(this,l.j),this.o=l.o,this.g=l.g,Il(this,l.s),this.l=l.l;var h=l.i,m=new Mo;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),gy(this,m),this.m=l.m}else l&&(h=String(l).match(my))?(this.h=!1,Tl(this,h[1]||"",!0),this.o=Oo(h[2]||""),this.g=Oo(h[3]||"",!0),Il(this,h[4]),this.l=Oo(h[5]||"",!0),gy(this,h[6]||"",!0),this.m=Oo(h[7]||"")):(this.h=!1,this.i=new Mo(null,this.h))}Ei.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Lo(h,yy,!0),":");var m=this.g;return(m||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Lo(h,yy,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Lo(m,m.charAt(0)=="/"?RC:AC,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Lo(m,NC)),l.join("")};function Qn(l){return new Ei(l)}function Tl(l,h,m){l.j=m?Oo(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Il(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function gy(l,h,m){h instanceof Mo?(l.i=h,DC(l.i,l.h)):(m||(h=Lo(h,PC)),l.i=new Mo(h,l.h))}function Ce(l,h,m){l.i.set(h,m)}function Cl(l){return Ce(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Oo(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Lo(l,h,m){return typeof l=="string"?(l=encodeURI(l).replace(h,kC),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function kC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var yy=/[#\/\?@]/g,AC=/[#\?:]/g,RC=/[#\?]/g,PC=/[#\?@]/g,NC=/#/g;function Mo(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Sr(l){l.g||(l.g=new Map,l.h=0,l.i&&bC(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Mo.prototype,t.add=function(l,h){Sr(this),this.i=null,l=ns(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this};function vy(l,h){Sr(l),h=ns(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function wy(l,h){return Sr(l),h=ns(l,h),l.g.has(h)}t.forEach=function(l,h){Sr(this),this.g.forEach(function(m,b){m.forEach(function(M){l.call(h,M,b,this)},this)},this)},t.na=function(){Sr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let b=0;b<h.length;b++){const M=l[b];for(let j=0;j<M.length;j++)m.push(h[b])}return m},t.V=function(l){Sr(this);let h=[];if(typeof l=="string")wy(this,l)&&(h=h.concat(this.g.get(ns(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)h=h.concat(l[m])}return h},t.set=function(l,h){return Sr(this),this.i=null,l=ns(this,l),wy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function _y(l,h,m){vy(l,h),0<m.length&&(l.i=null,l.g.set(ns(l,h),w(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var b=h[m];const j=encodeURIComponent(String(b)),B=this.V(b);for(b=0;b<B.length;b++){var M=j;B[b]!==""&&(M+="="+encodeURIComponent(String(B[b]))),l.push(M)}}return this.i=l.join("&")};function ns(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function DC(l,h){h&&!l.j&&(Sr(l),l.i=null,l.g.forEach(function(m,b){var M=b.toLowerCase();b!=M&&(vy(this,b),_y(this,M,m))},l)),l.j=h}function OC(l,h){const m=new No;if(a.Image){const b=new Image;b.onload=S(Tr,m,"TestLoadImage: loaded",!0,h,b),b.onerror=S(Tr,m,"TestLoadImage: error",!1,h,b),b.onabort=S(Tr,m,"TestLoadImage: abort",!1,h,b),b.ontimeout=S(Tr,m,"TestLoadImage: timeout",!1,h,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else h(!1)}function LC(l,h){const m=new No,b=new AbortController,M=setTimeout(()=>{b.abort(),Tr(m,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:b.signal}).then(j=>{clearTimeout(M),j.ok?Tr(m,"TestPingServer: ok",!0,h):Tr(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Tr(m,"TestPingServer: error",!1,h)})}function Tr(l,h,m,b,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),b(m)}catch{}}function MC(){this.g=new vC}function VC(l,h,m){const b=m||"";try{py(l,function(M,j){let B=M;c(M)&&(B=zd(M)),h.push(b+j+"="+encodeURIComponent(B))})}catch(M){throw h.push(b+"type="+encodeURIComponent("_badmap")),M}}function bl(l){this.l=l.Ub||null,this.j=l.eb||!1}I(bl,Bd),bl.prototype.g=function(){return new kl(this.l,this.j)},bl.prototype.i=function(l){return function(){return l}}({});function kl(l,h){vt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(kl,vt),t=kl.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,jo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,jo(this)),this.g&&(this.readyState=3,jo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ey(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ey(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Vo(this):jo(this),this.readyState==3&&Ey(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Vo(this))},t.Qa=function(l){this.g&&(this.response=l,Vo(this))},t.ga=function(){this.g&&Vo(this)};function Vo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,jo(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=h.next();return l.join(`\r
`)};function jo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(kl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function xy(l){let h="";return V(l,function(m,b){h+=b,h+=":",h+=m,h+=`\r
`}),h}function Jd(l,h,m){e:{for(b in m){var b=!1;break e}b=!0}b||(m=xy(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Ce(l,h,m))}function Ue(l){vt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ue,vt);var jC=/^https?$/i,FC=["POST","PUT"];t=Ue.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,m,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hd.g(),this.v=this.o?Xg(this.o):Xg(Hd),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(j){Sy(this,j);return}if(l=m||"",m=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var M in b)m.set(M,b[M]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const j of b.keys())m.set(j,b.get(j));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(FC,h,void 0))||b||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,B]of m)this.g.setRequestHeader(j,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cy(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){Sy(this,j)}};function Sy(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Ty(l),Al(l)}function Ty(l){l.A||(l.A=!0,At(l,"complete"),At(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,At(this,"complete"),At(this,"abort"),Al(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Al(this,!0)),Ue.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Iy(this):this.bb())},t.bb=function(){Iy(this)};function Iy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Yn(l)!=4||l.Z()!=2)){if(l.u&&Yn(l)==4)Gg(l.Ea,0,l);else if(At(l,"readystatechange"),Yn(l)==4){l.h=!1;try{const B=l.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var b;if(b=B===0){var M=String(l.D).match(my)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),b=!jC.test(M?M.toLowerCase():"")}m=b}if(m)At(l,"complete"),At(l,"success");else{l.m=6;try{var j=2<Yn(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",Ty(l)}}finally{Al(l)}}}}function Al(l,h){if(l.g){Cy(l);const m=l.g,b=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||At(l,"ready");try{m.onreadystatechange=b}catch{}}}function Cy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Yn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),yC(h)}};function by(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function UC(l){const h={};l=(l.g&&2<=Yn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(y(l[b]))continue;var m=P(l[b]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=h[M]||[];h[M]=j,j.push(m)}E(h,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fo(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function ky(l){this.Aa=0,this.i=[],this.j=new No,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fo("baseRetryDelayMs",5e3,l),this.cb=Fo("retryDelaySeedMs",1e4,l),this.Wa=Fo("forwardChannelMaxRetries",2,l),this.wa=Fo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new uy(l&&l.concurrentRequestLimit),this.Da=new MC,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ky.prototype,t.la=8,t.G=1,t.connect=function(l,h,m,b){Rt(0),this.W=l,this.H=h||{},m&&b!==void 0&&(this.H.OSID=m,this.H.OAID=b),this.F=this.X,this.I=Vy(this,null,this.W),Pl(this)};function Zd(l){if(Ay(l),l.G==3){var h=l.U++,m=Qn(l.I);if(Ce(m,"SID",l.K),Ce(m,"RID",h),Ce(m,"TYPE","terminate"),Uo(l,m),h=new xr(l,l.j,h),h.L=2,h.v=Cl(Qn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=jy(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Sl(h)}My(l)}function Rl(l){l.g&&(th(l),l.g.cancel(),l.g=null)}function Ay(l){Rl(l),l.u&&(a.clearTimeout(l.u),l.u=null),Nl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Pl(l){if(!cy(l.h)&&!l.s){l.s=!0;var h=l.Ga;H||X(),L||(H(),L=!0),$.add(h,l),l.B=0}}function zC(l,h){return dy(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Po(p(l.Ga,l,h),Ly(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new xr(this,this.j,l);let j=this.o;if(this.S&&(j?(j=v(j),A(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var b=this.i[m];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(h+=b,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=Py(this,M,h),m=Qn(this.I),Ce(m,"RID",l),Ce(m,"CVER",22),this.D&&Ce(m,"X-HTTP-Session-Id",this.D),Uo(this,m),j&&(this.O?h="headers="+encodeURIComponent(String(xy(j)))+"&"+h:this.m&&Jd(m,this.m,j)),Xd(this.h,M),this.Ua&&Ce(m,"TYPE","init"),this.P?(Ce(m,"$req",h),Ce(m,"SID","null"),M.T=!0,Gd(M,m,null)):Gd(M,m,h),this.G=2}}else this.G==3&&(l?Ry(this,l):this.i.length==0||cy(this.h)||Ry(this))};function Ry(l,h){var m;h?m=h.l:m=l.U++;const b=Qn(l.I);Ce(b,"SID",l.K),Ce(b,"RID",m),Ce(b,"AID",l.T),Uo(l,b),l.m&&l.o&&Jd(b,l.m,l.o),m=new xr(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Py(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Xd(l.h,m),Gd(m,b,h)}function Uo(l,h){l.H&&V(l.H,function(m,b){Ce(h,b,m)}),l.l&&py({},function(m,b){Ce(h,b,m)})}function Py(l,h,m){m=Math.min(l.i.length,m);var b=l.l?p(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const B=["count="+m];j==-1?0<m?(j=M[0].g,B.push("ofs="+j)):j=0:B.push("ofs="+j);let Te=!0;for(let lt=0;lt<m;lt++){let _e=M[lt].g;const wt=M[lt].map;if(_e-=j,0>_e)j=Math.max(0,M[lt].g-100),Te=!1;else try{VC(wt,B,"req"+_e+"_")}catch{b&&b(wt)}}if(Te){b=B.join("&");break e}}}return l=l.i.splice(0,m),h.D=l,b}function Ny(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;H||X(),L||(H(),L=!0),$.add(h,l),l.v=0}}function eh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Po(p(l.Fa,l),Ly(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Dy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Po(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),Rl(this),Dy(this))};function th(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Dy(l){l.g=new xr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Qn(l.qa);Ce(h,"RID","rpc"),Ce(h,"SID",l.K),Ce(h,"AID",l.T),Ce(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ce(h,"TO",l.ja),Ce(h,"TYPE","xmlhttp"),Uo(l,h),l.m&&l.o&&Jd(h,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Cl(Qn(h)),m.m=null,m.P=!0,oy(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Rl(this),eh(this),Rt(19))};function Nl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Oy(l,h){var m=null;if(l.g==h){Nl(l),th(l),l.g=null;var b=2}else if(Yd(l.h,h))m=h.D,hy(l.h,h),b=1;else return;if(l.G!=0){if(h.o)if(b==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var M=l.B;b=_l(),At(b,new ny(b,m)),Pl(l)}else Ny(l);else if(M=h.s,M==3||M==0&&0<h.X||!(b==1&&zC(l,h)||b==2&&eh(l)))switch(m&&0<m.length&&(h=l.h,h.i=h.i.concat(m)),M){case 1:xi(l,5);break;case 4:xi(l,10);break;case 3:xi(l,6);break;default:xi(l,2)}}}function Ly(l,h){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*h}function xi(l,h){if(l.j.info("Error code "+h),h==2){var m=p(l.fb,l),b=l.Xa;const M=!b;b=new Ei(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Tl(b,"https"),Cl(b),M?OC(b.toString(),m):LC(b.toString(),m)}else Rt(2);l.G=0,l.l&&l.l.sa(h),My(l),Ay(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function My(l){if(l.G=0,l.ka=[],l.l){const h=fy(l.h);(h.length!=0||l.i.length!=0)&&(k(l.ka,h),k(l.ka,l.i),l.h.i.length=0,w(l.i),l.i.length=0),l.l.ra()}}function Vy(l,h,m){var b=m instanceof Ei?Qn(m):new Ei(m);if(b.g!="")h&&(b.g=h+"."+b.g),Il(b,b.s);else{var M=a.location;b=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var j=new Ei(null);b&&Tl(j,b),h&&(j.g=h),M&&Il(j,M),m&&(j.l=m),b=j}return m=l.D,h=l.ya,m&&h&&Ce(b,m,h),Ce(b,"VER",l.la),Uo(l,b),b}function jy(l,h,m){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Ue(new bl({eb:m})):new Ue(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fy(){}t=Fy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dl(){}Dl.prototype.g=function(l,h){return new Wt(l,h)};function Wt(l,h){vt.call(this),this.g=new ky(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!y(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new rs(this)}I(Wt,vt),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){Zd(this.g)},Wt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=zd(l),l=m);h.i.push(new TC(h.Ya++,l)),h.G==3&&Pl(h)},Wt.prototype.N=function(){this.g.l=null,delete this.j,Zd(this.g),delete this.g,Wt.aa.N.call(this)};function Uy(l){$d.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}I(Uy,$d);function zy(){Wd.call(this),this.status=1}I(zy,Wd);function rs(l){this.g=l}I(rs,Fy),rs.prototype.ua=function(){At(this.g,"a")},rs.prototype.ta=function(l){At(this.g,new Uy(l))},rs.prototype.sa=function(l){At(this.g,new zy)},rs.prototype.ra=function(){At(this.g,"b")},Dl.prototype.createWebChannel=Dl.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,X1=function(){return new Dl},Y1=function(){return _l()},Q1=wi,up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},El.NO_ERROR=0,El.TIMEOUT=8,El.HTTP_ERROR=6,Lu=El,ry.COMPLETE="complete",K1=ry,Jg.EventType=Ao,Ao.OPEN="a",Ao.CLOSE="b",Ao.ERROR="c",Ao.MESSAGE="d",vt.prototype.listen=vt.prototype.K,ra=Jg,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,G1=Ue}).apply(typeof tu<"u"?tu:typeof self<"u"?self:typeof window<"u"?window:{});const jw="@firebase/firestore",Fw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new $m("@firebase/firestore");function ds(){return $i.logLevel}function q(t,...e){if($i.logLevel<=pe.DEBUG){const n=e.map(tg);$i.debug(`Firestore (${go}): ${t}`,...n)}}function mr(t,...e){if($i.logLevel<=pe.ERROR){const n=e.map(tg);$i.error(`Firestore (${go}): ${t}`,...n)}}function Js(t,...e){if($i.logLevel<=pe.WARN){const n=e.map(tg);$i.warn(`Firestore (${go}): ${t}`,...n)}}function tg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,J1(t,r,n)}function J1(t,e,n){let r=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw mr(r),new Error(r)}function xe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||J1(e,i,r)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends _r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class UD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zD{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new Z1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new Tt(e)}}class BD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $D{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new BD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Uw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Uw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=HD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function cp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Bh(i)===Bh(s)?me(i,s):Bh(i)?1:-1}return me(t.length,e.length)}const qD=55296,GD=57343;function Bh(t){const e=t.charCodeAt(0);return e>=qD&&e<=GD}function Zs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="__name__";class An{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return An.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof An?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=An.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return me(e.length,n.length)}static compareSegments(e,n){const r=An.isNumericId(e),i=An.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?An.extractNumericId(e).compare(An.extractNumericId(n)):cp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jr.fromString(e.substring(4,e.length-2))}}class ke extends An{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const KD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends An{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return KD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zw}static keyField(){return new ht([zw])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new J(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(ke.fromString(e))}static fromName(e){return new ee(ke.fromString(e).popFirst(5))}static empty(){return new ee(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new ke(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t,e,n){if(!n)throw new J(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QD(t,e,n,r){if(e===!0&&r===!0)throw new J(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Bw(t){if(!ee.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $w(t){if(ee.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te(12329,{type:typeof t})}function Ic(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rg(t);throw new J(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t,e){const n={typeString:t};return e&&(n.value=e),n}function ul(t,e){if(!tS(t))throw new J(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new J(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=-62135596800,Hw=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Hw);return new Ae(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ww)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hw}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ul(e,Ae._jsonSchema))return new Ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ww;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:Xe("string",Ae._jsonSchemaVersion),seconds:Xe("number"),nanoseconds:Xe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Ae(0,0))}static max(){return new ie(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=-1;function YD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new Ae(n+1,0):new Ae(n,r));return new ri(i,ee.empty(),e)}function XD(t){return new ri(t.readTime,t.key,Ba)}class ri{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ri(ie.min(),ee.empty(),Ba)}static max(){return new ri(ie.max(),ee.empty(),Ba)}}function JD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==ZD)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function tO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=-1;function yd(t){return t==null}function Cc(t){return t===0&&1/t==-1/0}function nO(t){return typeof t=="number"&&Number.isInteger(t)&&!Cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="";function rO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qw(e)),e=iO(t.get(n),e);return qw(e)}function iO(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case nS:n+="";break;default:n+=s}}return n}function qw(t){return t+nS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nu(this.root,e,this.comparator,!1)}getReverseIterator(){return new nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nu(this.root,e,this.comparator,!0)}}class nu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ct.RED,this.left=i??ct.EMPTY,this.right=s??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ct(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw te(27949);return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw te(57766)}get value(){throw te(16141)}get color(){throw te(16727)}get left(){throw te(29726)}get right(){throw te(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kw(this.data.getIterator())}getIteratorFrom(e){return new Kw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class Kw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new wn([])}unionWith(e){let n=new nt(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new iS("Invalid base64 string: "+s):s}}(e);return new gt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const sO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=sO.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function si(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="server_timestamp",oS="__type__",aS="__previous_value__",lS="__local_write_time__";function sg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[oS])==null?void 0:r.stringValue)===sS}function vd(t){const e=t.mapValue.fields[aS];return sg(e)?vd(e):e}function $a(t){const e=ii(t.mapValue.fields[lS].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n,r,i,s,o,a,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=d}}const bc="(default)";class Wa{constructor(e,n){this.projectId=e,this.database=n||bc}static empty(){return new Wa("","")}get isDefaultDatabase(){return this.database===bc}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="__type__",aO="__max__",ru={mapValue:{}},cS="__vector__",kc="value";function oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sg(t)?4:uO(t)?9007199254740991:lO(t)?10:11:te(28295,{value:t})}function $n(t,e){if(t===e)return!0;const n=oi(t);if(n!==oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $a(t).isEqual($a(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ii(i.timestampValue),a=ii(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return si(i.bytesValue).isEqual(si(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return He(i.geoPointValue.latitude)===He(s.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return He(i.integerValue)===He(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=He(i.doubleValue),a=He(s.doubleValue);return o===a?Cc(o)===Cc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Zs(t.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Gw(o)!==Gw(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!$n(o[u],a[u])))return!1;return!0}(t,e);default:return te(52216,{left:t})}}function Ha(t,e){return(t.values||[]).find(n=>$n(n,e))!==void 0}function eo(t,e){if(t===e)return 0;const n=oi(t),r=oi(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=He(s.integerValue||s.doubleValue),u=He(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Qw(t.timestampValue,e.timestampValue);case 4:return Qw($a(t),$a(e));case 5:return cp(t.stringValue,e.stringValue);case 6:return function(s,o){const a=si(s),u=si(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=me(a[c],u[c]);if(d!==0)return d}return me(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=me(He(s.latitude),He(o.latitude));return a!==0?a:me(He(s.longitude),He(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Yw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var p,S,I,w;const a=s.fields||{},u=o.fields||{},c=(p=a[kc])==null?void 0:p.arrayValue,d=(S=u[kc])==null?void 0:S.arrayValue,f=me(((I=c==null?void 0:c.values)==null?void 0:I.length)||0,((w=d==null?void 0:d.values)==null?void 0:w.length)||0);return f!==0?f:Yw(c,d)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ru.mapValue&&o===ru.mapValue)return 0;if(s===ru.mapValue)return 1;if(o===ru.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const p=cp(u[f],d[f]);if(p!==0)return p;const S=eo(a[u[f]],c[d[f]]);if(S!==0)return S}return me(u.length,d.length)}(t.mapValue,e.mapValue);default:throw te(23264,{he:n})}}function Qw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=ii(t),r=ii(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function Yw(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=eo(n[i],r[i]);if(s)return s}return me(n.length,r.length)}function to(t){return dp(t)}function dp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return si(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=dp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${dp(n.fields[o])}`;return i+"}"}(t.mapValue):te(61005,{value:t})}function Mu(t){switch(oi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vd(t);return e?16+Mu(e):16;case 5:return 2*t.stringValue.length;case 6:return si(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Mu(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Xi(r.fields,(s,o)=>{i+=s.length+Mu(o)}),i}(t.mapValue);default:throw te(13486,{value:t})}}function hp(t){return!!t&&"integerValue"in t}function og(t){return!!t&&"arrayValue"in t}function Xw(t){return!!t&&"nullValue"in t}function Jw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vu(t){return!!t&&"mapValue"in t}function lO(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[uS])==null?void 0:r.stringValue)===cS}function va(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=va(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=va(t.arrayValue.values[n]);return e}return{...t}}function uO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===aO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=va(n)}setAll(e){let n=ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=va(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Vu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(va(this.value))}}function dS(t){const e=[];return Xi(t.fields,(n,r)=>{const i=new ht([n]);if(Vu(r)){const s=dS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ct(e,0,ie.min(),ie.min(),ie.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ct(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new Ct(e,2,n,ie.min(),ie.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new Ct(e,3,n,ie.min(),ie.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.position=e,this.inclusive=n}}function Zw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=eo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function e_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$n(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function cO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{}class et extends hS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hO(e,n,r):n==="array-contains"?new mO(e,r):n==="in"?new gO(e,r):n==="not-in"?new yO(e,r):n==="array-contains-any"?new vO(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fO(e,r):new pO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(eo(n,this.value)):n!==null&&oi(this.value)===oi(n)&&this.matchesComparison(eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends hS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return fS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fS(t){return t.op==="and"}function pS(t){return dO(t)&&fS(t)}function dO(t){for(const e of t.filters)if(e instanceof Wn)return!1;return!0}function fp(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+to(t.value);if(pS(t))return t.filters.map(e=>fp(e)).join(",");{const e=t.filters.map(n=>fp(n)).join(",");return`${t.op}(${e})`}}function mS(t,e){return t instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&$n(r.value,i.value)}(t,e):t instanceof Wn?function(r,i){return i instanceof Wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&mS(o,i.filters[a]),!0):!1}(t,e):void te(19439)}function gS(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(gS).join(" ,")+"}"}(t):"Filter"}class hO extends et{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class fO extends et{constructor(e,n){super(e,"in",n),this.keys=yS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pO extends et{constructor(e,n){super(e,"not-in",n),this.keys=yS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class mO extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return og(n)&&Ha(n.arrayValue,this.value)}}class gO extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ha(this.value.arrayValue,n)}}class yO extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ha(this.value.arrayValue,n)}}class vO extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!og(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ha(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function t_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new wO(t,e,n,r,i,s,o)}function ag(t){const e=se(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>to(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>to(r)).join(",")),e.Te=n}return e.Te}function lg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!e_(t.startAt,e.startAt)&&e_(t.endAt,e.endAt)}function pp(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _O(t,e,n,r,i,s,o,a){return new wd(t,e,n,r,i,s,o,a)}function vS(t){return new wd(t)}function n_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EO(t){return t.collectionGroup!==null}function wa(t){const e=se(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nt(ht.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Rc(s,r))}),n.has(ht.keyField().canonicalString())||e.Ie.push(new Rc(ht.keyField(),r))}return e.Ie}function jn(t){const e=se(t);return e.Ee||(e.Ee=xO(e,wa(t))),e.Ee}function xO(t,e){if(t.limitType==="F")return t_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Rc(i.field,s)});const n=t.endAt?new Ac(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ac(t.startAt.position,t.startAt.inclusive):null;return t_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mp(t,e,n){return new wd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _d(t,e){return lg(jn(t),jn(e))&&t.limitType===e.limitType}function wS(t){return`${ag(jn(t))}|lt:${t.limitType}`}function hs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gS(i)).join(", ")}]`),yd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>to(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>to(i)).join(",")),`Target(${r})`}(jn(t))}; limitType=${t.limitType})`}function Ed(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of wa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=Zw(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,wa(r),i)||r.endAt&&!function(o,a,u){const c=Zw(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,wa(r),i))}(t,e)}function SO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _S(t){return(e,n)=>{let r=!1;for(const i of wa(t)){const s=TO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function TO(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?eo(u,c):te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return rS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new Fe(ee.comparator);function gr(){return IO}const ES=new Fe(ee.comparator);function ia(...t){let e=ES;for(const n of t)e=e.insert(n.key,n);return e}function xS(t){let e=ES;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ri(){return _a()}function SS(){return _a()}function _a(){return new Ji(t=>t.toString(),(t,e)=>t.isEqual(e))}const CO=new Fe(ee.comparator),bO=new nt(ee.comparator);function ge(...t){let e=bO;for(const n of t)e=e.add(n);return e}const kO=new nt(me);function AO(){return kO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function TS(t){return{integerValue:""+t}}function RO(t,e){return nO(e)?TS(e):ug(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this._=void 0}}function PO(t,e,n){return t instanceof Pc?function(i,s){const o={fields:{[oS]:{stringValue:sS},[lS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&sg(s)&&(s=vd(s)),s&&(o.fields[aS]=s),{mapValue:o}}(n,e):t instanceof qa?CS(t,e):t instanceof Ga?bS(t,e):function(i,s){const o=IS(i,s),a=r_(o)+r_(i.Ae);return hp(o)&&hp(i.Ae)?TS(a):ug(i.serializer,a)}(t,e)}function NO(t,e,n){return t instanceof qa?CS(t,e):t instanceof Ga?bS(t,e):n}function IS(t,e){return t instanceof Nc?function(r){return hp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Pc extends xd{}class qa extends xd{constructor(e){super(),this.elements=e}}function CS(t,e){const n=kS(e);for(const r of t.elements)n.some(i=>$n(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ga extends xd{constructor(e){super(),this.elements=e}}function bS(t,e){let n=kS(e);for(const r of t.elements)n=n.filter(i=>!$n(i,r));return{arrayValue:{values:n}}}class Nc extends xd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function r_(t){return He(t.integerValue||t.doubleValue)}function kS(t){return og(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qa&&i instanceof qa||r instanceof Ga&&i instanceof Ga?Zs(r.elements,i.elements,$n):r instanceof Nc&&i instanceof Nc?$n(r.Ae,i.Ae):r instanceof Pc&&i instanceof Pc}(t.transform,e.transform)}class OO{constructor(e,n){this.version=e,this.transformResults=n}}class or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ju(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sd{}function AS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new PS(t.key,or.none()):new cl(t.key,t.data,or.none());{const n=t.data,r=nn.empty();let i=new nt(ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Zi(t.key,r,new wn(i.toArray()),or.none())}}function LO(t,e,n){t instanceof cl?function(i,s,o){const a=i.value.clone(),u=s_(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zi?function(i,s,o){if(!ju(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=s_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(RS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ea(t,e,n,r){return t instanceof cl?function(s,o,a,u){if(!ju(s.precondition,o))return a;const c=s.value.clone(),d=o_(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zi?function(s,o,a,u){if(!ju(s.precondition,o))return a;const c=o_(s.fieldTransforms,u,o),d=o.data;return d.setAll(RS(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return ju(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function MO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=IS(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function i_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zs(r,i,(s,o)=>DO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cl extends Sd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zi extends Sd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function RS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function s_(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,NO(o,a,n[i]))}return r}function o_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,PO(s,o,e))}return r}class PS extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VO extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&LO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ea(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ea(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=AS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Zs(this.mutations,e.mutations,(n,r)=>i_(n,r))&&Zs(this.baseMutations,e.baseMutations,(n,r)=>i_(n,r))}}class cg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return CO}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new cg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,ye;function zO(t){switch(t){case U.OK:return te(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return te(15467,{code:t})}}function NS(t){if(t===void 0)return mr("GRPC error has no .code"),U.UNKNOWN;switch(t){case Ke.OK:return U.OK;case Ke.CANCELLED:return U.CANCELLED;case Ke.UNKNOWN:return U.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return U.INTERNAL;case Ke.UNAVAILABLE:return U.UNAVAILABLE;case Ke.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Ke.NOT_FOUND:return U.NOT_FOUND;case Ke.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Ke.ABORTED:return U.ABORTED;case Ke.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Ke.DATA_LOSS:return U.DATA_LOSS;default:return te(39323,{code:t})}}(ye=Ke||(Ke={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=new Jr([4294967295,4294967295],0);function a_(t){const e=BO().encode(t),n=new q1;return n.update(e),new Uint8Array(n.digest())}function l_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Jr([n,r],0),new Jr([i,s],0)]}class dg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new sa(`Invalid padding: ${n}`);if(r<0)throw new sa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new sa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new sa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Jr.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Jr.fromNumber(r)));return i.compare($O)===1&&(i=new Jr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=a_(e),[r,i]=l_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=a_(e),[r,i]=l_(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class sa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,dl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Td(ie.min(),i,new Fe(me),gr(),ge())}}class dl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dl(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class DS{constructor(e,n){this.targetId=e,this.Ce=n}}class OS{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class u_{constructor(){this.ve=0,this.Fe=c_(),this.Me=gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ge(),n=ge(),r=ge();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te(38017,{changeType:s})}}),new dl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=c_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WO{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.Je=iu(),this.He=iu(),this.Ye=new Fe(me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(pp(s))if(r===0){const o=new ee(s.path);this.et(n,o,Ct.newNoDocument(o,ie.min()))}else xe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),u=a?this.ct(a,e,o):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=si(r).toUint8Array()}catch(u){if(u instanceof iS)return Js("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new dg(o,i,s)}catch(u){return Js(u instanceof sa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&pp(a.target)){const u=new ee(a.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,Ct.newNoDocument(u,e))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=ge();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Td(e,n,this.Ye,this.je,r);return this.je=gr(),this.Je=iu(),this.He=iu(),this.Ye=new Fe(me),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new u_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new nt(me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new nt(me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function iu(){return new Fe(ee.comparator)}function c_(){return new Fe(ee.comparator)}const HO={asc:"ASCENDING",desc:"DESCENDING"},qO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GO={and:"AND",or:"OR"};class KO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gp(t,e){return t.useProto3Json||yd(e)?e:{value:e}}function Dc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QO(t,e){return Dc(t,e.toTimestamp())}function Fn(t){return xe(!!t,49232),ie.fromTimestamp(function(n){const r=ii(n);return new Ae(r.seconds,r.nanos)}(t))}function hg(t,e){return yp(t,e).canonicalString()}function yp(t,e){const n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MS(t){const e=ke.fromString(t);return xe(zS(e),10190,{key:e.toString()}),e}function vp(t,e){return hg(t.databaseId,e.path)}function $h(t,e){const n=MS(e);if(n.get(1)!==t.databaseId.projectId)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(jS(n))}function VS(t,e){return hg(t.databaseId,e)}function YO(t){const e=MS(t);return e.length===4?ke.emptyPath():jS(e)}function wp(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jS(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function d_(t,e,n){return{name:vp(t,e),fields:n.value.mapValue.fields}}function XO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:te(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(xe(d===void 0||typeof d=="string",58123),gt.fromBase64String(d||"")):(xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),gt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?U.UNKNOWN:NS(c.code);return new J(d,c.message||"")}(o);n=new OS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=$h(t,r.document.name),s=Fn(r.document.updateTime),o=r.document.createTime?Fn(r.document.createTime):ie.min(),a=new nn({mapValue:{fields:r.document.fields}}),u=Ct.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Fu(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=$h(t,r.document),s=r.readTime?Fn(r.readTime):ie.min(),o=Ct.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Fu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=$h(t,r.document),s=r.removedTargetIds||[];n=new Fu([],s,i,null)}else{if(!("filter"in e))return te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new UO(i,s),a=r.targetId;n=new DS(a,o)}}return n}function JO(t,e){let n;if(e instanceof cl)n={update:d_(t,e.key,e.value)};else if(e instanceof PS)n={delete:vp(t,e.key)};else if(e instanceof Zi)n={update:d_(t,e.key,e.data),updateMask:a4(e.fieldMask)};else{if(!(e instanceof VO))return te(16599,{Vt:e.type});n={verify:vp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Pc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ga)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Nc)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw te(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:QO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te(27497)}(t,e.precondition)),n}function ZO(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Fn(i.updateTime):Fn(s);return o.isEqual(ie.min())&&(o=Fn(s)),new OO(o,i.transformResults||[])}(n,e))):[]}function e4(t,e){return{documents:[VS(t,e.path)]}}function t4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=VS(t,i);const s=function(c){if(c.length!==0)return US(Wn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:fs(p.field),direction:i4(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=gp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function n4(t){let e=YO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xe(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=FS(f);return p instanceof Wn&&pS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(I){return new Rc(ps(I.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,yd(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,S=f.values||[];return new Ac(S,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,S=f.values||[];return new Ac(S,p)}(n.endAt)),_O(e,i,o,s,a,"F",u,c)}function r4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ps(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ps(n.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ps(n.unaryFilter.field);return et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ps(n.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return te(61313);default:return te(60726)}}(t):t.fieldFilter!==void 0?function(n){return et.create(ps(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return te(58110);default:return te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(r=>FS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te(1026)}}(n.compositeFilter.op))}(t):te(30097,{filter:t})}function i4(t){return HO[t]}function s4(t){return qO[t]}function o4(t){return GO[t]}function fs(t){return{fieldPath:t.canonicalString()}}function ps(t){return ht.fromServerFormat(t.fieldPath)}function US(t){return t instanceof et?function(n){if(n.op==="=="){if(Jw(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NAN"}};if(Xw(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jw(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NOT_NAN"}};if(Xw(n.value))return{unaryFilter:{field:fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(n.field),op:s4(n.op),value:n.value}}}(t):t instanceof Wn?function(n){const r=n.getFilters().map(i=>US(i));return r.length===1?r[0]:{compositeFilter:{op:o4(n.op),filters:r}}}(t):te(54877,{filter:t})}function a4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,r,i,s=ie.min(),o=ie.min(),a=gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.yt=e}}function u4(t){const e=n4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.Cn=new d4}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(ri.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class d4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BS=41943040;class Vt{static withCacheSize(e){return new Vt(e,Vt.DEFAULT_COLLECTION_PERCENTILE,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vt.DEFAULT_COLLECTION_PERCENTILE=10,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vt.DEFAULT=new Vt(BS,Vt.DEFAULT_COLLECTION_PERCENTILE,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vt.DISABLED=new Vt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new no(0)}static cr(){return new no(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="LruGarbageCollector",h4=1048576;function p_([t,e],[n,r]){const i=me(t,n);return i===0?me(e,r):i}class f4{constructor(e){this.Ir=e,this.buffer=new nt(p_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();p_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class p4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){q(f_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vo(n)?q(f_,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.Vr(3e5)})}}class m4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(gd.ce);const r=new f4(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(h_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),ds()<=pe.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function g4(t,e){return new m4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.changes=new Ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ea(r.mutation,i,wn.empty(),Ae.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const i=Ri();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ia();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ri();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gr();const o=_a(),a=function(){return _a()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Zi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ea(d.mutation,c,d.mutation.getFieldMask(),Ae.now())):o.set(c.key,wn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new v4(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=_a();let i=new Fe((o,a)=>o-a),s=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||wn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(i.get(a.batchId)||ge()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=SS();d.forEach(p=>{if(!s.has(p)){const S=AS(n.get(p),r.get(p));S!==null&&f.set(p,S),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(Ri());let a=Ba,u=s;return o.next(c=>F.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ge())).next(d=>({batchId:a,changes:xS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=ia();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ia();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,u=>{const c=function(f,p){return new wd(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ct.newInvalidDocument(d)))});let a=ia();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&Ea(d.mutation,c,wn.empty(),Ae.now()),Ed(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Fn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:u4(i.bundledQuery),readTime:Fn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.overlays=new Fe(ee.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ri();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=Ri(),s=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Fe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Ri(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ri(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return F.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FO(n,r));let s=this.qr.get(n);s===void 0&&(s=ge(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.Qr=new nt(rt.$r),this.Ur=new nt(rt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new rt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new rt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ee(new ke([])),r=new rt(n,e),i=new rt(n,e+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ee(new ke([])),r=new rt(n,e),i=new rt(n,e+1);let s=ge();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new rt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ee.comparator(e.key,n.key)||me(e.Yr,n.Yr)}static Kr(e,n){return me(e.Yr,n.Yr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new nt(rt.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jO(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?ig:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(me);return n.forEach(i=>{const s=new rt(i,0),o=new rt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ee.isDocumentKey(s)||(s=s.child(""));const o=new rt(new ee(s),0);let a=new nt(me);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.Yr)),!0)},o),F.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,i=>{const s=new rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new rt(n,0),i=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.ri=e,this.docs=function(){return new Fe(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Ct.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ct.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gr();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||JD(XD(d),r)<=0||(i.has(d.key)||Ed(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te(9500)}ii(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new I4(this)}getSize(e){return F.resolve(this.size)}}class I4 extends y4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e){this.persistence=e,this.si=new Ji(n=>ag(n),lg),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.oi=0,this._i=new fg,this.targetCount=0,this.ai=no.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new no(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.ui={},this.overlays={},this.ci=new gd(0),this.li=!1,this.li=!0,this.hi=new x4,this.referenceDelegate=e(this),this.Pi=new C4(this),this.indexManager=new c4,this.remoteDocumentCache=function(i){return new T4(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new l4(n),this.Ii=new _4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new S4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new b4(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return F.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class b4 extends eO{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Ri=new fg,this.Vi=null}static mi(e){return new pg(e)}get fi(){if(this.Vi)return this.Vi;throw te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,r=>{const i=ee.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ie.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Oc{constructor(e,n){this.persistence=e,this.pi=new Ji(r=>rO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=g4(this,n)}static mi(e,n){return new Oc(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ie.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mu(e.data.value)),n}br(e,n,r){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ge(),i=ge();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new mg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return _P()?8:tO(kt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new k4;return this.Ss(e,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(ds()<=pe.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",hs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(ds()<=pe.DEBUG&&q("QueryEngine","Query:",hs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ds()<=pe.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",hs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(n))):F.resolve())}ys(e,n){if(n_(n))return F.resolve(null);let r=jn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=mp(n,null,"F"),r=jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ge(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,a);return this.Cs(n,c,o,u.readTime)?this.ys(e,mp(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,i){return n_(n)||i.isEqual(ie.min())?F.resolve(null):this.ps.getDocuments(e,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?F.resolve(null):(ds()<=pe.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hs(n)),this.vs(e,o,n,YD(i,Ba)).next(a=>a))})}Ds(e,n){let r=new nt(_S(e));return n.forEach((i,s)=>{Ed(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return ds()<=pe.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",hs(n)),this.ps.getDocumentsMatchingQuery(e,n,ri.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="LocalStore",R4=3e8;class P4{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Fe(me),this.xs=new Ji(s=>ag(s),lg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function N4(t,e,n,r){return new P4(t,e,n,r)}async function WS(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ge();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function D4(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,p=f.keys();let S=F.resolve();return p.forEach(I=>{S=S.next(()=>d.getEntry(u,I)).next(w=>{const k=c.docVersions.get(I);xe(k!==null,48541),w.version.compareTo(k)<0&&(f.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),S.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ge();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function HS(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function O4(t,e){const n=se(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,f)));let S=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?S=S.withResumeToken(gt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(d.resumeToken,r)),i=i.insert(f,S),function(w,k,_){return w.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=R4?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,S,d)&&a.push(n.Pi.updateTargetData(s,S))});let u=gr(),c=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(L4(s,o,e.documentUpdates).next(d=>{u=d.ks,c=d.qs})),!r.isEqual(ie.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ms=i,s))}function L4(t,e,n){let r=ge(),i=ge();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):q(gg,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{ks:o,qs:i}})}function M4(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ig),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function V4(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new Ur(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function _p(t,e,n){const r=se(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vo(o))throw o;q(gg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function m_(t,e,n){const r=se(t);let i=ie.min(),s=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=se(u),p=f.xs.get(d);return p!==void 0?F.resolve(f.Ms.get(p)):f.Pi.getTargetData(c,d)}(r,o,jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:ie.min(),n?s:ge())).next(a=>(j4(r,SO(e),a),{documents:a,Qs:s})))}function j4(t,e,n){let r=t.Os.get(e)||ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class g_{constructor(){this.activeTargetIds=AO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F4{constructor(){this.Mo=new g_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new g_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="ConnectivityMonitor";class v_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(y_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){q(y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su=null;function Ep(){return su===null?su=function(){return 268435456+Math.round(2147483648*Math.random())}():su++,"0x"+su.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="RestConnection",z4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===bc?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=Ep(),a=this.zo(e,n.toUriEncodedString());q(Wh,`Sending RPC '${e}' ${o}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:c}=new URL(a),d=fo(c);return this.Jo(e,a,u,r,d).then(f=>(q(Wh,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Js(Wh,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+go}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=z4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class W4 extends B4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Ep();return new Promise((a,u)=>{const c=new G1;c.setWithCredentials(!0),c.listenOnce(K1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Lu.NO_ERROR:const f=c.getResponseJson();q(St,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Lu.TIMEOUT:q(St,`RPC '${e}' ${o} timed out`),u(new J(U.DEADLINE_EXCEEDED,"Request time out"));break;case Lu.HTTP_ERROR:const p=c.getStatus();if(q(St,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let S=c.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S==null?void 0:S.error;if(I&&I.status&&I.message){const w=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(I.status);u(new J(w,I.message))}else u(new J(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new J(U.UNAVAILABLE,"Connection failed."));break;default:te(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{q(St,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);q(St,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}T_(e,n,r){const i=Ep(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=X1(),a=Y1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");q(St,`Creating RPC '${e}' stream ${i}: ${d}`,u);const f=o.createWebChannel(d,u);this.I_(f);let p=!1,S=!1;const I=new $4({Yo:k=>{S?q(St,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(p||(q(St,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),q(St,`RPC '${e}' stream ${i} sending:`,k),f.send(k))},Zo:()=>f.close()}),w=(k,_,y)=>{k.listen(_,T=>{try{y(T)}catch(D){setTimeout(()=>{throw D},0)}})};return w(f,ra.EventType.OPEN,()=>{S||(q(St,`RPC '${e}' stream ${i} transport opened.`),I.o_())}),w(f,ra.EventType.CLOSE,()=>{S||(S=!0,q(St,`RPC '${e}' stream ${i} transport closed`),I.a_(),this.E_(f))}),w(f,ra.EventType.ERROR,k=>{S||(S=!0,Js(St,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),I.a_(new J(U.UNAVAILABLE,"The operation could not be completed")))}),w(f,ra.EventType.MESSAGE,k=>{var _;if(!S){const y=k.data[0];xe(!!y,16349);const T=y,D=(T==null?void 0:T.error)||((_=T[0])==null?void 0:_.error);if(D){q(St,`RPC '${e}' stream ${i} received error:`,D);const O=D.status;let V=function(C){const A=Ke[C];if(A!==void 0)return NS(A)}(O),E=D.message;V===void 0&&(V=U.INTERNAL,E="Unknown error status: "+O+" with message "+D.message),S=!0,I.a_(new J(V,E)),f.close()}else q(St,`RPC '${e}' stream ${i} received:`,y),I.u_(y)}}),w(a,Q1.STAT_EVENT,k=>{k.stat===up.PROXY?q(St,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===up.NOPROXY&&q(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Hh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t){return new KO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="PersistentStream";class GS{constructor(e,n,r,i,s,o,a,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new J(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(w_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(q(w_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H4 extends GS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=XO(this.serializer,e),r=function(s){if(!("targetChange"in s))return ie.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?Fn(o.readTime):ie.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=wp(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=pp(u)?{documents:e4(s,u)}:{query:t4(s,u).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=LS(s,o.resumeToken);const c=gp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=Dc(s,o.snapshotVersion.toTimestamp());const c=gp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=r4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=wp(this.serializer),n.removeTarget=e,this.q_(n)}}class q4 extends GS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ZO(e.writeResults,e.commitTime),r=Fn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=wp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>JO(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{}class K4 extends G4{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,yp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(U.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,yp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Q4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mr(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="RemoteStore";class Y4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{es(this)&&(q(Wi,"Restarting streams for network reachability change."),await async function(u){const c=se(u);c.Ea.add(4),await hl(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Cd(c)}(this))})}),this.Ra=new Q4(r,i)}}async function Cd(t){if(es(t))for(const e of t.da)await e(!0)}async function hl(t){for(const e of t.da)await e(!1)}function KS(t,e){const n=se(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_g(n)?wg(n):wo(n).O_()&&vg(n,e))}function yg(t,e){const n=se(t),r=wo(n);n.Ia.delete(e),r.O_()&&QS(n,e),n.Ia.size===0&&(r.O_()?r.L_():es(n)&&n.Ra.set("Unknown"))}function vg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(t).Y_(e)}function QS(t,e){t.Va.Ue(e),wo(t).Z_(e)}function wg(t){t.Va=new WO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wo(t).start(),t.Ra.ua()}function _g(t){return es(t)&&!wo(t).x_()&&t.Ia.size>0}function es(t){return se(t).Ea.size===0}function YS(t){t.Va=void 0}async function X4(t){t.Ra.set("Online")}async function J4(t){t.Ia.forEach((e,n)=>{vg(t,e)})}async function Z4(t,e){YS(t),_g(t)?(t.Ra.ha(e),wg(t)):t.Ra.set("Unknown")}async function eL(t,e,n){if(t.Ra.set("Online"),e instanceof OS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){q(Wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Lc(t,r)}else if(e instanceof Fu?t.Va.Ze(e):e instanceof DS?t.Va.st(e):t.Va.tt(e),!n.isEqual(ie.min()))try{const r=await HS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(gt.EMPTY_BYTE_STRING,d.snapshotVersion)),QS(s,u);const f=new Ur(d.target,u,c,d.sequenceNumber);vg(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(Wi,"Failed to raise snapshot:",r),await Lc(t,r)}}async function Lc(t,e,n){if(!vo(e))throw e;t.Ea.add(1),await hl(t),t.Ra.set("Offline"),n||(n=()=>HS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(Wi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cd(t)})}function XS(t,e){return e().catch(n=>Lc(t,n,e))}async function bd(t){const e=se(t),n=ai(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ig;for(;tL(e);)try{const i=await M4(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,nL(e,i)}catch(i){await Lc(e,i)}JS(e)&&ZS(e)}function tL(t){return es(t)&&t.Ta.length<10}function nL(t,e){t.Ta.push(e);const n=ai(t);n.O_()&&n.X_&&n.ea(e.mutations)}function JS(t){return es(t)&&!ai(t).x_()&&t.Ta.length>0}function ZS(t){ai(t).start()}async function rL(t){ai(t).ra()}async function iL(t){const e=ai(t);for(const n of t.Ta)e.ea(n.mutations)}async function sL(t,e,n){const r=t.Ta.shift(),i=cg.from(r,e,n);await XS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await bd(t)}async function oL(t,e){e&&ai(t).X_&&await async function(r,i){if(function(o){return zO(o)&&o!==U.ABORTED}(i.code)){const s=r.Ta.shift();ai(r).B_(),await XS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await bd(r)}}(t,e),JS(t)&&ZS(t)}async function __(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),q(Wi,"RemoteStore received new credentials");const r=es(n);n.Ea.add(3),await hl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cd(n)}async function aL(t,e){const n=se(t);e?(n.Ea.delete(2),await Cd(n)):e||(n.Ea.add(2),await hl(n),n.Ra.set("Unknown"))}function wo(t){return t.ma||(t.ma=function(n,r,i){const s=se(n);return s.sa(),new H4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:X4.bind(null,t),t_:J4.bind(null,t),r_:Z4.bind(null,t),H_:eL.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),_g(t)?wg(t):t.Ra.set("Unknown")):(await t.ma.stop(),YS(t))})),t.ma}function ai(t){return t.fa||(t.fa=function(n,r,i){const s=se(n);return s.sa(),new q4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:rL.bind(null,t),r_:oL.bind(null,t),ta:iL.bind(null,t),na:sL.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await bd(t)):(await t.fa.stop(),t.Ta.length>0&&(q(Wi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Eg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(t,e){if(mr("AsyncQueue",`${e}: ${t}`),vo(t))return new J(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{static emptySet(e){return new Vs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=ia(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.ga=new Fe(ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ro{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ro(e,n,Vs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class uL{constructor(){this.queries=x_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=se(n),s=i.queries;i.queries=x_(),s.forEach((o,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new J(U.ABORTED,"Firestore shutting down"))}}function x_(){return new Ji(t=>wS(t),_d)}async function cL(t,e){const n=se(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new lL,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=xg(o,`Initialization of query '${hs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Sg(n)}async function dL(t,e){const n=se(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hL(t,e){const n=se(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&Sg(n)}function fL(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Sg(t){t.Ca.forEach(e=>{e.next()})}var xp,S_;(S_=xp||(xp={})).Ma="default",S_.Cache="cache";class pL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.key=e}}class tT{constructor(e){this.key=e}}class mL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=_S(e),this.tu=new Vs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new E_,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),S=Ed(this.query,f)?f:null,I=!!p&&this.mutatedKeys.has(p.key),w=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let k=!1;p&&S?p.data.isEqual(S.data)?I!==w&&(r.track({type:3,doc:S}),k=!0):this.su(p,S)||(r.track({type:2,doc:S}),k=!0,(u&&this.eu(S,u)>0||c&&this.eu(S,c)<0)&&(a=!0)):!p&&S?(r.track({type:0,doc:S}),k=!0):p&&!S&&(r.track({type:1,doc:p}),k=!0,(u||c)&&(a=!0)),k&&(S?(o=o.add(S),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(S,I){const w=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te(20277,{Rt:k})}};return w(S)-w(I)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,c=u!==this.Za;return this.Za=u,o.length!==0||c?{snapshot:new ro(this.query,e.tu,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ge(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new tT(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new eT(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tg="SyncEngine";class gL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yL{constructor(e){this.key=e,this.hu=!1}}class vL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ji(a=>wS(a),_d),this.Iu=new Map,this.Eu=new Set,this.du=new Fe(ee.comparator),this.Au=new Map,this.Ru=new fg,this.Vu={},this.mu=new Map,this.fu=no.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wL(t,e,n=!0){const r=aT(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await nT(r,e,n,!0),i}async function _L(t,e){const n=aT(t);await nT(n,e,!0,!1)}async function nT(t,e,n,r){const i=await V4(t.localStore,jn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await EL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&KS(t.remoteStore,i),a}async function EL(t,e,n,r,i){t.pu=(f,p,S)=>async function(w,k,_,y){let T=k.view.ru(_);T.Cs&&(T=await m_(w.localStore,k.query,!1).then(({documents:E})=>k.view.ru(E,T)));const D=y&&y.targetChanges.get(k.targetId),O=y&&y.targetMismatches.get(k.targetId)!=null,V=k.view.applyChanges(T,w.isPrimaryClient,D,O);return I_(w,k.targetId,V.au),V.snapshot}(t,f,p,S);const s=await m_(t.localStore,e,!0),o=new mL(e,s.Qs),a=o.ru(s.documents),u=dl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);I_(t,n,c.au);const d=new gL(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function xL(t,e,n){const r=se(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!_d(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _p(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yg(r.remoteStore,i.targetId),Sp(r,i.targetId)}).catch(yo)):(Sp(r,i.targetId),await _p(r.localStore,i.targetId,!0))}async function SL(t,e){const n=se(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yg(n.remoteStore,r.targetId))}async function TL(t,e,n){const r=PL(t);try{const i=await function(o,a){const u=se(o),c=Ae.now(),d=a.reduce((S,I)=>S.add(I.key),ge());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",S=>{let I=gr(),w=ge();return u.Ns.getEntries(S,d).next(k=>{I=k,I.forEach((_,y)=>{y.isValidDocument()||(w=w.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(S,I)).next(k=>{f=k;const _=[];for(const y of a){const T=MO(y,f.get(y.key).overlayedDocument);T!=null&&_.push(new Zi(y.key,T,dS(T.value.mapValue),or.exists(!0)))}return u.mutationQueue.addMutationBatch(S,c,_,a)}).next(k=>{p=k;const _=k.applyToLocalDocumentSet(f,w);return u.documentOverlayCache.saveOverlays(S,k.batchId,_)})}).then(()=>({batchId:p.batchId,changes:xS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Vu[o.currentUser.toKey()];c||(c=new Fe(me)),c=c.insert(a,u),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await fl(r,i.changes),await bd(r.remoteStore)}catch(i){const s=xg(i,"Failed to persist write");n.reject(s)}}async function rT(t,e){const n=se(t);try{const r=await O4(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?xe(o.hu,14607):i.removedDocuments.size>0&&(xe(o.hu,42227),o.hu=!1))}),await fl(n,r,e)}catch(r){await yo(r)}}function T_(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=se(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(a)&&(c=!0)}),c&&Sg(u)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IL(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Fe(ee.comparator);o=o.insert(s,Ct.newNoDocument(s,ie.min()));const a=ge().add(s),u=new Td(ie.min(),new Map,new Fe(me),o,a);await rT(r,u),r.du=r.du.remove(s),r.Au.delete(e),Ig(r)}else await _p(r.localStore,e,!1).then(()=>Sp(r,e,n)).catch(yo)}async function CL(t,e){const n=se(t),r=e.batch.batchId;try{const i=await D4(n.localStore,e);sT(n,r,null),iT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fl(n,i)}catch(i){await yo(i)}}async function bL(t,e,n){const r=se(t);try{const i=await function(o,a){const u=se(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(xe(f!==null,37113),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);sT(r,e,n),iT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fl(r,i)}catch(i){await yo(i)}}function iT(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function sT(t,e,n){const r=se(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Sp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||oT(t,r)})}function oT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(yg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ig(t))}function I_(t,e,n){for(const r of n)r instanceof eT?(t.Ru.addReference(r.key,e),kL(t,r)):r instanceof tT?(q(Tg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||oT(t,r.key)):te(19791,{wu:r})}function kL(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(q(Tg,"New document in limbo: "+n),t.Eu.add(r),Ig(t))}function Ig(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ee(ke.fromString(e)),r=t.fu.next();t.Au.set(r,new yL(n)),t.du=t.du.insert(n,r),KS(t.remoteStore,new Ur(jn(vS(n.path)),r,"TargetPurposeLimboResolution",gd.ce))}}async function fl(t,e,n){const r=se(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{o.push(r.pu(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=mg.As(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(u,c){const d=se(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(c,p=>F.forEach(p.Es,S=>d.persistence.referenceDelegate.addReference(f,p.targetId,S)).next(()=>F.forEach(p.ds,S=>d.persistence.referenceDelegate.removeReference(f,p.targetId,S)))))}catch(f){if(!vo(f))throw f;q(gg,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const S=d.Ms.get(p),I=S.snapshotVersion,w=S.withLastLimboFreeSnapshotVersion(I);d.Ms=d.Ms.insert(p,w)}}}(r.localStore,s))}async function AL(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){q(Tg,"User change. New user:",e.toKey());const r=await WS(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(u=>{u.reject(new J(U.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fl(n,r.Ls)}}function RL(t,e){const n=se(t),r=n.Au.get(e);if(r&&r.hu)return ge().add(r.key);{let i=ge();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function aT(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IL.bind(null,e),e.Pu.H_=hL.bind(null,e.eventManager),e.Pu.yu=fL.bind(null,e.eventManager),e}function PL(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bL.bind(null,e),e}class Mc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Id(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return N4(this.persistence,new A4,e.initialUser,this.serializer)}Cu(e){return new $S(pg.mi,this.serializer)}Du(e){return new F4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mc.provider={build:()=>new Mc};class NL extends Mc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xe(this.persistence.referenceDelegate instanceof Oc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new p4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vt.withCacheSize(this.cacheSizeBytes):Vt.DEFAULT;return new $S(r=>Oc.mi(r,n),this.serializer)}}class Tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>T_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AL.bind(null,this.syncEngine),await aL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uL}()}createDatastore(e){const n=Id(e.databaseInfo.databaseId),r=function(s){return new W4(s)}(e.databaseInfo);return function(s,o,a,u){return new K4(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Y4(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>T_(this.syncEngine,n,0),function(){return v_.v()?new v_:new U4}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,d){const f=new vL(i,s,o,a,u,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=se(i);q(Wi,"RemoteStore shutting down."),s.Ea.add(5),await hl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Tp.provider={build:()=>new Tp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="FirestoreClient";class OL{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tt.UNAUTHENTICATED,this.clientId=ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q(li,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(li,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qh(t,e){t.asyncQueue.verifyOperationInProgress(),q(li,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await WS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function C_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LL(t);q(li,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>__(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>__(e.remoteStore,i)),t._onlineComponents=e}async function LL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(li,"Using user provided OfflineComponentProvider");try{await qh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Js("Error using user provided cache. Falling back to memory cache: "+n),await qh(t,new Mc)}}else q(li,"Using default OfflineComponentProvider"),await qh(t,new NL(void 0));return t._offlineComponents}async function lT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(li,"Using user provided OnlineComponentProvider"),await C_(t,t._uninitializedComponentsProvider._online)):(q(li,"Using default OnlineComponentProvider"),await C_(t,new Tp))),t._onlineComponents}function ML(t){return lT(t).then(e=>e.syncEngine)}async function VL(t){const e=await lT(t),n=e.eventManager;return n.onListen=wL.bind(null,e.syncEngine),n.onUnlisten=xL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_L.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SL.bind(null,e.syncEngine),n}function jL(t,e,n={}){const r=new Zr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new DL({next:p=>{d.Nu(),o.enqueueAndForget(()=>dL(s,f)),p.fromCache&&u.source==="server"?c.reject(new J(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new pL(a,d,{includeMetadataChanges:!0,qa:!0});return cL(s,f)}(await VL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="firestore.googleapis.com",k_=!0;class A_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cT,this.ssl=k_}else this.host=e.host,this.ssl=e.ssl??k_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h4)throw new J(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uT(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FD;switch(r.type){case"firstParty":return new $D(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=b_.get(n);r&&(q("ComponentProvider","Removing Datastore"),b_.delete(n),r.terminate())}(this),Promise.resolve()}}function FL(t,e,n,r={}){var c;t=Ic(t,kd);const i=fo(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(a1(`https://${a}`),l1("Firestore",!0)),s.host!==cT&&s.host!==a&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:a,ssl:i,emulatorOptions:r};if(!Ui(u,o)&&(t._setSettings(u),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Tt.MOCK_USER;else{d=dP(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new J(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Tt(p)}t._authCredentials=new UD(new Z1(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ad(this.firestore,e,this._query)}}class ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ul(n,ft._jsonSchema))return new ft(e,r||null,new ee(ke.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:Xe("string",ft._jsonSchemaVersion),referencePath:Xe("string")};class ei extends Ad{constructor(e,n,r){super(e,n,vS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new ee(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function Cg(t,e,...n){if(t=cn(t),eS("collection","path",e),t instanceof kd){const r=ke.fromString(e,...n);return $w(r),new ei(t,null,r)}{if(!(t instanceof ft||t instanceof ei))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return $w(r),new ei(t.firestore,null,r)}}function UL(t,e,...n){if(t=cn(t),arguments.length===1&&(e=ng.newId()),eS("doc","path",e),t instanceof kd){const r=ke.fromString(e,...n);return Bw(r),new ft(t,null,new ee(r))}{if(!(t instanceof ft||t instanceof ei))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return Bw(r),new ft(t.firestore,t instanceof ei?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="AsyncQueue";class P_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qS(this,"async_queue_retry"),this._c=()=>{const r=Hh();r&&q(R_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Hh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Zr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vo(e))throw e;q(R_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,mr("INTERNAL UNHANDLED ERROR: ",N_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Eg.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&te(47125,{Pc:N_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function N_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class bg extends kd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new P_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P_(e),this._firestoreClient=void 0,await e}}}function zL(t,e){const n=typeof t=="object"?t:h1(),r=typeof t=="string"?t:bc,i=Hm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=uP("firestore");s&&FL(i,...s)}return i}function dT(t){if(t._terminated)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BL(t),t._firestoreClient}function BL(t){var r,i,s;const e=t._freezeSettings(),n=function(a,u,c,d){return new oO(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,uT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new OL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rn(gt.fromBase64String(e))}catch(n){throw new J(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rn(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:rn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ul(e,rn._jsonSchema))return rn.fromBase64String(e.bytes)}}rn._jsonSchemaVersion="firestore/bytes/1.0",rn._jsonSchema={type:Xe("string",rn._jsonSchemaVersion),bytes:Xe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Un._jsonSchemaVersion}}static fromJSON(e){if(ul(e,Un._jsonSchema))return new Un(e.latitude,e.longitude)}}Un._jsonSchemaVersion="firestore/geoPoint/1.0",Un._jsonSchema={type:Xe("string",Un._jsonSchemaVersion),latitude:Xe("number"),longitude:Xe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ul(e,zn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new zn(e.vectorValues);throw new J(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zn._jsonSchemaVersion="firestore/vectorValue/1.0",zn._jsonSchema={type:Xe("string",zn._jsonSchemaVersion),vectorValues:Xe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=/^__.*__$/;class WL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new cl(e,this.data,n,this.fieldTransforms)}}function fT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te(40011,{Ac:t})}}class Ag{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ag({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fT(this.Ac)&&$L.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class HL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Id(e)}Cc(e,n,r,i=!1){return new Ag({Ac:e,methodName:n,Dc:r,path:ht.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qL(t){const e=t._freezeSettings(),n=Id(t._databaseId);return new HL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GL(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);yT("Data must be an object, but it was:",o,r);const a=mT(r,o);let u,c;if(s.merge)u=new wn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=KL(e,f,n);if(!o.contains(p))throw new J(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);YL(d,p)||d.push(p)}u=new wn(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new WL(new nn(a),u,c)}function pT(t,e){if(gT(t=cn(t)))return yT("Unsupported field value:",e,t),mT(t,e);if(t instanceof hT)return function(r,i){if(!fT(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=pT(a,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ae.fromDate(r);return{timestampValue:Dc(i.serializer,s)}}if(r instanceof Ae){const s=new Ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dc(i.serializer,s)}}if(r instanceof Un)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rn)return{bytesValue:LS(i.serializer,r._byteString)};if(r instanceof ft){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zn)return function(o,a){return{mapValue:{fields:{[uS]:{stringValue:cS},[kc]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return ug(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${rg(r)}`)}(t,e)}function mT(t,e){const n={};return rS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(t,(r,i)=>{const s=pT(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function gT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ae||t instanceof Un||t instanceof rn||t instanceof ft||t instanceof hT||t instanceof zn)}function yT(t,e,n){if(!gT(n)||!tS(n)){const r=rg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function KL(t,e,n){if((e=cn(e))instanceof kg)return e._internalPath;if(typeof e=="string")return vT(t,e);throw Vc("Field path arguments must be of type string or ",t,!1,void 0,n)}const QL=new RegExp("[~\\*/\\[\\]]");function vT(t,e,n){if(e.search(QL)>=0)throw Vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kg(...e.split("."))._internalPath}catch{throw Vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new J(U.INVALID_ARGUMENT,a+t+u)}function YL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_T("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XL extends wT{data(){return super.data()}}function _T(t,e){return typeof e=="string"?vT(t,e):e instanceof kg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZL{convertValue(e,n="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[kc].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>He(o.doubleValue));return new zn(n)}convertGeoPoint(e){return new Un(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=vd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($a(e));default:return null}}convertTimestamp(e){const n=ii(e);return new Ae(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);xe(zS(r),9688,{name:e});const i=new Wa(r.get(1),r.get(3)),s=new ee(r.popFirst(5));return i.isEqual(n)||mr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class js extends wT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_T("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=js._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}js._jsonSchemaVersion="firestore/documentSnapshot/1.0",js._jsonSchema={type:Xe("string",js._jsonSchemaVersion),bundleSource:Xe("string","DocumentSnapshot"),bundleName:Xe("string"),bundle:Xe("string")};class Uu extends js{data(e={}){return super.data(e)}}class Fs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ou(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uu(this._firestore,this._userDataWriter,r.key,r,new ou(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Uu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ou(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Uu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ou(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:tM(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te(61501,{type:t})}}Fs._jsonSchemaVersion="firestore/querySnapshot/1.0",Fs._jsonSchema={type:Xe("string",Fs._jsonSchemaVersion),bundleSource:Xe("string","QuerySnapshot"),bundleName:Xe("string"),bundle:Xe("string")};class nM extends ZL{constructor(e){super(),this.firestore=e}convertBytes(e){return new rn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function ET(t){t=Ic(t,Ad);const e=Ic(t.firestore,bg),n=dT(e),r=new nM(e);return JL(t._query),jL(n,t._query).then(i=>new Fs(e,r,t,i))}function rM(t,e){const n=Ic(t.firestore,bg),r=UL(t),i=eM(t.converter,e);return iM(n,[GL(qL(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,or.exists(!1))]).then(()=>r)}function iM(t,e){return function(r,i){const s=new Zr;return r.asyncQueue.enqueueAndForget(async()=>TL(await ML(r),i,s)),s.promise}(dT(t),e)}(function(e,n=!0){(function(i){go=i})(po),Ys(new zi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new bg(new zD(r.getProvider("auth-internal")),new WD(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(c.options.projectId,d)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Xr(jw,Fw,e),Xr(jw,Fw,"esm2020")})();const sM={apiKey:"AIzaSyB1U1EwlmM_kxG_1BYflfgLOujVyGNRyQA",authDomain:"veho-7fea1.firebaseapp.com",projectId:"veho-7fea1",storageBucket:"veho-7fea1.appspot.com",messagingSenderId:"488503249745",appId:"1:488503249745:web:91062e506bdb5383d26170",measurementId:"G-SVZWH7JQE5"},xT=d1(sM),ST=LD(xT),Rg=zL(xT);function _o(){const[t,e]=Dt(Bm);return x.useEffect(()=>{const n=T2(ST,r=>{e(r)});return()=>n()},[e]),t}const dn=Fx("hu");function D_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function TT(...t){return e=>{let n=!1;const r=t.map(i=>{const s=D_(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():D_(t[i],null)}}}}function yt(...t){return x.useCallback(TT(...t),t)}function Ka(t){const e=aM(t),n=x.forwardRef((r,i)=>{const{children:s,...o}=r,a=x.Children.toArray(s),u=a.find(uM);if(u){const c=u.props.children,d=a.map(f=>f===u?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return g.jsx(e,{...o,ref:i,children:x.isValidElement(c)?x.cloneElement(c,void 0,d):null})}return g.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var oM=Ka("Slot");function aM(t){const e=x.forwardRef((n,r)=>{const{children:i,...s}=n;if(x.isValidElement(i)){const o=dM(i),a=cM(s,i.props);return i.type!==x.Fragment&&(a.ref=r?TT(r,o):o),x.cloneElement(i,a)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var lM=Symbol("radix.slottable");function uM(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lM}function cM(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const u=s(...a);return i(...a),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function dM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function IT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=IT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function CT(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=IT(t))&&(r&&(r+=" "),r+=e);return r}const O_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,L_=CT,bT=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return L_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],f=s==null?void 0:s[c];if(d===null)return null;const p=O_(d)||O_(f);return i[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...S}=d;return Object.entries(S).every(I=>{let[w,k]=I;return Array.isArray(k)?k.includes({...s,...a}[w]):{...s,...a}[w]===k})?[...c,f,p]:c},[]);return L_(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},Pg="-",hM=t=>{const e=pM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Pg);return a[0]===""&&a.length!==1&&a.shift(),kT(a,e)||fM(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},kT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?kT(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Pg);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},M_=/^\[(.+)\]$/,fM=t=>{if(M_.test(t)){const e=M_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},pM=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)Ip(n[i],r,i,e);return r},Ip=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:V_(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(mM(i)){Ip(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Ip(o,V_(e,s),n,r)})})},V_=(t,e)=>{let n=t;return e.split(Pg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},mM=t=>t.isThemeGetter,gM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Cp="!",bp=":",yM=bp.length,vM=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,u=0,c;for(let I=0;I<i.length;I++){let w=i[I];if(o===0&&a===0){if(w===bp){s.push(i.slice(u,I)),u=I+yM;continue}if(w==="/"){c=I;continue}}w==="["?o++:w==="]"?o--:w==="("?a++:w===")"&&a--}const d=s.length===0?i:i.substring(u),f=wM(d),p=f!==d,S=c&&c>u?c-u:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:S}};if(e){const i=e+bp,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},wM=t=>t.endsWith(Cp)?t.substring(0,t.length-1):t.startsWith(Cp)?t.substring(1):t,_M=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},EM=t=>({cache:gM(t.cacheSize),parseClassName:vM(t),sortModifiers:_M(t),...hM(t)}),xM=/\s+/,SM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(xM);let u="";for(let c=a.length-1;c>=0;c-=1){const d=a[c],{isExternal:f,modifiers:p,hasImportantModifier:S,baseClassName:I,maybePostfixModifierPosition:w}=n(d);if(f){u=d+(u.length>0?" "+u:u);continue}let k=!!w,_=r(k?I.substring(0,w):I);if(!_){if(!k){u=d+(u.length>0?" "+u:u);continue}if(_=r(I),!_){u=d+(u.length>0?" "+u:u);continue}k=!1}const y=s(p).join(":"),T=S?y+Cp:y,D=T+_;if(o.includes(D))continue;o.push(D);const O=i(_,k);for(let V=0;V<O.length;++V){const E=O[V];o.push(T+E)}u=d+(u.length>0?" "+u:u)}return u};function TM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=AT(e))&&(r&&(r+=" "),r+=n);return r}const AT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=AT(t[r]))&&(n&&(n+=" "),n+=e);return n};function IM(t,...e){let n,r,i,s=o;function o(u){const c=e.reduce((d,f)=>f(d),t());return n=EM(c),r=n.cache.get,i=n.cache.set,s=a,a(u)}function a(u){const c=r(u);if(c)return c;const d=SM(u,n);return i(u,d),d}return function(){return s(TM.apply(null,arguments))}}const Je=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},RT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,PT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,CM=/^\d+\/\d+$/,bM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,AM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,RM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,os=t=>CM.test(t),ae=t=>!!t&&!Number.isNaN(Number(t)),br=t=>!!t&&Number.isInteger(Number(t)),Gh=t=>t.endsWith("%")&&ae(t.slice(0,-1)),Xn=t=>bM.test(t),NM=()=>!0,DM=t=>kM.test(t)&&!AM.test(t),NT=()=>!1,OM=t=>RM.test(t),LM=t=>PM.test(t),MM=t=>!Q(t)&&!Y(t),VM=t=>Eo(t,LT,NT),Q=t=>RT.test(t),Si=t=>Eo(t,MT,DM),Kh=t=>Eo(t,BM,ae),j_=t=>Eo(t,DT,NT),jM=t=>Eo(t,OT,LM),au=t=>Eo(t,VT,OM),Y=t=>PT.test(t),Xo=t=>xo(t,MT),FM=t=>xo(t,$M),F_=t=>xo(t,DT),UM=t=>xo(t,LT),zM=t=>xo(t,OT),lu=t=>xo(t,VT,!0),Eo=(t,e,n)=>{const r=RT.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},xo=(t,e,n=!1)=>{const r=PT.exec(t);return r?r[1]?e(r[1]):n:!1},DT=t=>t==="position"||t==="percentage",OT=t=>t==="image"||t==="url",LT=t=>t==="length"||t==="size"||t==="bg-size",MT=t=>t==="length",BM=t=>t==="number",$M=t=>t==="family-name",VT=t=>t==="shadow",WM=()=>{const t=Je("color"),e=Je("font"),n=Je("text"),r=Je("font-weight"),i=Je("tracking"),s=Je("leading"),o=Je("breakpoint"),a=Je("container"),u=Je("spacing"),c=Je("radius"),d=Je("shadow"),f=Je("inset-shadow"),p=Je("text-shadow"),S=Je("drop-shadow"),I=Je("blur"),w=Je("perspective"),k=Je("aspect"),_=Je("ease"),y=Je("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...D(),Y,Q],V=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],v=()=>[Y,Q,u],C=()=>[os,"full","auto",...v()],A=()=>[br,"none","subgrid",Y,Q],P=()=>["auto",{span:["full",br,Y,Q]},br,Y,Q],N=()=>[br,"auto",Y,Q],R=()=>["auto","min","max","fr",Y,Q],K=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...v()],H=()=>[os,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],L=()=>[t,Y,Q],$=()=>[...D(),F_,j_,{position:[Y,Q]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],he=()=>["auto","cover","contain",UM,VM,{size:[Y,Q]}],le=()=>[Gh,Xo,Si],oe=()=>["","none","full",c,Y,Q],we=()=>["",ae,Xo,Si],We=()=>["solid","dashed","dotted","double"],Ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>[ae,Gh,F_,j_],Ee=()=>["","none",I,Y,Q],Oe=()=>["none",ae,Y,Q],fe=()=>["none",ae,Y,Q],ue=()=>[ae,Y,Q],ce=()=>[os,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xn],breakpoint:[Xn],color:[NM],container:[Xn],"drop-shadow":[Xn],ease:["in","out","in-out"],font:[MM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xn],shadow:[Xn],spacing:["px",ae],text:[Xn],"text-shadow":[Xn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",os,Q,Y,k]}],container:["container"],columns:[{columns:[ae,Q,Y,a]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[br,"auto",Y,Q]}],basis:[{basis:[os,"full","auto",a,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ae,os,"auto","initial","none",Q]}],grow:[{grow:["",ae,Y,Q]}],shrink:[{shrink:["",ae,Y,Q]}],order:[{order:[br,"first","last","none",Y,Q]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[a,"screen",...H()]}],"min-w":[{"min-w":[a,"screen","none",...H()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",n,Xo,Si]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Y,Kh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gh,Q]}],"font-family":[{font:[FM,Q,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Y,Q]}],"line-clamp":[{"line-clamp":[ae,"none",Y,Kh]}],leading:[{leading:[s,...v()]}],"list-image":[{"list-image":["none",Y,Q]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Y,Q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...We(),"wavy"]}],"text-decoration-thickness":[{decoration:[ae,"from-font","auto",Y,Si]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[ae,"auto",Y,Q]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Y,Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Y,Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:he()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},br,Y,Q],radial:["",Y,Q],conic:[br,Y,Q]},zM,jM]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:le()}],"gradient-via-pos":[{via:le()}],"gradient-to-pos":[{to:le()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:oe()}],"rounded-s":[{"rounded-s":oe()}],"rounded-e":[{"rounded-e":oe()}],"rounded-t":[{"rounded-t":oe()}],"rounded-r":[{"rounded-r":oe()}],"rounded-b":[{"rounded-b":oe()}],"rounded-l":[{"rounded-l":oe()}],"rounded-ss":[{"rounded-ss":oe()}],"rounded-se":[{"rounded-se":oe()}],"rounded-ee":[{"rounded-ee":oe()}],"rounded-es":[{"rounded-es":oe()}],"rounded-tl":[{"rounded-tl":oe()}],"rounded-tr":[{"rounded-tr":oe()}],"rounded-br":[{"rounded-br":oe()}],"rounded-bl":[{"rounded-bl":oe()}],"border-w":[{border:we()}],"border-w-x":[{"border-x":we()}],"border-w-y":[{"border-y":we()}],"border-w-s":[{"border-s":we()}],"border-w-e":[{"border-e":we()}],"border-w-t":[{"border-t":we()}],"border-w-r":[{"border-r":we()}],"border-w-b":[{"border-b":we()}],"border-w-l":[{"border-l":we()}],"divide-x":[{"divide-x":we()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":we()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...We(),"hidden","none"]}],"divide-style":[{divide:[...We(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...We(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ae,Y,Q]}],"outline-w":[{outline:["",ae,Xo,Si]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",d,lu,au]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",f,lu,au]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[ae,Si]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":we()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",p,lu,au]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[ae,Y,Q]}],"mix-blend":[{"mix-blend":[...Ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ae]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Y,Q]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[ae]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:he()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Y,Q]}],filter:[{filter:["","none",Y,Q]}],blur:[{blur:Ee()}],brightness:[{brightness:[ae,Y,Q]}],contrast:[{contrast:[ae,Y,Q]}],"drop-shadow":[{"drop-shadow":["","none",S,lu,au]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",ae,Y,Q]}],"hue-rotate":[{"hue-rotate":[ae,Y,Q]}],invert:[{invert:["",ae,Y,Q]}],saturate:[{saturate:[ae,Y,Q]}],sepia:[{sepia:["",ae,Y,Q]}],"backdrop-filter":[{"backdrop-filter":["","none",Y,Q]}],"backdrop-blur":[{"backdrop-blur":Ee()}],"backdrop-brightness":[{"backdrop-brightness":[ae,Y,Q]}],"backdrop-contrast":[{"backdrop-contrast":[ae,Y,Q]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ae,Y,Q]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ae,Y,Q]}],"backdrop-invert":[{"backdrop-invert":["",ae,Y,Q]}],"backdrop-opacity":[{"backdrop-opacity":[ae,Y,Q]}],"backdrop-saturate":[{"backdrop-saturate":[ae,Y,Q]}],"backdrop-sepia":[{"backdrop-sepia":["",ae,Y,Q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Y,Q]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ae,"initial",Y,Q]}],ease:[{ease:["linear","initial",_,Y,Q]}],delay:[{delay:[ae,Y,Q]}],animate:[{animate:["none",y,Y,Q]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Y,Q]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:Oe()}],"rotate-x":[{"rotate-x":Oe()}],"rotate-y":[{"rotate-y":Oe()}],"rotate-z":[{"rotate-z":Oe()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:ue()}],"skew-x":[{"skew-x":ue()}],"skew-y":[{"skew-y":ue()}],transform:[{transform:[Y,Q,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ce()}],"translate-x":[{"translate-x":ce()}],"translate-y":[{"translate-y":ce()}],"translate-z":[{"translate-z":ce()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Y,Q]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Y,Q]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[ae,Xo,Si,Kh]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},HM=IM(WM);function ot(...t){return HM(CT(t))}const qM=bT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Me=x.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?oM:"button";return g.jsx(o,{className:ot(qM({variant:e,size:n,className:t})),ref:s,...i})});Me.displayName="Button";const GM={hu:{text:"Tovbbi informci"},en:{text:"Read More"}};function U_({onClick:t}){const[e]=Dt(dn);return g.jsx(Me,{onClick:t,variant:"outline",className:"text-indigo-500 border-indigo-500 hover:bg-indigo-50 dark:hover:bg-indigo-950",children:GM[e].text})}/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),z_=t=>{const e=QM(t);return e.charAt(0).toUpperCase()+e.slice(1)},jT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),YM=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},u)=>x.createElement("svg",{ref:u,...XM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:jT("lucide",i),...!s&&!YM(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,d])=>x.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=x.forwardRef(({className:r,...i},s)=>x.createElement(JM,{ref:s,iconNode:e,className:jT(`lucide-${KM(z_(t))}`,`lucide-${t}`,r),...i}));return n.displayName=z_(t),n};/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],eV=Pe("check",ZM);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],FT=Pe("chevron-down",tV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rV=Pe("chevron-left",nV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sV=Pe("chevron-right",iV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],aV=Pe("chevron-up",oV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],B_=Pe("eye-off",lV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$_=Pe("eye",uV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],dV=Pe("facebook",cV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],fV=Pe("github",hV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],mV=Pe("globe",pV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],jc=Pe("heart",gV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Fc=Pe("lightbulb",yV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],W_=Pe("lock",vV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],_V=Pe("log-in",wV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xV=Pe("log-out",EV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],kp=Pe("mail",SV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],IV=Pe("moon",TV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],bV=Pe("phone",CV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],H_=Pe("rocket",kV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],RV=Pe("shield",AV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],NV=Pe("sparkles",PV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],OV=Pe("sun",DV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],q_=Pe("target",LV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],UT=Pe("user",MV);/**
 * @license lucide-react v0.535.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Uc=Pe("users",VV),jV={hu:{initial:{title:"dvzl a Veho!",subtitle:"Ahol az tletek valra vlnak",redButton:"Van tletem!",greenButton:"Segteni szeretnk!"},redButtonClicked:{title:"Oszd meg tletedet!",subtitle:"Hozd ltre a kvetkez nagy dolgot"},greenButtonClicked:{title:"Csatlakozz egy tlethez!",subtitle:"Segtsd megvalstani msok lmait"}},en:{initial:{title:"Welcome to Veho!",subtitle:"Where ideas become reality",redButton:"I have an idea!",greenButton:"I want to help!"},redButtonClicked:{title:"Share your idea!",subtitle:"Create the next big thing"},greenButtonClicked:{title:"Join an idea!",subtitle:"Help bring others' dreams to life"}}};function FV({scrollTargetRef:t}){const[e,n]=x.useState(!1),[r,i]=x.useState(!1),[s,o]=x.useState(!1),[a]=Dt(dn);x.useEffect(()=>{s&&t.current&&t.current.scrollIntoView({behavior:"smooth"})},[s,t]);const u=()=>{n(!0),i(!1)},c=()=>{i(!0),n(!1)},d=()=>{o(!0)},f=p=>jV[a][p];return g.jsxs("section",{className:"relative min-h-screen flex flex-col transition-all duration-500 overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[g.jsx("div",{className:"absolute top-1/4 left-1/6 w-64 h-64 bg-primary/10 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute bottom-1/4 right-1/6 w-80 h-80 bg-secondary/10 rounded-full blur-3xl animate-pulse animation-delay-1000"}),g.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-accent/5 rounded-full blur-3xl animate-pulse animation-delay-2000"})]}),g.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(6)].map((p,S)=>g.jsx("div",{className:"absolute w-2 h-2 bg-primary/20 rounded-full animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${S*.5}s`,animationDuration:`${3+Math.random()*2}s`}},S))}),g.jsx("div",{className:"flex-grow flex items-center justify-center relative z-10",children:g.jsx("div",{className:"text-center px-4 max-w-4xl mx-auto",children:e?g.jsxs("div",{className:"animate-fade-in",children:[g.jsxs("div",{className:"mb-8",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-primary/20 to-primary-600/20 rounded-full mb-6 backdrop-blur-sm border border-primary/30",children:g.jsx(Fc,{className:"w-10 h-10 text-primary animate-pulse"})}),g.jsx("h1",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-primary via-primary-600 to-primary-700 bg-clip-text text-transparent mb-4 tracking-tight",children:f("redButtonClicked").title}),g.jsx("p",{className:"text-xl md:text-2xl text-white/80 mb-8 font-light",children:f("redButtonClicked").subtitle})]}),g.jsx(U_,{onClick:d})]}):r?g.jsxs("div",{className:"animate-fade-in",children:[g.jsxs("div",{className:"mb-8",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-secondary/20 to-secondary-600/20 rounded-full mb-6 backdrop-blur-sm border border-secondary/30",children:g.jsx(Uc,{className:"w-10 h-10 text-secondary animate-pulse"})}),g.jsx("h1",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-secondary via-secondary-600 to-secondary-700 bg-clip-text text-transparent mb-4 tracking-tight",children:f("greenButtonClicked").title}),g.jsx("p",{className:"text-xl md:text-2xl text-white/80 mb-8 font-light",children:f("greenButtonClicked").subtitle})]}),g.jsx(U_,{onClick:d})]}):g.jsxs("div",{className:"animate-fade-in",children:[g.jsxs("div",{className:"mb-12",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gradient-to-r from-primary/20 via-accent/20 to-secondary/20 rounded-full mb-8 backdrop-blur-sm border border-white/20",children:g.jsx(NV,{className:"w-12 h-12 text-white animate-pulse"})}),g.jsx("h1",{className:"text-6xl md:text-7xl font-bold bg-gradient-to-r from-primary via-accent to-secondary bg-clip-text text-transparent mb-6 tracking-tight",children:f("initial").title}),g.jsx("p",{className:"text-2xl md:text-3xl text-white/90 mb-12 font-light tracking-wide",children:f("initial").subtitle})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-center items-center",children:[g.jsxs(Me,{onClick:u,className:"group relative px-8 py-4 bg-gradient-to-r from-primary/80 to-primary-600/80 hover:from-primary hover:to-primary-600 text-white font-semibold rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:shadow-primary/25 transform hover:scale-105 backdrop-blur-sm border border-primary/30",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(Fc,{className:"w-5 h-5 transition-transform group-hover:rotate-12"}),g.jsx("span",{className:"text-lg",children:f("initial").redButton})]}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-primary-600/20 rounded-xl blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-secondary/20 rounded-xl blur-md"}),g.jsx("div",{className:"relative bg-white/5 backdrop-blur-sm border border-white/20 rounded-xl p-1",children:g.jsx("span",{className:"text-white/60 text-sm px-4 py-2 block",children:a==="hu"?"vagy":"or"})})]}),g.jsxs(Me,{onClick:c,className:"group relative px-8 py-4 bg-gradient-to-r from-secondary/80 to-secondary-600/80 hover:from-secondary hover:to-secondary-600 text-white font-semibold rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:shadow-secondary/25 transform hover:scale-105 backdrop-blur-sm border border-secondary/30",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(Uc,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),g.jsx("span",{className:"text-lg",children:f("initial").greenButton})]}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-secondary/20 to-secondary-600/20 rounded-xl blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]})]})]})})}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/50 to-transparent"})]})}const as={hu:[{title:"Mi az a Veho?",description:"A Veho egy online platform, ahol knnyedn megoszthatod tleteidet msokkal, s egyttmkdhetsz azok megvalstsban, rszletesen bemutathatod tletedet s problmamegold kpessgt.",imagePath:"/idea.png",icon:Fc,gradient:"from-primary to-primary-600"},{title:"Van egy tletem, hogyan tudom megoszthatni?",description:'Az tletek megosztshoz regisztrlnod kell a Veho-ra, majd a foldalon tallhat "tlet megosztsa" gombra kattintva tudod feltlteni az tletedet.',imagePath:"/idea2.png",icon:q_,gradient:"from-accent to-accent-600"},{title:"Nincs tletem, de szeretnk segteni msoknak, hogyan tudom ezt megtenni?",description:'Regisztrlj a weboldalon s bngssz az tletek kztt, ha tallsz olyat, amiben segteni tudsz, rj a felhasznlnak s egyeztessetek a rszletekrl. Ha nincs tleted, de szeretnl segteni, akkor a foldalon tallhat "tletek" menpontban tudsz keresni.',imagePath:"/idea3.jpg",icon:jc,gradient:"from-secondary to-secondary-600"},{title:"Hogyan tudok csapatot tallni az tletem megvalstshoz?",description:'A Veho-n tallhat tletek kztt bngszve tallhatsz olyan tleteket, amelyek rdekelnek, s amelyekhez csatlakozni szeretnl. Az tlet oldaln tallhat "Csatlakozs" gombra kattintva tudod jelezni az tlet tulajdonosnak, hogy csatlakoznl az tlet megvalstshoz.',imagePath:"/group.jpg",icon:Uc,gradient:"from-primary to-accent"},{title:"Hny tletet tudok megosztani?",description:"Brmennyi tletet megoszthatsz, amennyit csak szeretnl, azonban arra krnk, hogy csak olyan tleteket osztass meg, amelyek valban megvalsthatak s rtket adnak a kzssgnek.",imagePath:"/idea3.png",icon:H_,gradient:"from-secondary to-primary"}],en:[{title:"What is Veho?",description:"Veho is an online platform where you can easily share your ideas with others, collaborate on their implementation, showcase your ideas in detail and demonstrate your problem-solving skills.",imagePath:"/idea.png",icon:Fc,gradient:"from-primary to-primary-600"},{title:"I have an idea, how can I share it?",description:'To share ideas, you need to register on Veho, then click on the "Share Idea" button on the homepage to upload your idea.',imagePath:"/idea2.png",icon:q_,gradient:"from-accent to-accent-600"},{title:"I don't have an idea, but I want to help others, how can I do this?",description:`Register on the website and browse through the ideas. If you find one where you can help, write to the user and discuss the details. If you don't have an idea but want to help, you can search in the "Ideas" section on the homepage.`,imagePath:"/idea3.jpg",icon:jc,gradient:"from-secondary to-secondary-600"},{title:"How can I find a team to implement my idea?",description:'By browsing through the ideas on Veho, you can find ones that interest you and that you want to join. Click on the "Join" button on the idea page to let the idea owner know that you would like to join in implementing the idea.',imagePath:"/group.jpg",icon:Uc,gradient:"from-primary to-accent"},{title:"How many ideas can I share?",description:"You can share as many ideas as you want, but we ask that you only share ideas that are truly feasible and add value to the community.",imagePath:"/idea3.png",icon:H_,gradient:"from-secondary to-primary"}]},zT=x.forwardRef((t,e)=>{const[n,r]=x.useState(0),[i]=Dt(dn);x.useEffect(()=>{r(0)},[i]);const s=()=>{r(p=>(p+1)%as[i].length)},o=()=>{r(p=>(p-1+as[i].length)%as[i].length)},{title:a,description:u,imagePath:c,icon:d,gradient:f}=as[i][n];return g.jsxs("section",{ref:e,className:"relative py-16 overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[g.jsx("div",{className:"absolute top-1/4 right-1/6 w-64 h-64 bg-primary/5 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute bottom-1/4 left-1/6 w-80 h-80 bg-secondary/5 rounded-full blur-3xl animate-pulse animation-delay-1000"}),g.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-accent/3 rounded-full blur-3xl animate-pulse animation-delay-2000"})]}),g.jsx("div",{className:"container mx-auto px-4 relative z-10",children:g.jsx("div",{className:"max-w-6xl mx-auto",children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/5 to-white/10 rounded-3xl blur-sm"}),g.jsx("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 md:p-12 shadow-2xl",children:g.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-12",children:[g.jsx("div",{className:"relative w-full lg:w-1/2",children:g.jsxs("div",{className:"relative group",children:[g.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${f} rounded-2xl opacity-20 blur-2xl group-hover:opacity-30 transition-opacity duration-500`}),g.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-white/30 backdrop-blur-sm",children:[g.jsx("img",{src:c,alt:a,className:"w-full h-64 md:h-80 object-cover transition-transform duration-500 group-hover:scale-105"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"})]}),g.jsx("div",{className:`absolute -top-4 -right-4 w-16 h-16 bg-gradient-to-r ${f} rounded-full flex items-center justify-center backdrop-blur-sm border border-white/30 shadow-lg`,children:g.jsx(d,{className:"w-8 h-8 text-white"})})]})}),g.jsxs("div",{className:"w-full lg:w-1/2 text-center lg:text-left",children:[g.jsx("h2",{className:`text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r ${f} bg-clip-text text-transparent mb-6 leading-tight`,children:a}),g.jsx("p",{className:"text-lg md:text-xl text-white/80 mb-8 leading-relaxed",children:u}),g.jsxs("div",{className:"flex justify-center lg:justify-start items-center gap-6",children:[g.jsx(Me,{variant:"ghost",size:"icon",onClick:o,className:"group w-14 h-14 bg-white/10 border border-white/30 text-white/80 hover:bg-white/20 hover:text-white transition-all duration-300 backdrop-blur-sm rounded-xl",children:g.jsx(rV,{className:"h-6 w-6 transition-transform group-hover:-translate-x-1"})}),g.jsx("div",{className:"flex gap-2",children:as[i].map((p,S)=>g.jsx("button",{onClick:()=>r(S),className:`w-3 h-3 rounded-full transition-all duration-300 ${S===n?`bg-gradient-to-r ${f}`:"bg-white/30 hover:bg-white/50"}`},S))}),g.jsx(Me,{variant:"ghost",size:"icon",onClick:s,className:"group w-14 h-14 bg-white/10 border border-white/30 text-white/80 hover:bg-white/20 hover:text-white transition-all duration-300 backdrop-blur-sm rounded-xl",children:g.jsx(sV,{className:"h-6 w-6 transition-transform group-hover:translate-x-1"})})]}),g.jsx("div",{className:"mt-6 text-center lg:text-left",children:g.jsxs("span",{className:"text-white/60 text-sm",children:[n+1," / ",as[i].length]})})]})]})})]})})}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/50 to-transparent"})]})});zT.displayName="Information";const UV={hu:{author:"Szerz",year:"v",phone:"Telefonszm",email:"Email",privacyPolicy:"Adatvdelmi Szablyzat",madeWith:"Ksztve"},en:{author:"Author",year:"Year",phone:"Phone",email:"Email",privacyPolicy:"Privacy Policy",madeWith:"Made with"}};function So(){const[t]=Dt(dn),e=n=>UV[t][n];return g.jsxs("footer",{className:"relative py-12 overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[g.jsx("div",{className:"absolute top-0 left-1/4 w-32 h-32 bg-primary/5 rounded-full blur-2xl"}),g.jsx("div",{className:"absolute bottom-0 right-1/4 w-40 h-40 bg-secondary/5 rounded-full blur-2xl"})]}),g.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/40 to-transparent"}),g.jsx("div",{className:"container mx-auto px-4 relative z-10",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-8",children:[g.jsxs("div",{className:"text-center md:text-left space-y-3",children:[g.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-4",children:[g.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary/20 to-primary-600/20 rounded-full flex items-center justify-center backdrop-blur-sm border border-primary/30",children:g.jsx(jc,{className:"w-4 h-4 text-primary"})}),g.jsx("span",{className:"text-white/90 font-medium",children:"Veho"})]}),g.jsxs("p",{className:"text-white/70 transition-colors hover:text-white/90 duration-300",children:[g.jsxs("span",{className:"text-white/50 text-sm",children:[e("author"),":"]}),g.jsx("br",{}),g.jsx("span",{className:"font-medium",children:"Szauter Ajtony"})]}),g.jsxs("p",{className:"text-white/70 transition-colors hover:text-white/90 duration-300",children:[g.jsxs("span",{className:"text-white/50 text-sm",children:[e("year"),":"]}),g.jsx("br",{}),g.jsx("span",{className:"font-medium",children:"2025"})]})]}),g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("h3",{className:"text-white/90 font-semibold mb-4",children:t==="hu"?"Kapcsolat":"Contact"}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"group",children:[g.jsxs("p",{className:"text-white/60 text-sm mb-1",children:[e("phone"),":"]}),g.jsxs("a",{href:"tel:+36301234567",className:"inline-flex items-center gap-2 text-white/80 hover:text-primary transition-all duration-300 group-hover:scale-105",children:[g.jsx("div",{className:"w-5 h-5 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/20 group-hover:border-primary/40 transition-colors",children:g.jsx(bV,{className:"w-3 h-3"})}),g.jsx("span",{className:"font-medium",children:"+36 30 123 4567"})]})]}),g.jsxs("div",{className:"group",children:[g.jsxs("p",{className:"text-white/60 text-sm mb-1",children:[e("email"),":"]}),g.jsxs("a",{href:"mailto:ajtony.szauter@veho.com",className:"inline-flex items-center gap-2 text-white/80 hover:text-primary transition-all duration-300 group-hover:scale-105",children:[g.jsx("div",{className:"w-5 h-5 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/20 group-hover:border-primary/40 transition-colors",children:g.jsx(kp,{className:"w-3 h-3"})}),g.jsx("span",{className:"font-medium",children:"ajtony.szauter@veho.com"})]})]})]})]}),g.jsxs("div",{className:"text-center md:text-right space-y-4",children:[g.jsx("h3",{className:"text-white/90 font-semibold mb-4",children:t==="hu"?"Jogi informcik":"Legal"}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("div",{className:"group",children:g.jsxs(un,{to:"/privacy-policy",className:"inline-flex items-center gap-2 text-white/80 hover:text-primary transition-all duration-300 group-hover:scale-105",children:[g.jsx("div",{className:"w-5 h-5 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/20 group-hover:border-primary/40 transition-colors",children:g.jsx(RV,{className:"w-3 h-3"})}),g.jsx("span",{className:"font-medium",children:e("privacyPolicy")})]})}),g.jsx("p",{className:"text-white/70 font-medium",children:"Veho  2025"})]})]})]}),g.jsx("div",{className:"pt-8 border-t border-white/20",children:g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm",children:[g.jsx("span",{children:e("madeWith")}),g.jsx(jc,{className:"w-4 h-4 text-red-400 animate-pulse"}),g.jsx("span",{children:t==="hu"?"Magyarorszgon":"in Hungary"})]}),g.jsx("div",{className:"flex items-center gap-4",children:g.jsxs("div",{className:"flex gap-3",children:[g.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/20 hover:border-primary/40 transition-colors cursor-pointer opacity-50",children:g.jsx("div",{className:"w-3 h-3 bg-white/30 rounded-full"})}),g.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/20 hover:border-primary/40 transition-colors cursor-pointer opacity-50",children:g.jsx("div",{className:"w-3 h-3 bg-white/30 rounded-full"})}),g.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/20 hover:border-primary/40 transition-colors cursor-pointer opacity-50",children:g.jsx("div",{className:"w-3 h-3 bg-white/30 rounded-full"})})]})}),g.jsx("div",{className:"text-white/40 text-xs",children:"v1.0.0"})]})})]})})]})}function zV(){const t=x.useRef(null);return _o(),g.jsxs(g.Fragment,{children:[g.jsx(FV,{scrollTargetRef:t}),g.jsx(zT,{ref:t}),g.jsx(So,{})]})}const Us=x.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:ot("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Us.displayName="Input";var BV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=BV.reduce((t,e)=>{const n=Ka(`Primitive.${e}`),r=x.forwardRef((i,s)=>{const{asChild:o,...a}=i,u=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(u,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function $V(t,e){t&&lo.flushSync(()=>t.dispatchEvent(e))}var WV="Label",BT=x.forwardRef((t,e)=>g.jsx($e.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));BT.displayName=WV;var $T=BT;const HV=bT("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Oi=x.forwardRef(({className:t,...e},n)=>g.jsx($T,{ref:n,className:ot(HV(),t),...e}));Oi.displayName=$T.displayName;var WT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},G_=dt.createContext&&dt.createContext(WT),qV=["attr","size","title"];function GV(t,e){if(t==null)return{};var n=KV(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KV(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zc(){return zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zc.apply(this,arguments)}function K_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K_(Object(n),!0).forEach(function(r){QV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QV(t,e,n){return e=YV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YV(t){var e=XV(t,"string");return typeof e=="symbol"?e:e+""}function XV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HT(t){return t&&t.map((e,n)=>dt.createElement(e.tag,Bc({key:n},e.attr),HT(e.child)))}function JV(t){return e=>dt.createElement(ZV,zc({attr:Bc({},t.attr)},e),HT(t.child))}function ZV(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=GV(t,qV),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),dt.createElement("svg",zc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:Bc(Bc({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&dt.createElement("title",null,s),t.children)};return G_!==void 0?dt.createElement(G_.Consumer,null,n=>e(n)):e(WT)}function ej(t){return JV({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(t)}const ze={hu:{login:{title:"Bejelentkezs",email:"Email",password:"Jelsz",submit:"Bejelentkezs",noAccount:"Nincs mg fikod? ",registerHere:"Regisztrlj itt",forgotPassword:"Elfelejtetted a jelszavad?"},register:{title:"Regisztrci",confirmPassword:"Jelsz megerstse",submit:"Regisztrci",hasAccount:"Mr van fikod? ",loginHere:"Jelentkezz be itt"},errors:{passwordMismatch:"A jelszavak nem egyeznek meg.",invalidPassword:"A jelsznak tartalmaznia kell legalbb 8 karaktert, minimum 1 nagybett s 1 szmot.",invalidCredentials:"A hitelestsi adatok rvnytelenek.",invalidEmail:"Krjk, add meg a helyes email cmed!"},success:{register:"Sikeres regisztrci! dvzlnk!",login:"Sikeres bejelentkezs! tirnyts...",reset:"Email elkldve a jelsz visszalltshoz!"}},en:{login:{title:"Sign In",email:"Email",password:"Password",submit:"Sign In",noAccount:"Don't have an account? ",registerHere:"Register here",forgotPassword:"Forgot your password?"},register:{title:"Register",confirmPassword:"Confirm Password",submit:"Register",hasAccount:"Already have an account? ",loginHere:"Sign in here"},errors:{passwordMismatch:"The passwords do not match.",invalidPassword:"The password must contain at least 8 characters, including 1 uppercase letter and 1 number.",invalidCredentials:"The credentials are invalid.",invalidEmail:"Please enter a valid email address!"},success:{register:"Registration successful! Welcome!",login:"Login successful! Redirecting...",reset:"Email sent for password reset!"}}};function tj(){const[t,e]=x.useState(""),[n,r]=x.useState(""),[i,s]=x.useState(""),[o,a]=x.useState(!1),[u,c]=x.useState(!1),[d,f]=x.useState(""),[p,S]=x.useState(""),[I,w]=x.useState(!1),[k]=Dt(dn),_=async O=>{O.preventDefault(),f(""),S(""),w(!0),await new Promise(E=>setTimeout(E,1500));const V=/^(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/;if(u){if(!V.test(n)){f(ze[k].errors.invalidPassword),w(!1);return}if(n!==i){f(ze[k].errors.passwordMismatch),w(!1);return}S(ze[k].success.register)}else t&&n?(S(ze[k].success.login),console.log("Login attempt:",{email:t,password:n})):f(ze[k].errors.invalidCredentials);w(!1)},y=O=>{console.log(`${O} login clicked`)},T=()=>{if(!t.includes("@")){f(ze[k].errors.invalidEmail);return}S(ze[k].success.reset)},D=()=>{c(!u),f(""),S(""),e(""),r(""),s("")};return g.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 relative",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[g.jsx("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-primary/10 rounded-full blur-2xl animate-pulse"}),g.jsx("div",{className:"absolute top-3/4 right-1/4 w-32 h-32 bg-accent/10 rounded-full blur-2xl animate-pulse animation-delay-1000"}),g.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-32 h-32 bg-secondary/10 rounded-full blur-2xl animate-pulse animation-delay-2000"})]}),g.jsxs("div",{className:"relative w-full max-w-md",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-white/5 rounded-2xl blur-sm"}),g.jsxs("div",{className:"relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-8 shadow-2xl",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-primary/80 to-primary-600/80 rounded-full mb-4 shadow-lg backdrop-blur-sm",children:g.jsx(UT,{className:"w-8 h-8 text-white"})}),g.jsx("h2",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:u?ze[k].register.title:ze[k].login.title}),g.jsx("div",{className:"w-20 h-1 bg-gradient-to-r from-primary to-primary-600 mx-auto rounded-full"})]}),(d||p)&&g.jsx("div",{className:`mb-6 p-4 rounded-lg backdrop-blur-sm border transition-all duration-300 ${d?"bg-destructive/20 border-destructive/30 text-red-200":"bg-secondary/20 border-secondary/30 text-green-200"}`,children:g.jsx("p",{className:"text-sm text-center font-medium",children:d||p})}),p&&!d?g.jsxs("div",{className:"flex flex-col items-center gap-6 py-8",children:[g.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-secondary/80 to-accent/80 rounded-full flex items-center justify-center animate-pulse backdrop-blur-sm",children:g.jsx(kp,{className:"w-10 h-10 text-white"})}),g.jsx("p",{className:"text-white/90 text-center leading-relaxed",children:p})]}):g.jsxs("form",{onSubmit:_,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Oi,{className:"text-white/90 text-sm font-medium",children:ze[k].login.email}),g.jsxs("div",{className:"relative",children:[g.jsx(kp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),g.jsx(Us,{type:"email",value:t,onChange:O=>e(O.target.value),placeholder:ze[k].login.email,className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/50 focus:bg-white/20 focus:border-primary/60 transition-all duration-300 backdrop-blur-sm",required:!0})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Oi,{className:"text-white/90 text-sm font-medium",children:ze[k].login.password}),g.jsxs("div",{className:"relative",children:[g.jsx(W_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),g.jsx(Us,{type:o?"text":"password",value:n,onChange:O=>r(O.target.value),placeholder:ze[k].login.password,className:"w-full pl-12 pr-12 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/50 focus:bg-white/20 focus:border-primary/60 transition-all duration-300 backdrop-blur-sm",required:!0}),g.jsx(Me,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white/90 hover:bg-white/10",onClick:()=>a(!o),children:o?g.jsx(B_,{className:"w-4 h-4"}):g.jsx($_,{className:"w-4 h-4"})})]})]}),u&&g.jsxs("div",{className:"space-y-2 transition-all duration-300",children:[g.jsx(Oi,{className:"text-white/90 text-sm font-medium",children:ze[k].register.confirmPassword}),g.jsxs("div",{className:"relative",children:[g.jsx(W_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/50"}),g.jsx(Us,{type:o?"text":"password",value:i,onChange:O=>s(O.target.value),placeholder:ze[k].register.confirmPassword,className:"w-full pl-12 pr-12 py-3 bg-white/10 border border-white/30 rounded-lg text-white placeholder-white/50 focus:bg-white/20 focus:border-primary/60 transition-all duration-300 backdrop-blur-sm",required:!0}),g.jsx(Me,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white/90 hover:bg-white/10",onClick:()=>a(!o),children:o?g.jsx(B_,{className:"w-4 h-4"}):g.jsx($_,{className:"w-4 h-4"})})]})]}),g.jsx(Me,{type:"submit",disabled:I,className:"w-full py-3 bg-gradient-to-r from-primary/80 to-primary-600/80 hover:from-primary-600/90 hover:to-primary-700/90 text-white font-semibold rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed backdrop-blur-sm",children:I?g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Loading..."]}):u?ze[k].register.submit:ze[k].login.submit}),g.jsxs("div",{className:"relative my-6",children:[g.jsx("div",{className:"absolute inset-0 flex items-center",children:g.jsx("div",{className:"w-full border-t border-white/30"})}),g.jsx("div",{className:"relative flex justify-center text-sm",children:g.jsx("span",{className:"px-4 bg-transparent text-white/70",children:"or continue with"})})]}),g.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[g.jsx(Me,{type:"button",variant:"outline",className:"bg-white/10 border-white/30 text-white/80 hover:bg-white/20 hover:text-white transition-all duration-300 backdrop-blur-sm",onClick:()=>y("Google"),children:g.jsx(ej,{className:"w-4 h-4"})}),g.jsx(Me,{type:"button",variant:"outline",className:"bg-white/10 border-white/30 text-white/80 hover:bg-white/20 hover:text-white transition-all duration-300 backdrop-blur-sm",onClick:()=>y("Facebook"),children:g.jsx(dV,{className:"w-4 h-4"})}),g.jsx(Me,{type:"button",variant:"outline",className:"bg-white/10 border-white/30 text-white/80 hover:bg-white/20 hover:text-white transition-all duration-300 backdrop-blur-sm",onClick:()=>y("GitHub"),children:g.jsx(fV,{className:"w-4 h-4"})})]}),!u&&g.jsx("div",{className:"text-center",children:g.jsx("button",{type:"button",onClick:T,className:"text-primary hover:text-primary-600 text-sm transition-colors duration-300",children:ze[k].login.forgotPassword})}),g.jsxs("div",{className:"text-center pt-4 border-t border-white/30",children:[g.jsx("span",{className:"text-white/70 text-sm",children:u?ze[k].register.hasAccount:ze[k].login.noAccount}),g.jsx("button",{type:"button",onClick:D,className:"text-primary hover:text-primary-600 text-sm font-medium ml-1 transition-colors duration-300",children:u?ze[k].register.loginHere:ze[k].login.registerHere})]})]})]})]})]})}function Q_(t,[e,n]){return Math.min(n,Math.max(e,t))}function Qe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Ng(t,e=[]){let n=[];function r(s,o){const a=x.createContext(o),u=n.length;n=[...n,o];const c=f=>{var _;const{scope:p,children:S,...I}=f,w=((_=p==null?void 0:p[t])==null?void 0:_[u])||a,k=x.useMemo(()=>I,Object.values(I));return g.jsx(w.Provider,{value:k,children:S})};c.displayName=s+"Provider";function d(f,p){var w;const S=((w=p==null?void 0:p[t])==null?void 0:w[u])||a,I=x.useContext(S);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>x.createContext(o));return function(a){const u=(a==null?void 0:a[t])||s;return x.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return i.scopeName=t,[r,nj(i,...e)]}function nj(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const f=u(s)[`__scope${c}`];return{...a,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function rj(t){const e=t+"CollectionProvider",[n,r]=Ng(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:k,children:_}=w,y=dt.useRef(null),T=dt.useRef(new Map).current;return g.jsx(i,{scope:k,itemMap:T,collectionRef:y,children:_})};o.displayName=e;const a=t+"CollectionSlot",u=Ka(a),c=dt.forwardRef((w,k)=>{const{scope:_,children:y}=w,T=s(a,_),D=yt(k,T.collectionRef);return g.jsx(u,{ref:D,children:y})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=Ka(d),S=dt.forwardRef((w,k)=>{const{scope:_,children:y,...T}=w,D=dt.useRef(null),O=yt(k,D),V=s(d,_);return dt.useEffect(()=>(V.itemMap.set(D,{ref:D,...T}),()=>void V.itemMap.delete(D))),g.jsx(p,{[f]:"",ref:O,children:y})});S.displayName=d;function I(w){const k=s(t+"CollectionConsumer",w);return dt.useCallback(()=>{const y=k.collectionRef.current;if(!y)return[];const T=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(k.itemMap.values()).sort((V,E)=>T.indexOf(V.ref.current)-T.indexOf(E.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:o,Slot:c,ItemSlot:S},I,r]}var ij=x.createContext(void 0);function sj(t){const e=x.useContext(ij);return t||e||"ltr"}function Hi(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function oj(t,e=globalThis==null?void 0:globalThis.document){const n=Hi(t);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var aj="DismissableLayer",Ap="dismissableLayer.update",lj="dismissableLayer.pointerDownOutside",uj="dismissableLayer.focusOutside",Y_,qT=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),GT=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...u}=t,c=x.useContext(qT),[d,f]=x.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=x.useState({}),I=yt(e,E=>f(E)),w=Array.from(c.layers),[k]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(k),y=d?w.indexOf(d):-1,T=c.layersWithOutsidePointerEventsDisabled.size>0,D=y>=_,O=hj(E=>{const v=E.target,C=[...c.branches].some(A=>A.contains(v));!D||C||(i==null||i(E),o==null||o(E),E.defaultPrevented||a==null||a())},p),V=fj(E=>{const v=E.target;[...c.branches].some(A=>A.contains(v))||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},p);return oj(E=>{y===c.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},p),x.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Y_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),X_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Y_)}},[d,p,n,c]),x.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),X_())},[d,c]),x.useEffect(()=>{const E=()=>S({});return document.addEventListener(Ap,E),()=>document.removeEventListener(Ap,E)},[]),g.jsx($e.div,{...u,ref:I,style:{pointerEvents:T?D?"auto":"none":void 0,...t.style},onFocusCapture:Qe(t.onFocusCapture,V.onFocusCapture),onBlurCapture:Qe(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Qe(t.onPointerDownCapture,O.onPointerDownCapture)})});GT.displayName=aj;var cj="DismissableLayerBranch",dj=x.forwardRef((t,e)=>{const n=x.useContext(qT),r=x.useRef(null),i=yt(e,r);return x.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx($e.div,{...t,ref:i})});dj.displayName=cj;function hj(t,e=globalThis==null?void 0:globalThis.document){const n=Hi(t),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){KT(lj,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function fj(t,e=globalThis==null?void 0:globalThis.document){const n=Hi(t),r=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!r.current&&KT(uj,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function X_(){const t=new CustomEvent(Ap);document.dispatchEvent(t)}function KT(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?$V(i,s):i.dispatchEvent(s)}var Qh=0;function pj(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??J_()),document.body.insertAdjacentElement("beforeend",t[1]??J_()),Qh++,()=>{Qh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qh--}},[])}function J_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Yh="focusScope.autoFocusOnMount",Xh="focusScope.autoFocusOnUnmount",Z_={bubbles:!1,cancelable:!0},mj="FocusScope",QT=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,u]=x.useState(null),c=Hi(i),d=Hi(s),f=x.useRef(null),p=yt(e,w=>u(w)),S=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let w=function(T){if(S.paused||!a)return;const D=T.target;a.contains(D)?f.current=D:Ar(f.current,{select:!0})},k=function(T){if(S.paused||!a)return;const D=T.relatedTarget;D!==null&&(a.contains(D)||Ar(f.current,{select:!0}))},_=function(T){if(document.activeElement===document.body)for(const O of T)O.removedNodes.length>0&&Ar(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",k);const y=new MutationObserver(_);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",k),y.disconnect()}}},[r,a,S.paused]),x.useEffect(()=>{if(a){t0.add(S);const w=document.activeElement;if(!a.contains(w)){const _=new CustomEvent(Yh,Z_);a.addEventListener(Yh,c),a.dispatchEvent(_),_.defaultPrevented||(gj(Ej(YT(a)),{select:!0}),document.activeElement===w&&Ar(a))}return()=>{a.removeEventListener(Yh,c),setTimeout(()=>{const _=new CustomEvent(Xh,Z_);a.addEventListener(Xh,d),a.dispatchEvent(_),_.defaultPrevented||Ar(w??document.body,{select:!0}),a.removeEventListener(Xh,d),t0.remove(S)},0)}}},[a,c,d,S]);const I=x.useCallback(w=>{if(!n&&!r||S.paused)return;const k=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,_=document.activeElement;if(k&&_){const y=w.currentTarget,[T,D]=yj(y);T&&D?!w.shiftKey&&_===D?(w.preventDefault(),n&&Ar(T,{select:!0})):w.shiftKey&&_===T&&(w.preventDefault(),n&&Ar(D,{select:!0})):_===y&&w.preventDefault()}},[n,r,S.paused]);return g.jsx($e.div,{tabIndex:-1,...o,ref:p,onKeyDown:I})});QT.displayName=mj;function gj(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ar(r,{select:e}),document.activeElement!==n)return}function yj(t){const e=YT(t),n=e0(e,t),r=e0(e.reverse(),t);return[n,r]}function YT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function e0(t,e){for(const n of t)if(!vj(n,{upTo:e}))return n}function vj(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function wj(t){return t instanceof HTMLInputElement&&"select"in t}function Ar(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&wj(t)&&e&&t.select()}}var t0=_j();function _j(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=n0(t,e),t.unshift(e)},remove(e){var n;t=n0(t,e),(n=t[0])==null||n.resume()}}}function n0(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Ej(t){return t.filter(e=>e.tagName!=="A")}var $t=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},xj=N0[" useId ".trim().toString()]||(()=>{}),Sj=0;function Dg(t){const[e,n]=x.useState(xj());return $t(()=>{n(r=>r??String(Sj++))},[t]),e?`radix-${e}`:""}const Tj=["top","right","bottom","left"],ui=Math.min,Gt=Math.max,$c=Math.round,uu=Math.floor,Bn=t=>({x:t,y:t}),Ij={left:"right",right:"left",bottom:"top",top:"bottom"},Cj={start:"end",end:"start"};function Rp(t,e,n){return Gt(t,ui(e,n))}function yr(t,e){return typeof t=="function"?t(e):t}function vr(t){return t.split("-")[0]}function To(t){return t.split("-")[1]}function Og(t){return t==="x"?"y":"x"}function Lg(t){return t==="y"?"height":"width"}const bj=new Set(["top","bottom"]);function Dn(t){return bj.has(vr(t))?"y":"x"}function Mg(t){return Og(Dn(t))}function kj(t,e,n){n===void 0&&(n=!1);const r=To(t),i=Mg(t),s=Lg(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Wc(o)),[o,Wc(o)]}function Aj(t){const e=Wc(t);return[Pp(t),e,Pp(e)]}function Pp(t){return t.replace(/start|end/g,e=>Cj[e])}const r0=["left","right"],i0=["right","left"],Rj=["top","bottom"],Pj=["bottom","top"];function Nj(t,e,n){switch(t){case"top":case"bottom":return n?e?i0:r0:e?r0:i0;case"left":case"right":return e?Rj:Pj;default:return[]}}function Dj(t,e,n,r){const i=To(t);let s=Nj(vr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Pp)))),s}function Wc(t){return t.replace(/left|right|bottom|top/g,e=>Ij[e])}function Oj(t){return{top:0,right:0,bottom:0,left:0,...t}}function XT(t){return typeof t!="number"?Oj(t):{top:t,right:t,bottom:t,left:t}}function Hc(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function s0(t,e,n){let{reference:r,floating:i}=t;const s=Dn(e),o=Mg(e),a=Lg(o),u=vr(e),c=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let S;switch(u){case"top":S={x:d,y:r.y-i.height};break;case"bottom":S={x:d,y:r.y+r.height};break;case"right":S={x:r.x+r.width,y:f};break;case"left":S={x:r.x-i.width,y:f};break;default:S={x:r.x,y:r.y}}switch(To(e)){case"start":S[o]-=p*(n&&c?-1:1);break;case"end":S[o]+=p*(n&&c?-1:1);break}return S}const Lj=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=s0(c,r,u),p=r,S={},I=0;for(let w=0;w<a.length;w++){const{name:k,fn:_}=a[w],{x:y,y:T,data:D,reset:O}=await _({x:d,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:S,rects:c,platform:o,elements:{reference:t,floating:e}});d=y??d,f=T??f,S={...S,[k]:{...S[k],...D}},O&&I<=50&&(I++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:f}=s0(c,p,u)),w=-1)}return{x:d,y:f,placement:p,strategy:i,middlewareData:S}};async function Qa(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:S=0}=yr(e,t),I=XT(S),k=a[p?f==="floating"?"reference":"floating":f],_=Hc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(k)))==null||n?k:k.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:u})),y=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),D=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},O=Hc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:T,strategy:u}):y);return{top:(_.top-O.top+I.top)/D.y,bottom:(O.bottom-_.bottom+I.bottom)/D.y,left:(_.left-O.left+I.left)/D.x,right:(O.right-_.right+I.right)/D.x}}const Mj=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:u}=e,{element:c,padding:d=0}=yr(t,e)||{};if(c==null)return{};const f=XT(d),p={x:n,y:r},S=Mg(i),I=Lg(S),w=await o.getDimensions(c),k=S==="y",_=k?"top":"left",y=k?"bottom":"right",T=k?"clientHeight":"clientWidth",D=s.reference[I]+s.reference[S]-p[S]-s.floating[I],O=p[S]-s.reference[S],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=V?V[T]:0;(!E||!await(o.isElement==null?void 0:o.isElement(V)))&&(E=a.floating[T]||s.floating[I]);const v=D/2-O/2,C=E/2-w[I]/2-1,A=ui(f[_],C),P=ui(f[y],C),N=A,R=E-w[I]-P,K=E/2-w[I]/2+v,re=Rp(N,K,R),Z=!u.arrow&&To(i)!=null&&K!==re&&s.reference[I]/2-(K<N?A:P)-w[I]/2<0,H=Z?K<N?K-N:K-R:0;return{[S]:p[S]+H,data:{[S]:re,centerOffset:K-re-H,...Z&&{alignmentOffset:H}},reset:Z}}}),Vj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:u,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:w=!0,...k}=yr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=vr(i),y=Dn(a),T=vr(a)===a,D=await(u.isRTL==null?void 0:u.isRTL(c.floating)),O=p||(T||!w?[Wc(a)]:Aj(a)),V=I!=="none";!p&&V&&O.push(...Dj(a,w,I,D));const E=[a,...O],v=await Qa(e,k),C=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&C.push(v[_]),f){const K=kj(i,o,D);C.push(v[K[0]],v[K[1]])}if(A=[...A,{placement:i,overflows:C}],!C.every(K=>K<=0)){var P,N;const K=(((P=s.flip)==null?void 0:P.index)||0)+1,re=E[K];if(re&&(!(f==="alignment"?y!==Dn(re):!1)||A.every(L=>Dn(L.placement)===y?L.overflows[0]>0:!0)))return{data:{index:K,overflows:A},reset:{placement:re}};let Z=(N=A.filter(H=>H.overflows[0]<=0).sort((H,L)=>H.overflows[1]-L.overflows[1])[0])==null?void 0:N.placement;if(!Z)switch(S){case"bestFit":{var R;const H=(R=A.filter(L=>{if(V){const $=Dn(L.placement);return $===y||$==="y"}return!0}).map(L=>[L.placement,L.overflows.filter($=>$>0).reduce(($,X)=>$+X,0)]).sort((L,$)=>L[1]-$[1])[0])==null?void 0:R[0];H&&(Z=H);break}case"initialPlacement":Z=a;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}};function o0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function a0(t){return Tj.some(e=>t[e]>=0)}const jj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=yr(t,e);switch(r){case"referenceHidden":{const s=await Qa(e,{...i,elementContext:"reference"}),o=o0(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:a0(o)}}}case"escaped":{const s=await Qa(e,{...i,altBoundary:!0}),o=o0(s,n.floating);return{data:{escapedOffsets:o,escaped:a0(o)}}}default:return{}}}}},JT=new Set(["left","top"]);async function Fj(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=vr(n),a=To(n),u=Dn(n)==="y",c=JT.has(o)?-1:1,d=s&&u?-1:1,f=yr(e,t);let{mainAxis:p,crossAxis:S,alignmentAxis:I}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof I=="number"&&(S=a==="end"?I*-1:I),u?{x:S*d,y:p*c}:{x:p*c,y:S*d}}const Uj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,u=await Fj(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},zj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:k=>{let{x:_,y}=k;return{x:_,y}}},...u}=yr(t,e),c={x:n,y:r},d=await Qa(e,u),f=Dn(vr(i)),p=Og(f);let S=c[p],I=c[f];if(s){const k=p==="y"?"top":"left",_=p==="y"?"bottom":"right",y=S+d[k],T=S-d[_];S=Rp(y,S,T)}if(o){const k=f==="y"?"top":"left",_=f==="y"?"bottom":"right",y=I+d[k],T=I-d[_];I=Rp(y,I,T)}const w=a.fn({...e,[p]:S,[f]:I});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:s,[f]:o}}}}}},Bj=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:u=!0,crossAxis:c=!0}=yr(t,e),d={x:n,y:r},f=Dn(i),p=Og(f);let S=d[p],I=d[f];const w=yr(a,e),k=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const T=p==="y"?"height":"width",D=s.reference[p]-s.floating[T]+k.mainAxis,O=s.reference[p]+s.reference[T]-k.mainAxis;S<D?S=D:S>O&&(S=O)}if(c){var _,y;const T=p==="y"?"width":"height",D=JT.has(vr(i)),O=s.reference[f]-s.floating[T]+(D&&((_=o.offset)==null?void 0:_[f])||0)+(D?0:k.crossAxis),V=s.reference[f]+s.reference[T]+(D?0:((y=o.offset)==null?void 0:y[f])||0)-(D?k.crossAxis:0);I<O?I=O:I>V&&(I=V)}return{[p]:S,[f]:I}}}},$j=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:u=()=>{},...c}=yr(t,e),d=await Qa(e,c),f=vr(i),p=To(i),S=Dn(i)==="y",{width:I,height:w}=s.floating;let k,_;f==="top"||f==="bottom"?(k=f,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,k=p==="end"?"top":"bottom");const y=w-d.top-d.bottom,T=I-d.left-d.right,D=ui(w-d[k],y),O=ui(I-d[_],T),V=!e.middlewareData.shift;let E=D,v=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(v=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(E=y),V&&!p){const A=Gt(d.left,0),P=Gt(d.right,0),N=Gt(d.top,0),R=Gt(d.bottom,0);S?v=I-2*(A!==0||P!==0?A+P:Gt(d.left,d.right)):E=w-2*(N!==0||R!==0?N+R:Gt(d.top,d.bottom))}await u({...e,availableWidth:v,availableHeight:E});const C=await o.getDimensions(a.floating);return I!==C.width||w!==C.height?{reset:{rects:!0}}:{}}}};function Rd(){return typeof window<"u"}function Io(t){return ZT(t)?(t.nodeName||"").toLowerCase():"#document"}function Yt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Gn(t){var e;return(e=(ZT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ZT(t){return Rd()?t instanceof Node||t instanceof Yt(t).Node:!1}function Tn(t){return Rd()?t instanceof Element||t instanceof Yt(t).Element:!1}function Hn(t){return Rd()?t instanceof HTMLElement||t instanceof Yt(t).HTMLElement:!1}function l0(t){return!Rd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Yt(t).ShadowRoot}const Wj=new Set(["inline","contents"]);function pl(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=In(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Wj.has(i)}const Hj=new Set(["table","td","th"]);function qj(t){return Hj.has(Io(t))}const Gj=[":popover-open",":modal"];function Pd(t){return Gj.some(e=>{try{return t.matches(e)}catch{return!1}})}const Kj=["transform","translate","scale","rotate","perspective"],Qj=["transform","translate","scale","rotate","perspective","filter"],Yj=["paint","layout","strict","content"];function Vg(t){const e=jg(),n=Tn(t)?In(t):t;return Kj.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Qj.some(r=>(n.willChange||"").includes(r))||Yj.some(r=>(n.contain||"").includes(r))}function Xj(t){let e=ci(t);for(;Hn(e)&&!io(e);){if(Vg(e))return e;if(Pd(e))return null;e=ci(e)}return null}function jg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Jj=new Set(["html","body","#document"]);function io(t){return Jj.has(Io(t))}function In(t){return Yt(t).getComputedStyle(t)}function Nd(t){return Tn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ci(t){if(Io(t)==="html")return t;const e=t.assignedSlot||t.parentNode||l0(t)&&t.host||Gn(t);return l0(e)?e.host:e}function eI(t){const e=ci(t);return io(e)?t.ownerDocument?t.ownerDocument.body:t.body:Hn(e)&&pl(e)?e:eI(e)}function Ya(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=eI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Yt(i);if(s){const a=Np(o);return e.concat(o,o.visualViewport||[],pl(i)?i:[],a&&n?Ya(a):[])}return e.concat(i,Ya(i,[],n))}function Np(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function tI(t){const e=In(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Hn(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=$c(n)!==s||$c(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Fg(t){return Tn(t)?t:t.contextElement}function zs(t){const e=Fg(t);if(!Hn(e))return Bn(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=tI(e);let o=(s?$c(n.width):n.width)/r,a=(s?$c(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Zj=Bn(0);function nI(t){const e=Yt(t);return!jg()||!e.visualViewport?Zj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function e3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Yt(t)?!1:e}function qi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Fg(t);let o=Bn(1);e&&(r?Tn(r)&&(o=zs(r)):o=zs(t));const a=e3(s,n,r)?nI(s):Bn(0);let u=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const p=Yt(s),S=r&&Tn(r)?Yt(r):r;let I=p,w=Np(I);for(;w&&r&&S!==I;){const k=zs(w),_=w.getBoundingClientRect(),y=In(w),T=_.left+(w.clientLeft+parseFloat(y.paddingLeft))*k.x,D=_.top+(w.clientTop+parseFloat(y.paddingTop))*k.y;u*=k.x,c*=k.y,d*=k.x,f*=k.y,u+=T,c+=D,I=Yt(w),w=Np(I)}}return Hc({width:d,height:f,x:u,y:c})}function Ug(t,e){const n=Nd(t).scrollLeft;return e?e.left+n:qi(Gn(t)).left+n}function rI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Ug(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function t3(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Gn(r),a=e?Pd(e.floating):!1;if(r===o||a&&s)return n;let u={scrollLeft:0,scrollTop:0},c=Bn(1);const d=Bn(0),f=Hn(r);if((f||!f&&!s)&&((Io(r)!=="body"||pl(o))&&(u=Nd(r)),Hn(r))){const S=qi(r);c=zs(r),d.x=S.x+r.clientLeft,d.y=S.y+r.clientTop}const p=o&&!f&&!s?rI(o,u,!0):Bn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-u.scrollTop*c.y+d.y+p.y}}function n3(t){return Array.from(t.getClientRects())}function r3(t){const e=Gn(t),n=Nd(t),r=t.ownerDocument.body,i=Gt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Gt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ug(t);const a=-n.scrollTop;return In(r).direction==="rtl"&&(o+=Gt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function i3(t,e){const n=Yt(t),r=Gn(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,u=0;if(i){s=i.width,o=i.height;const c=jg();(!c||c&&e==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:a,y:u}}const s3=new Set(["absolute","fixed"]);function o3(t,e){const n=qi(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Hn(t)?zs(t):Bn(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,u=i*s.x,c=r*s.y;return{width:o,height:a,x:u,y:c}}function u0(t,e,n){let r;if(e==="viewport")r=i3(t,n);else if(e==="document")r=r3(Gn(t));else if(Tn(e))r=o3(e,n);else{const i=nI(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Hc(r)}function iI(t,e){const n=ci(t);return n===e||!Tn(n)||io(n)?!1:In(n).position==="fixed"||iI(n,e)}function a3(t,e){const n=e.get(t);if(n)return n;let r=Ya(t,[],!1).filter(a=>Tn(a)&&Io(a)!=="body"),i=null;const s=In(t).position==="fixed";let o=s?ci(t):t;for(;Tn(o)&&!io(o);){const a=In(o),u=Vg(o);!u&&a.position==="fixed"&&(i=null),(s?!u&&!i:!u&&a.position==="static"&&!!i&&s3.has(i.position)||pl(o)&&!u&&iI(t,o))?r=r.filter(d=>d!==o):i=a,o=ci(o)}return e.set(t,r),r}function l3(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Pd(e)?[]:a3(e,this._c):[].concat(n),r],a=o[0],u=o.reduce((c,d)=>{const f=u0(e,d,i);return c.top=Gt(f.top,c.top),c.right=ui(f.right,c.right),c.bottom=ui(f.bottom,c.bottom),c.left=Gt(f.left,c.left),c},u0(e,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function u3(t){const{width:e,height:n}=tI(t);return{width:e,height:n}}function c3(t,e,n){const r=Hn(e),i=Gn(e),s=n==="fixed",o=qi(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const u=Bn(0);function c(){u.x=Ug(i)}if(r||!r&&!s)if((Io(e)!=="body"||pl(i))&&(a=Nd(e)),r){const S=qi(e,!0,s,e);u.x=S.x+e.clientLeft,u.y=S.y+e.clientTop}else i&&c();s&&!r&&i&&c();const d=i&&!r&&!s?rI(i,a):Bn(0),f=o.left+a.scrollLeft-u.x-d.x,p=o.top+a.scrollTop-u.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function Jh(t){return In(t).position==="static"}function c0(t,e){if(!Hn(t)||In(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Gn(t)===n&&(n=n.ownerDocument.body),n}function sI(t,e){const n=Yt(t);if(Pd(t))return n;if(!Hn(t)){let i=ci(t);for(;i&&!io(i);){if(Tn(i)&&!Jh(i))return i;i=ci(i)}return n}let r=c0(t,e);for(;r&&qj(r)&&Jh(r);)r=c0(r,e);return r&&io(r)&&Jh(r)&&!Vg(r)?n:r||Xj(t)||n}const d3=async function(t){const e=this.getOffsetParent||sI,n=this.getDimensions,r=await n(t.floating);return{reference:c3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function h3(t){return In(t).direction==="rtl"}const f3={convertOffsetParentRelativeRectToViewportRelativeRect:t3,getDocumentElement:Gn,getClippingRect:l3,getOffsetParent:sI,getElementRects:d3,getClientRects:n3,getDimensions:u3,getScale:zs,isElement:Tn,isRTL:h3};function oI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function p3(t,e){let n=null,r;const i=Gn(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),s();const c=t.getBoundingClientRect(),{left:d,top:f,width:p,height:S}=c;if(a||e(),!p||!S)return;const I=uu(f),w=uu(i.clientWidth-(d+p)),k=uu(i.clientHeight-(f+S)),_=uu(d),T={rootMargin:-I+"px "+-w+"px "+-k+"px "+-_+"px",threshold:Gt(0,ui(1,u))||1};let D=!0;function O(V){const E=V[0].intersectionRatio;if(E!==u){if(!D)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!oI(c,t.getBoundingClientRect())&&o(),D=!1}try{n=new IntersectionObserver(O,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,T)}n.observe(t)}return o(!0),s}function m3(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=Fg(t),d=i||s?[...c?Ya(c):[],...Ya(e)]:[];d.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const f=c&&a?p3(c,n):null;let p=-1,S=null;o&&(S=new ResizeObserver(_=>{let[y]=_;y&&y.target===c&&S&&(S.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var T;(T=S)==null||T.observe(e)})),n()}),c&&!u&&S.observe(c),S.observe(e));let I,w=u?qi(t):null;u&&k();function k(){const _=qi(t);w&&!oI(w,_)&&n(),w=_,I=requestAnimationFrame(k)}return n(),()=>{var _;d.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),f==null||f(),(_=S)==null||_.disconnect(),S=null,u&&cancelAnimationFrame(I)}}const g3=Uj,y3=zj,v3=Vj,w3=$j,_3=jj,d0=Mj,E3=Bj,x3=(t,e,n)=>{const r=new Map,i={platform:f3,...n},s={...i.platform,_c:r};return Lj(t,e,{...i,platform:s})};var S3=typeof document<"u",T3=function(){},zu=S3?x.useLayoutEffect:T3;function qc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!qc(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!qc(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function aI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function h0(t,e){const n=aI(t);return Math.round(e*n)/n}function Zh(t){const e=x.useRef(t);return zu(()=>{e.current=t}),e}function I3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:u,open:c}=t,[d,f]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,S]=x.useState(r);qc(p,r)||S(r);const[I,w]=x.useState(null),[k,_]=x.useState(null),y=x.useCallback(L=>{L!==V.current&&(V.current=L,w(L))},[]),T=x.useCallback(L=>{L!==E.current&&(E.current=L,_(L))},[]),D=s||I,O=o||k,V=x.useRef(null),E=x.useRef(null),v=x.useRef(d),C=u!=null,A=Zh(u),P=Zh(i),N=Zh(c),R=x.useCallback(()=>{if(!V.current||!E.current)return;const L={placement:e,strategy:n,middleware:p};P.current&&(L.platform=P.current),x3(V.current,E.current,L).then($=>{const X={...$,isPositioned:N.current!==!1};K.current&&!qc(v.current,X)&&(v.current=X,lo.flushSync(()=>{f(X)}))})},[p,e,n,P,N]);zu(()=>{c===!1&&v.current.isPositioned&&(v.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const K=x.useRef(!1);zu(()=>(K.current=!0,()=>{K.current=!1}),[]),zu(()=>{if(D&&(V.current=D),O&&(E.current=O),D&&O){if(A.current)return A.current(D,O,R);R()}},[D,O,R,A,C]);const re=x.useMemo(()=>({reference:V,floating:E,setReference:y,setFloating:T}),[y,T]),Z=x.useMemo(()=>({reference:D,floating:O}),[D,O]),H=x.useMemo(()=>{const L={position:n,left:0,top:0};if(!Z.floating)return L;const $=h0(Z.floating,d.x),X=h0(Z.floating,d.y);return a?{...L,transform:"translate("+$+"px, "+X+"px)",...aI(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:X}},[n,a,Z.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:R,refs:re,elements:Z,floatingStyles:H}),[d,R,re,Z,H])}const C3=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?d0({element:r.current,padding:i}).fn(n):{}:r?d0({element:r,padding:i}).fn(n):{}}}},b3=(t,e)=>({...g3(t),options:[t,e]}),k3=(t,e)=>({...y3(t),options:[t,e]}),A3=(t,e)=>({...E3(t),options:[t,e]}),R3=(t,e)=>({...v3(t),options:[t,e]}),P3=(t,e)=>({...w3(t),options:[t,e]}),N3=(t,e)=>({..._3(t),options:[t,e]}),D3=(t,e)=>({...C3(t),options:[t,e]});var O3="Arrow",lI=x.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return g.jsx($e.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});lI.displayName=O3;var L3=lI;function M3(t){const[e,n]=x.useState(void 0);return $t(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const u=s.borderBoxSize,c=Array.isArray(u)?u[0]:u;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var zg="Popper",[uI,cI]=Ng(zg),[V3,dI]=uI(zg),hI=t=>{const{__scopePopper:e,children:n}=t,[r,i]=x.useState(null);return g.jsx(V3,{scope:e,anchor:r,onAnchorChange:i,children:n})};hI.displayName=zg;var fI="PopperAnchor",pI=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=dI(fI,n),o=x.useRef(null),a=yt(e,o);return x.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx($e.div,{...i,ref:a})});pI.displayName=fI;var Bg="PopperContent",[j3,F3]=uI(Bg),mI=x.forwardRef((t,e)=>{var W,Ee,Oe,fe,ue,ce;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:S="optimized",onPlaced:I,...w}=t,k=dI(Bg,n),[_,y]=x.useState(null),T=yt(e,at=>y(at)),[D,O]=x.useState(null),V=M3(D),E=(V==null?void 0:V.width)??0,v=(V==null?void 0:V.height)??0,C=r+(s!=="center"?"-"+s:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(c)?c:[c],N=P.length>0,R={padding:A,boundary:P.filter(z3),altBoundary:N},{refs:K,floatingStyles:re,placement:Z,isPositioned:H,middlewareData:L}=I3({strategy:"fixed",placement:C,whileElementsMounted:(...at)=>m3(...at,{animationFrame:S==="always"}),elements:{reference:k.anchor},middleware:[b3({mainAxis:i+v,alignmentAxis:o}),u&&k3({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?A3():void 0,...R}),u&&R3({...R}),P3({...R,apply:({elements:at,rects:Mt,availableWidth:Kn,availableHeight:Er})=>{const{width:yi,height:Vd}=Mt.reference,vi=at.floating.style;vi.setProperty("--radix-popper-available-width",`${Kn}px`),vi.setProperty("--radix-popper-available-height",`${Er}px`),vi.setProperty("--radix-popper-anchor-width",`${yi}px`),vi.setProperty("--radix-popper-anchor-height",`${Vd}px`)}}),D&&D3({element:D,padding:a}),B3({arrowWidth:E,arrowHeight:v}),p&&N3({strategy:"referenceHidden",...R})]}),[$,X]=vI(Z),he=Hi(I);$t(()=>{H&&(he==null||he())},[H,he]);const le=(W=L.arrow)==null?void 0:W.x,oe=(Ee=L.arrow)==null?void 0:Ee.y,we=((Oe=L.arrow)==null?void 0:Oe.centerOffset)!==0,[We,Ge]=x.useState();return $t(()=>{_&&Ge(window.getComputedStyle(_).zIndex)},[_]),g.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:H?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:We,"--radix-popper-transform-origin":[(fe=L.transformOrigin)==null?void 0:fe.x,(ue=L.transformOrigin)==null?void 0:ue.y].join(" "),...((ce=L.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(j3,{scope:n,placedSide:$,onArrowChange:O,arrowX:le,arrowY:oe,shouldHideArrow:we,children:g.jsx($e.div,{"data-side":$,"data-align":X,...w,ref:T,style:{...w.style,animation:H?void 0:"none"}})})})});mI.displayName=Bg;var gI="PopperArrow",U3={top:"bottom",right:"left",bottom:"top",left:"right"},yI=x.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=F3(gI,r),o=U3[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(L3,{...i,ref:n,style:{...i.style,display:"block"}})})});yI.displayName=gI;function z3(t){return t!==null}var B3=t=>({name:"transformOrigin",options:t,fn(e){var k,_,y;const{placement:n,rects:r,middlewareData:i}=e,o=((k=i.arrow)==null?void 0:k.centerOffset)!==0,a=o?0:t.arrowWidth,u=o?0:t.arrowHeight,[c,d]=vI(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((_=i.arrow)==null?void 0:_.x)??0)+a/2,S=(((y=i.arrow)==null?void 0:y.y)??0)+u/2;let I="",w="";return c==="bottom"?(I=o?f:`${p}px`,w=`${-u}px`):c==="top"?(I=o?f:`${p}px`,w=`${r.floating.height+u}px`):c==="right"?(I=`${-u}px`,w=o?f:`${S}px`):c==="left"&&(I=`${r.floating.width+u}px`,w=o?f:`${S}px`),{data:{x:I,y:w}}}});function vI(t){const[e,n="center"]=t.split("-");return[e,n]}var $3=hI,W3=pI,H3=mI,q3=yI,G3="Portal",wI=x.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=x.useState(!1);$t(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?pA.createPortal(g.jsx($e.div,{...r,ref:e}),o):null});wI.displayName=G3;var K3=N0[" useInsertionEffect ".trim().toString()]||$t;function f0({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=Q3({defaultProp:e,onChange:n}),a=t!==void 0,u=a?t:i;{const d=x.useRef(t!==void 0);x.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=x.useCallback(d=>{var f;if(a){const p=Y3(d)?d(t):d;p!==t&&((f=o.current)==null||f.call(o,p))}else s(d)},[a,t,s,o]);return[u,c]}function Q3({defaultProp:t,onChange:e}){const[n,r]=x.useState(t),i=x.useRef(n),s=x.useRef(e);return K3(()=>{s.current=e},[e]),x.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function Y3(t){return typeof t=="function"}function X3(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var _I=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),J3="VisuallyHidden",Z3=x.forwardRef((t,e)=>g.jsx($e.span,{...t,ref:e,style:{..._I,...t.style}}));Z3.displayName=J3;var e6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ls=new WeakMap,cu=new WeakMap,du={},ef=0,EI=function(t){return t&&(t.host||EI(t.parentNode))},t6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=EI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},n6=function(t,e,n,r){var i=t6(e,Array.isArray(t)?t:[t]);du[n]||(du[n]=new WeakMap);var s=du[n],o=[],a=new Set,u=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var d=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var S=p.getAttribute(r),I=S!==null&&S!=="false",w=(ls.get(p)||0)+1,k=(s.get(p)||0)+1;ls.set(p,w),s.set(p,k),o.push(p),w===1&&I&&cu.set(p,!0),k===1&&p.setAttribute(n,"true"),I||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return d(e),a.clear(),ef++,function(){o.forEach(function(f){var p=ls.get(f)-1,S=s.get(f)-1;ls.set(f,p),s.set(f,S),p||(cu.has(f)||f.removeAttribute(r),cu.delete(f)),S||f.removeAttribute(n)}),ef--,ef||(ls=new WeakMap,ls=new WeakMap,cu=new WeakMap,du={})}},r6=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e6(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),n6(r,i,n,"aria-hidden")):function(){return null}},Nn=function(){return Nn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Nn.apply(this,arguments)};function xI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function i6(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Bu="right-scroll-bar-position",$u="width-before-scroll-bar",s6="with-scroll-bars-hidden",o6="--removed-body-scroll-bar-size";function tf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function a6(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var l6=typeof window<"u"?x.useLayoutEffect:x.useEffect,p0=new WeakMap;function u6(t,e){var n=a6(null,function(r){return t.forEach(function(i){return tf(i,r)})});return l6(function(){var r=p0.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||tf(a,null)}),s.forEach(function(a){i.has(a)||tf(a,o)})}p0.set(n,t)},[t]),n}function c6(t){return t}function d6(t,e){e===void 0&&(e=c6);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var u=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function h6(t){t===void 0&&(t={});var e=d6(null);return e.options=Nn({async:!0,ssr:!1},t),e}var SI=function(t){var e=t.sideCar,n=xI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Nn({},n))};SI.isSideCarExport=!0;function f6(t,e){return t.useMedium(e),SI}var TI=h6(),nf=function(){},Dd=x.forwardRef(function(t,e){var n=x.useRef(null),r=x.useState({onScrollCapture:nf,onWheelCapture:nf,onTouchMoveCapture:nf}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,S=t.noRelative,I=t.noIsolation,w=t.inert,k=t.allowPinchZoom,_=t.as,y=_===void 0?"div":_,T=t.gapMode,D=xI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=p,V=u6([n,e]),E=Nn(Nn({},D),i);return x.createElement(x.Fragment,null,d&&x.createElement(O,{sideCar:TI,removeScrollBar:c,shards:f,noRelative:S,noIsolation:I,inert:w,setCallbacks:s,allowPinchZoom:!!k,lockRef:n,gapMode:T}),o?x.cloneElement(x.Children.only(a),Nn(Nn({},E),{ref:V})):x.createElement(y,Nn({},E,{className:u,ref:V}),a))});Dd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dd.classNames={fullWidth:$u,zeroRight:Bu};var p6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function m6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=p6();return e&&t.setAttribute("nonce",e),t}function g6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function y6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var v6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=m6())&&(g6(e,n),y6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},w6=function(){var t=v6();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},II=function(){var t=w6(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},_6={left:0,top:0,right:0,gap:0},rf=function(t){return parseInt(t||"",10)||0},E6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[rf(n),rf(r),rf(i)]},x6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _6;var e=E6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},S6=II(),Bs="data-scroll-locked",T6=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(s6,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Bs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat($u,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Bu," .").concat(Bu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($u," .").concat($u,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Bs,`] {
    `).concat(o6,": ").concat(a,`px;
  }
`)},m0=function(){var t=parseInt(document.body.getAttribute(Bs)||"0",10);return isFinite(t)?t:0},I6=function(){x.useEffect(function(){return document.body.setAttribute(Bs,(m0()+1).toString()),function(){var t=m0()-1;t<=0?document.body.removeAttribute(Bs):document.body.setAttribute(Bs,t.toString())}},[])},C6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;I6();var s=x.useMemo(function(){return x6(i)},[i]);return x.createElement(S6,{styles:T6(s,!e,i,n?"":"!important")})},Dp=!1;if(typeof window<"u")try{var hu=Object.defineProperty({},"passive",{get:function(){return Dp=!0,!0}});window.addEventListener("test",hu,hu),window.removeEventListener("test",hu,hu)}catch{Dp=!1}var us=Dp?{passive:!1}:!1,b6=function(t){return t.tagName==="TEXTAREA"},CI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!b6(t)&&n[e]==="visible")},k6=function(t){return CI(t,"overflowY")},A6=function(t){return CI(t,"overflowX")},g0=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=bI(t,r);if(i){var s=kI(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},R6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},P6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},bI=function(t,e){return t==="v"?k6(e):A6(e)},kI=function(t,e){return t==="v"?R6(e):P6(e)},N6=function(t,e){return t==="h"&&e==="rtl"?-1:1},D6=function(t,e,n,r,i){var s=N6(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,u=e.contains(a),c=!1,d=o>0,f=0,p=0;do{if(!a)break;var S=kI(t,a),I=S[0],w=S[1],k=S[2],_=w-k-s*I;(I||_)&&bI(t,a)&&(f+=_,p+=I);var y=a.parentNode;a=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(d&&Math.abs(f)<1||!d&&Math.abs(p)<1)&&(c=!0),c},fu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},y0=function(t){return[t.deltaX,t.deltaY]},v0=function(t){return t&&"current"in t?t.current:t},O6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},L6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},M6=0,cs=[];function V6(t){var e=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(M6++)[0],s=x.useState(II)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var w=i6([t.lockRef.current],(t.shards||[]).map(v0),!0).filter(Boolean);return w.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=x.useCallback(function(w,k){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var _=fu(w),y=n.current,T="deltaX"in w?w.deltaX:y[0]-_[0],D="deltaY"in w?w.deltaY:y[1]-_[1],O,V=w.target,E=Math.abs(T)>Math.abs(D)?"h":"v";if("touches"in w&&E==="h"&&V.type==="range")return!1;var v=g0(E,V);if(!v)return!0;if(v?O=E:(O=E==="v"?"h":"v",v=g0(E,V)),!v)return!1;if(!r.current&&"changedTouches"in w&&(T||D)&&(r.current=O),!O)return!0;var C=r.current||O;return D6(C,k,w,C==="h"?T:D)},[]),u=x.useCallback(function(w){var k=w;if(!(!cs.length||cs[cs.length-1]!==s)){var _="deltaY"in k?y0(k):fu(k),y=e.current.filter(function(O){return O.name===k.type&&(O.target===k.target||k.target===O.shadowParent)&&O6(O.delta,_)})[0];if(y&&y.should){k.cancelable&&k.preventDefault();return}if(!y){var T=(o.current.shards||[]).map(v0).filter(Boolean).filter(function(O){return O.contains(k.target)}),D=T.length>0?a(k,T[0]):!o.current.noIsolation;D&&k.cancelable&&k.preventDefault()}}},[]),c=x.useCallback(function(w,k,_,y){var T={name:w,delta:k,target:_,should:y,shadowParent:j6(_)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(D){return D!==T})},1)},[]),d=x.useCallback(function(w){n.current=fu(w),r.current=void 0},[]),f=x.useCallback(function(w){c(w.type,y0(w),w.target,a(w,t.lockRef.current))},[]),p=x.useCallback(function(w){c(w.type,fu(w),w.target,a(w,t.lockRef.current))},[]);x.useEffect(function(){return cs.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",u,us),document.addEventListener("touchmove",u,us),document.addEventListener("touchstart",d,us),function(){cs=cs.filter(function(w){return w!==s}),document.removeEventListener("wheel",u,us),document.removeEventListener("touchmove",u,us),document.removeEventListener("touchstart",d,us)}},[]);var S=t.removeScrollBar,I=t.inert;return x.createElement(x.Fragment,null,I?x.createElement(s,{styles:L6(i)}):null,S?x.createElement(C6,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function j6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const F6=f6(TI,V6);var AI=x.forwardRef(function(t,e){return x.createElement(Dd,Nn({},t,{ref:e,sideCar:F6}))});AI.classNames=Dd.classNames;var U6=[" ","Enter","ArrowUp","ArrowDown"],z6=[" ","Enter"],Gi="Select",[Od,Ld,B6]=rj(Gi),[Co,A5]=Ng(Gi,[B6,cI]),Md=cI(),[$6,mi]=Co(Gi),[W6,H6]=Co(Gi),RI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:u,dir:c,name:d,autoComplete:f,disabled:p,required:S,form:I}=t,w=Md(e),[k,_]=x.useState(null),[y,T]=x.useState(null),[D,O]=x.useState(!1),V=sj(c),[E,v]=f0({prop:r,defaultProp:i??!1,onChange:s,caller:Gi}),[C,A]=f0({prop:o,defaultProp:a,onChange:u,caller:Gi}),P=x.useRef(null),N=k?I||!!k.closest("form"):!0,[R,K]=x.useState(new Set),re=Array.from(R).map(Z=>Z.props.value).join(";");return g.jsx($3,{...w,children:g.jsxs($6,{required:S,scope:e,trigger:k,onTriggerChange:_,valueNode:y,onValueNodeChange:T,valueNodeHasChildren:D,onValueNodeHasChildrenChange:O,contentId:Dg(),value:C,onValueChange:A,open:E,onOpenChange:v,dir:V,triggerPointerDownPosRef:P,disabled:p,children:[g.jsx(Od.Provider,{scope:e,children:g.jsx(W6,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(Z=>{K(H=>new Set(H).add(Z))},[]),onNativeOptionRemove:x.useCallback(Z=>{K(H=>{const L=new Set(H);return L.delete(Z),L})},[]),children:n})}),N?g.jsxs(eC,{"aria-hidden":!0,required:S,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:Z=>A(Z.target.value),disabled:p,form:I,children:[C===void 0?g.jsx("option",{value:""}):null,Array.from(R)]},re):null]})})};RI.displayName=Gi;var PI="SelectTrigger",NI=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Md(n),o=mi(PI,n),a=o.disabled||r,u=yt(e,o.onTriggerChange),c=Ld(n),d=x.useRef("touch"),[f,p,S]=nC(w=>{const k=c().filter(T=>!T.disabled),_=k.find(T=>T.value===o.value),y=rC(k,w,_);y!==void 0&&o.onValueChange(y.value)}),I=w=>{a||(o.onOpenChange(!0),S()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return g.jsx(W3,{asChild:!0,...s,children:g.jsx($e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":tC(o.value)?"":void 0,...i,ref:u,onClick:Qe(i.onClick,w=>{w.currentTarget.focus(),d.current!=="mouse"&&I(w)}),onPointerDown:Qe(i.onPointerDown,w=>{d.current=w.pointerType;const k=w.target;k.hasPointerCapture(w.pointerId)&&k.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(I(w),w.preventDefault())}),onKeyDown:Qe(i.onKeyDown,w=>{const k=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(k&&w.key===" ")&&U6.includes(w.key)&&(I(),w.preventDefault())})})})});NI.displayName=PI;var DI="SelectValue",OI=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,u=mi(DI,n),{onValueNodeHasChildrenChange:c}=u,d=s!==void 0,f=yt(e,u.onValueNodeChange);return $t(()=>{c(d)},[c,d]),g.jsx($e.span,{...a,ref:f,style:{pointerEvents:"none"},children:tC(u.value)?g.jsx(g.Fragment,{children:o}):s})});OI.displayName=DI;var q6="SelectIcon",LI=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return g.jsx($e.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});LI.displayName=q6;var G6="SelectPortal",MI=t=>g.jsx(wI,{asChild:!0,...t});MI.displayName=G6;var Ki="SelectContent",VI=x.forwardRef((t,e)=>{const n=mi(Ki,t.__scopeSelect),[r,i]=x.useState();if($t(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?lo.createPortal(g.jsx(jI,{scope:t.__scopeSelect,children:g.jsx(Od.Slot,{scope:t.__scopeSelect,children:g.jsx("div",{children:t.children})})}),s):null}return g.jsx(FI,{...t,ref:e})});VI.displayName=Ki;var pn=10,[jI,gi]=Co(Ki),K6="SelectContentImpl",Q6=Ka("SelectContent.RemoveScroll"),FI=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:u,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:S,sticky:I,hideWhenDetached:w,avoidCollisions:k,..._}=t,y=mi(Ki,n),[T,D]=x.useState(null),[O,V]=x.useState(null),E=yt(e,W=>D(W)),[v,C]=x.useState(null),[A,P]=x.useState(null),N=Ld(n),[R,K]=x.useState(!1),re=x.useRef(!1);x.useEffect(()=>{if(T)return r6(T)},[T]),pj();const Z=x.useCallback(W=>{const[Ee,...Oe]=N().map(ce=>ce.ref.current),[fe]=Oe.slice(-1),ue=document.activeElement;for(const ce of W)if(ce===ue||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===Ee&&O&&(O.scrollTop=0),ce===fe&&O&&(O.scrollTop=O.scrollHeight),ce==null||ce.focus(),document.activeElement!==ue))return},[N,O]),H=x.useCallback(()=>Z([v,T]),[Z,v,T]);x.useEffect(()=>{R&&H()},[R,H]);const{onOpenChange:L,triggerPointerDownPosRef:$}=y;x.useEffect(()=>{if(T){let W={x:0,y:0};const Ee=fe=>{var ue,ce;W={x:Math.abs(Math.round(fe.pageX)-(((ue=$.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((ce=$.current)==null?void 0:ce.y)??0))}},Oe=fe=>{W.x<=10&&W.y<=10?fe.preventDefault():T.contains(fe.target)||L(!1),document.removeEventListener("pointermove",Ee),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[T,L,$]),x.useEffect(()=>{const W=()=>L(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[L]);const[X,he]=nC(W=>{const Ee=N().filter(ue=>!ue.disabled),Oe=Ee.find(ue=>ue.ref.current===document.activeElement),fe=rC(Ee,W,Oe);fe&&setTimeout(()=>fe.ref.current.focus())}),le=x.useCallback((W,Ee,Oe)=>{const fe=!re.current&&!Oe;(y.value!==void 0&&y.value===Ee||fe)&&(C(W),fe&&(re.current=!0))},[y.value]),oe=x.useCallback(()=>T==null?void 0:T.focus(),[T]),we=x.useCallback((W,Ee,Oe)=>{const fe=!re.current&&!Oe;(y.value!==void 0&&y.value===Ee||fe)&&P(W)},[y.value]),We=r==="popper"?Op:UI,Ge=We===Op?{side:a,sideOffset:u,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:S,sticky:I,hideWhenDetached:w,avoidCollisions:k}:{};return g.jsx(jI,{scope:n,content:T,viewport:O,onViewportChange:V,itemRefCallback:le,selectedItem:v,onItemLeave:oe,itemTextRefCallback:we,focusSelectedItem:H,selectedItemText:A,position:r,isPositioned:R,searchRef:X,children:g.jsx(AI,{as:Q6,allowPinchZoom:!0,children:g.jsx(QT,{asChild:!0,trapped:y.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:Qe(i,W=>{var Ee;(Ee=y.trigger)==null||Ee.focus({preventScroll:!0}),W.preventDefault()}),children:g.jsx(GT,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:g.jsx(We,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:W=>W.preventDefault(),..._,...Ge,onPlaced:()=>K(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Qe(_.onKeyDown,W=>{const Ee=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!Ee&&W.key.length===1&&he(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let fe=N().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(W.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const ue=W.target,ce=fe.indexOf(ue);fe=fe.slice(ce+1)}setTimeout(()=>Z(fe)),W.preventDefault()}})})})})})})});FI.displayName=K6;var Y6="SelectItemAlignedPosition",UI=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=mi(Ki,n),o=gi(Ki,n),[a,u]=x.useState(null),[c,d]=x.useState(null),f=yt(e,E=>d(E)),p=Ld(n),S=x.useRef(!1),I=x.useRef(!0),{viewport:w,selectedItem:k,selectedItemText:_,focusSelectedItem:y}=o,T=x.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&w&&k&&_){const E=s.trigger.getBoundingClientRect(),v=c.getBoundingClientRect(),C=s.valueNode.getBoundingClientRect(),A=_.getBoundingClientRect();if(s.dir!=="rtl"){const ue=A.left-v.left,ce=C.left-ue,at=E.left-ce,Mt=E.width+at,Kn=Math.max(Mt,v.width),Er=window.innerWidth-pn,yi=Q_(ce,[pn,Math.max(pn,Er-Kn)]);a.style.minWidth=Mt+"px",a.style.left=yi+"px"}else{const ue=v.right-A.right,ce=window.innerWidth-C.right-ue,at=window.innerWidth-E.right-ce,Mt=E.width+at,Kn=Math.max(Mt,v.width),Er=window.innerWidth-pn,yi=Q_(ce,[pn,Math.max(pn,Er-Kn)]);a.style.minWidth=Mt+"px",a.style.right=yi+"px"}const P=p(),N=window.innerHeight-pn*2,R=w.scrollHeight,K=window.getComputedStyle(c),re=parseInt(K.borderTopWidth,10),Z=parseInt(K.paddingTop,10),H=parseInt(K.borderBottomWidth,10),L=parseInt(K.paddingBottom,10),$=re+Z+R+L+H,X=Math.min(k.offsetHeight*5,$),he=window.getComputedStyle(w),le=parseInt(he.paddingTop,10),oe=parseInt(he.paddingBottom,10),we=E.top+E.height/2-pn,We=N-we,Ge=k.offsetHeight/2,W=k.offsetTop+Ge,Ee=re+Z+W,Oe=$-Ee;if(Ee<=we){const ue=P.length>0&&k===P[P.length-1].ref.current;a.style.bottom="0px";const ce=c.clientHeight-w.offsetTop-w.offsetHeight,at=Math.max(We,Ge+(ue?oe:0)+ce+H),Mt=Ee+at;a.style.height=Mt+"px"}else{const ue=P.length>0&&k===P[0].ref.current;a.style.top="0px";const at=Math.max(we,re+w.offsetTop+(ue?le:0)+Ge)+Oe;a.style.height=at+"px",w.scrollTop=Ee-we+w.offsetTop}a.style.margin=`${pn}px 0`,a.style.minHeight=X+"px",a.style.maxHeight=N+"px",r==null||r(),requestAnimationFrame(()=>S.current=!0)}},[p,s.trigger,s.valueNode,a,c,w,k,_,s.dir,r]);$t(()=>T(),[T]);const[D,O]=x.useState();$t(()=>{c&&O(window.getComputedStyle(c).zIndex)},[c]);const V=x.useCallback(E=>{E&&I.current===!0&&(T(),y==null||y(),I.current=!1)},[T,y]);return g.jsx(J6,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:S,onScrollButtonChange:V,children:g.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:g.jsx($e.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});UI.displayName=Y6;var X6="SelectPopperPosition",Op=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=pn,...s}=t,o=Md(n);return g.jsx(H3,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Op.displayName=X6;var[J6,$g]=Co(Ki,{}),Lp="SelectViewport",zI=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=gi(Lp,n),o=$g(Lp,n),a=yt(e,s.onViewportChange),u=x.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(Od.Slot,{scope:n,children:g.jsx($e.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Qe(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const S=Math.abs(u.current-d.scrollTop);if(S>0){const I=window.innerHeight-pn*2,w=parseFloat(f.style.minHeight),k=parseFloat(f.style.height),_=Math.max(w,k);if(_<I){const y=_+S,T=Math.min(I,y),D=y-T;f.style.height=T+"px",f.style.bottom==="0px"&&(d.scrollTop=D>0?D:0,f.style.justifyContent="flex-end")}}}u.current=d.scrollTop})})})]})});zI.displayName=Lp;var BI="SelectGroup",[Z6,e5]=Co(BI),t5=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Dg();return g.jsx(Z6,{scope:n,id:i,children:g.jsx($e.div,{role:"group","aria-labelledby":i,...r,ref:e})})});t5.displayName=BI;var $I="SelectLabel",WI=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=e5($I,n);return g.jsx($e.div,{id:i.id,...r,ref:e})});WI.displayName=$I;var Gc="SelectItem",[n5,HI]=Co(Gc),qI=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=mi(Gc,n),u=gi(Gc,n),c=a.value===r,[d,f]=x.useState(s??""),[p,S]=x.useState(!1),I=yt(e,y=>{var T;return(T=u.itemRefCallback)==null?void 0:T.call(u,y,r,i)}),w=Dg(),k=x.useRef("touch"),_=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(n5,{scope:n,value:r,disabled:i,textId:w,isSelected:c,onItemTextChange:x.useCallback(y=>{f(T=>T||((y==null?void 0:y.textContent)??"").trim())},[]),children:g.jsx(Od.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:g.jsx($e.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:I,onFocus:Qe(o.onFocus,()=>S(!0)),onBlur:Qe(o.onBlur,()=>S(!1)),onClick:Qe(o.onClick,()=>{k.current!=="mouse"&&_()}),onPointerUp:Qe(o.onPointerUp,()=>{k.current==="mouse"&&_()}),onPointerDown:Qe(o.onPointerDown,y=>{k.current=y.pointerType}),onPointerMove:Qe(o.onPointerMove,y=>{var T;k.current=y.pointerType,i?(T=u.onItemLeave)==null||T.call(u):k.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Qe(o.onPointerLeave,y=>{var T;y.currentTarget===document.activeElement&&((T=u.onItemLeave)==null||T.call(u))}),onKeyDown:Qe(o.onKeyDown,y=>{var D;((D=u.searchRef)==null?void 0:D.current)!==""&&y.key===" "||(z6.includes(y.key)&&_(),y.key===" "&&y.preventDefault())})})})})});qI.displayName=Gc;var oa="SelectItemText",GI=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=mi(oa,n),a=gi(oa,n),u=HI(oa,n),c=H6(oa,n),[d,f]=x.useState(null),p=yt(e,_=>f(_),u.onItemTextChange,_=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,_,u.value,u.disabled)}),S=d==null?void 0:d.textContent,I=x.useMemo(()=>g.jsx("option",{value:u.value,disabled:u.disabled,children:S},u.value),[u.disabled,u.value,S]),{onNativeOptionAdd:w,onNativeOptionRemove:k}=c;return $t(()=>(w(I),()=>k(I)),[w,k,I]),g.jsxs(g.Fragment,{children:[g.jsx($e.span,{id:u.textId,...s,ref:p}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?lo.createPortal(s.children,o.valueNode):null]})});GI.displayName=oa;var KI="SelectItemIndicator",QI=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return HI(KI,n).isSelected?g.jsx($e.span,{"aria-hidden":!0,...r,ref:e}):null});QI.displayName=KI;var Mp="SelectScrollUpButton",YI=x.forwardRef((t,e)=>{const n=gi(Mp,t.__scopeSelect),r=$g(Mp,t.__scopeSelect),[i,s]=x.useState(!1),o=yt(e,r.onScrollButtonChange);return $t(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=u.scrollTop>0;s(c)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?g.jsx(JI,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop-u.offsetHeight)}}):null});YI.displayName=Mp;var Vp="SelectScrollDownButton",XI=x.forwardRef((t,e)=>{const n=gi(Vp,t.__scopeSelect),r=$g(Vp,t.__scopeSelect),[i,s]=x.useState(!1),o=yt(e,r.onScrollButtonChange);return $t(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=u.scrollHeight-u.clientHeight,d=Math.ceil(u.scrollTop)<c;s(d)};const u=n.viewport;return a(),u.addEventListener("scroll",a),()=>u.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?g.jsx(JI,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:u}=n;a&&u&&(a.scrollTop=a.scrollTop+u.offsetHeight)}}):null});XI.displayName=Vp;var JI=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=gi("SelectScrollButton",n),o=x.useRef(null),a=Ld(n),u=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>u(),[u]),$t(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),g.jsx($e.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Qe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Qe(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Qe(i.onPointerLeave,()=>{u()})})}),r5="SelectSeparator",ZI=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return g.jsx($e.div,{"aria-hidden":!0,...r,ref:e})});ZI.displayName=r5;var jp="SelectArrow",i5=x.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Md(n),s=mi(jp,n),o=gi(jp,n);return s.open&&o.position==="popper"?g.jsx(q3,{...i,...r,ref:e}):null});i5.displayName=jp;var s5="SelectBubbleInput",eC=x.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=x.useRef(null),s=yt(r,i),o=X3(e);return x.useEffect(()=>{const a=i.current;if(!a)return;const u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[o,e]),g.jsx($e.select,{...n,style:{..._I,...n.style},ref:s,defaultValue:e})});eC.displayName=s5;function tC(t){return t===""||t===void 0}function nC(t){const e=Hi(t),n=x.useRef(""),r=x.useRef(0),i=x.useCallback(o=>{const a=n.current+o;e(a),function u(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(a)},[e]),s=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function rC(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=o5(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const u=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function o5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var a5=RI,iC=NI,l5=OI,u5=LI,c5=MI,sC=VI,d5=zI,Wg=WI,oC=qI,h5=GI,f5=QI,aC=YI,lC=XI,uC=ZI;const p5=a5,m5=l5,cC=x.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(iC,{ref:r,className:ot("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,g.jsx(u5,{asChild:!0,children:g.jsx(FT,{className:"h-4 w-4 opacity-50"})})]}));cC.displayName=iC.displayName;const dC=x.forwardRef(({className:t,...e},n)=>g.jsx(aC,{ref:n,className:ot("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(aV,{className:"h-4 w-4"})}));dC.displayName=aC.displayName;const hC=x.forwardRef(({className:t,...e},n)=>g.jsx(lC,{ref:n,className:ot("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(FT,{className:"h-4 w-4"})}));hC.displayName=lC.displayName;const fC=x.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>g.jsx(c5,{children:g.jsxs(sC,{ref:i,className:ot("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[g.jsx(dC,{}),g.jsx(d5,{className:ot("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),g.jsx(hC,{})]})}));fC.displayName=sC.displayName;const g5=x.forwardRef(({className:t,...e},n)=>g.jsx(Wg,{ref:n,className:ot("px-2 py-1.5 text-sm font-semibold",t),...e}));g5.displayName=Wg.displayName;const Fp=x.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(oC,{ref:r,className:ot("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(f5,{children:g.jsx(eV,{className:"h-4 w-4"})})}),g.jsx(h5,{children:e})]}));Fp.displayName=oC.displayName;const y5=x.forwardRef(({className:t,...e},n)=>g.jsx(uC,{ref:n,className:ot("-mx-1 my-1 h-px bg-muted",t),...e}));y5.displayName=uC.displayName;const w0={hu:{text:"Bejelentkezs",signOut:"Kijelentkezs"},en:{text:"Sign In",signOut:"Sign Out"}};function v5(){const[t]=Dt(dn),e=_o(),n=dd(),r=async()=>{await ST.signOut(),n("/")};return e?g.jsxs(Me,{variant:"outline",onClick:r,className:"btn-secondary flex items-center gap-2 border-secondary-500 text-secondary-foreground hover:bg-secondary-600 hover:text-secondary-foreground dark:hover:bg-secondary-600",children:[g.jsx(xV,{className:"h-4 w-4"}),w0[t].signOut]}):g.jsx(un,{to:"/login",children:g.jsxs(Me,{className:"btn-primary flex items-center gap-2 text-primary-foreground hover:bg-primary-600",children:[g.jsx(_V,{className:"h-4 w-4"}),w0[t].text]})})}function bo(){const[t,e]=Dt(dn),[n]=Dt(Bm),[r,i]=x.useState("light");x.useEffect(()=>{const o=localStorage.getItem("theme")||"light";i(o),document.documentElement.classList.toggle("dark",o==="dark")},[]);const s=()=>{const o=r==="light"?"dark":"light";i(o),localStorage.setItem("theme",o),document.documentElement.classList.toggle("dark",o==="dark")};return g.jsxs("header",{className:"bg-white/10 backdrop-blur-xl border-b border-white/20 sticky top-0 z-50 transition-all duration-300",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-accent/5 pointer-events-none"}),g.jsx("div",{className:"container mx-auto px-4 py-4 relative",children:g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx(un,{to:"/",className:"group",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:"/logo.png",alt:"Veho Logo",className:"h-10 transition-all duration-300 group-hover:scale-105 drop-shadow-lg"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 to-accent/20 rounded-lg blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]}),g.jsx("div",{className:"hidden sm:block",children:g.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Veho"})})]})}),g.jsxs("nav",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"relative",children:g.jsxs(p5,{value:t,onValueChange:e,children:[g.jsx(cC,{className:"w-[120px] bg-white/10 border-white/30 text-white/90 hover:bg-white/20 transition-all duration-300 backdrop-blur-sm focus:border-primary/60",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(mV,{className:"w-4 h-4 text-white/70"}),g.jsx(m5,{placeholder:t==="hu"?"Nyelv":"Language"})]})}),g.jsxs(fC,{className:"bg-white/10 backdrop-blur-xl border-white/30 text-white",children:[g.jsx(Fp,{value:"hu",className:"hover:bg-white/20 focus:bg-white/20 cursor-pointer",children:" Magyar"}),g.jsx(Fp,{value:"en",className:"hover:bg-white/20 focus:bg-white/20 cursor-pointer",children:" English"})]})]})}),n&&g.jsx(un,{to:"/profile",className:"group",children:g.jsxs(Me,{variant:"ghost",className:"bg-white/10 border border-white/30 text-white/90 hover:bg-primary/20 hover:border-primary/40 transition-all duration-300 backdrop-blur-sm group-hover:shadow-lg",children:[g.jsx(UT,{className:"w-4 h-4 mr-2 transition-transform group-hover:scale-110"}),g.jsx("span",{className:"hidden sm:inline",children:t==="hu"?"Profil":"Profile"})]})}),g.jsx(Me,{variant:"ghost",size:"icon",onClick:s,className:"bg-white/10 border border-white/30 text-white/90 hover:bg-white/20 hover:border-accent/40 transition-all duration-300 backdrop-blur-sm group",children:g.jsx("div",{className:"relative",children:r==="light"?g.jsx(IV,{className:"h-5 w-5 transition-all duration-300 group-hover:rotate-12"}):g.jsx(OV,{className:"h-5 w-5 transition-all duration-300 group-hover:rotate-180"})})}),g.jsx("div",{className:"relative",children:g.jsx(v5,{})})]})]})}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/30 to-transparent"})]})}const ml=x.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ot("rounded-xl border bg-card text-card-foreground shadow",t),...e}));ml.displayName="Card";const gl=x.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ot("flex flex-col space-y-1.5 p-6",t),...e}));gl.displayName="CardHeader";const yl=x.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ot("font-semibold leading-none tracking-tight",t),...e}));yl.displayName="CardTitle";const w5=x.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ot("text-sm text-muted-foreground",t),...e}));w5.displayName="CardDescription";const vl=x.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ot("p-6 pt-0",t),...e}));vl.displayName="CardContent";const _5=x.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:ot("flex items-center p-6 pt-0",t),...e}));_5.displayName="CardFooter";const pu={hu:{title:"Adatok",noData:"Mg nincsenek adatok.",join:"Csatlakozs"},en:{title:"Data",noData:"No data yet.",join:"Join"}};function E5(){const[t]=Dt(dn),e=_o(),[n,r]=x.useState([]),[i,s]=x.useState(!0);return x.useEffect(()=>{(async()=>{s(!0);try{const u=(await ET(Cg(Rg,"ideas"))).docs.map(c=>({id:c.id,...c.data()}));r(u)}catch(a){console.error("Error fetching data:",a)}s(!1)})()},[]),g.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[g.jsx(bo,{}),g.jsxs("main",{className:"container mx-auto px-4 py-12",children:[g.jsx("h1",{className:"text-3xl font-semibold text-center mb-6",children:pu[t].title}),i?g.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300",children:"Betlts..."}):n.length===0?g.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300",children:pu[t].noData}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(o=>g.jsxs(ml,{className:"bg-white dark:bg-slate-800",children:[g.jsx(gl,{children:g.jsx(yl,{className:"text-xl font-semibold",children:o.title})}),g.jsxs(vl,{children:[g.jsx("img",{src:`/${o.imagePath}`,alt:o.title,className:"w-full h-48 object-cover mb-4 rounded"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:o.description}),e?g.jsx(Me,{asChild:!0,className:"bg-indigo-500 text-white hover:bg-indigo-600",children:g.jsx(un,{to:`/ideas/${o.id}`,children:pu[t].join})}):g.jsx(Me,{asChild:!0,className:"bg-indigo-500 text-white hover:bg-indigo-600",children:g.jsx(un,{to:"/login",children:pu[t].join})})]})]},o.id))})]}),g.jsx(So,{})]})}const mu={hu:{title:"tletek",noIdeas:"Mg nincsenek tletek.",join:"Csatlakozs"},en:{title:"Ideas",noIdeas:"No ideas yet.",join:"Join"}};function x5(){const[t]=Dt(dn),e=_o(),[n,r]=x.useState([]),[i,s]=x.useState(!0);return x.useEffect(()=>{(async()=>{s(!0);try{const u=(await ET(Cg(Rg,"ideas"))).docs.map(c=>({id:c.id,...c.data()}));r(u)}catch(a){console.error("Error fetching ideas:",a)}s(!1)})()},[]),g.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[g.jsx(bo,{}),g.jsxs("main",{className:"container mx-auto px-4 py-12",children:[g.jsx("h1",{className:"text-3xl font-semibold text-center mb-6",children:mu[t].title}),i?g.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300",children:"Betlts..."}):n.length===0?g.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300",children:mu[t].noIdeas}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(o=>g.jsxs(ml,{className:"bg-white dark:bg-slate-800",children:[g.jsx(gl,{children:g.jsx(yl,{className:"text-xl font-semibold",children:o.title})}),g.jsxs(vl,{children:[g.jsx("img",{src:`/${o.imagePath}`,alt:o.title,className:"w-full h-48 object-cover mb-4 rounded"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:o.description}),e?g.jsx(Me,{asChild:!0,className:"bg-indigo-500 text-white hover:bg-indigo-600",children:g.jsx(un,{to:`/ideas/${o.id}`,children:mu[t].join})}):g.jsx(Me,{asChild:!0,className:"bg-indigo-500 text-white hover:bg-indigo-600",children:g.jsx(un,{to:"/login",children:mu[t].join})})]})]},o.id))})]}),g.jsx(So,{})]})}const pC=x.forwardRef(({className:t,...e},n)=>g.jsx("textarea",{className:ot("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));pC.displayName="Textarea";const Ht={hu:{title:"tlet megosztsa",ideaTitle:"tlet cme",description:"Lers",imageUrl:"Kp URL",submit:"Megoszts",success:"tlet sikeresen megosztva!",error:"Hiba trtnt az tlet megosztsa sorn.",loginPrompt:"Krjk, jelentkezz be az tlet megosztshoz."},en:{title:"Share an Idea",ideaTitle:"Idea Title",description:"Description",imageUrl:"Image URL",submit:"Share",success:"Idea shared successfully!",error:"An error occurred while sharing the idea.",loginPrompt:"Please sign in to share an idea."}};function S5(){const[t]=Dt(dn),e=_o(),n=dd(),[r,i]=x.useState(""),[s,o]=x.useState(""),[a,u]=x.useState(""),[c,d]=x.useState(""),[f,p]=x.useState(""),S=async I=>{if(I.preventDefault(),!e){d(Ht[t].loginPrompt);return}try{await rM(Cg(Rg,"ideas"),{title:r,description:s,imagePath:a||"idea.png",userId:e.uid,createdAt:new Date}),p(Ht[t].success),i(""),o(""),u(""),setTimeout(()=>n("/ideas"),2e3)}catch{d(Ht[t].error)}};return g.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[g.jsx(bo,{}),g.jsx("main",{className:"container mx-auto px-4 py-12",children:g.jsxs(ml,{className:"w-full max-w-md mx-auto bg-white dark:bg-slate-800",children:[g.jsx(gl,{children:g.jsx(yl,{className:"text-2xl font-semibold text-center",children:Ht[t].title})}),g.jsxs(vl,{children:[f&&g.jsx("p",{className:"text-green-500 text-center mb-4",children:f}),c&&g.jsx("p",{className:"text-red-500 text-center mb-4",children:c}),e?g.jsxs("form",{onSubmit:S,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx(Oi,{htmlFor:"title",children:Ht[t].ideaTitle}),g.jsx(Us,{id:"title",value:r,onChange:I=>i(I.target.value),placeholder:Ht[t].ideaTitle,className:"mt-1",required:!0})]}),g.jsxs("div",{children:[g.jsx(Oi,{htmlFor:"description",children:Ht[t].description}),g.jsx(pC,{id:"description",value:s,onChange:I=>o(I.target.value),placeholder:Ht[t].description,className:"mt-1",rows:5,required:!0})]}),g.jsxs("div",{children:[g.jsx(Oi,{htmlFor:"imageUrl",children:Ht[t].imageUrl}),g.jsx(Us,{id:"imageUrl",value:a,onChange:I=>u(I.target.value),placeholder:Ht[t].imageUrl,className:"mt-1"})]}),g.jsx(Me,{type:"submit",className:"w-full bg-indigo-500 text-white hover:bg-indigo-600",children:Ht[t].submit})]}):g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:Ht[t].loginPrompt}),g.jsx(Me,{asChild:!0,className:"bg-indigo-500 text-white hover:bg-indigo-600",children:g.jsx(un,{to:"/login",children:Ht[t].loginPrompt})})]})]})]})}),g.jsx(So,{})]})}const gu={hu:{title:"Profil",email:"Email",notSignedIn:"Krjk, jelentkezz be a profil megtekintshez.",signIn:"Bejelentkezs"},en:{title:"Profile",email:"Email",notSignedIn:"Please sign in to view your profile.",signIn:"Sign In"}};function T5(){const[t]=Dt(dn),e=_o();return g.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[g.jsx(bo,{}),g.jsx("main",{className:"container mx-auto px-4 py-12",children:g.jsxs(ml,{className:"w-full max-w-md mx-auto bg-white dark:bg-slate-800",children:[g.jsx(gl,{children:g.jsx(yl,{className:"text-2xl font-semibold text-center",children:gu[t].title})}),g.jsx(vl,{children:e?g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{children:[g.jsx(Wg,{className:"text-gray-600 dark:text-gray-300",children:gu[t].email}),g.jsx("p",{className:"text-lg",children:e.email})]})}):g.jsxs("div",{className:"text-center",children:[g.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:gu[t].notSignedIn}),g.jsx(Me,{asChild:!0,className:"bg-indigo-500 text-white hover:bg-indigo-600",children:g.jsx(un,{to:"/login",children:gu[t].signIn})})]})})]})}),g.jsx(So,{})]})}const _0={hu:{title:"Adatvdelmi irnyelvek",content:"Ez az oldal az adatvdelmi irnyelveinket tartalmazza. Krjk, olvassa el figyelmesen."},en:{title:"Privacy Policy",content:"This page contains our privacy policy. Please read it carefully."}};function I5(){const[t]=Dt(dn);return g.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[g.jsx(bo,{}),g.jsxs("main",{className:"container mx-auto px-4 py-12",children:[g.jsx("h1",{className:"text-3xl font-semibold text-center mb-6",children:_0[t].title}),g.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:_0[t].content})]}),g.jsx(So,{})]})}function C5(){const[t]=Dt(Bm);return g.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[g.jsxs("div",{className:"fixed inset-0 -z-10",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950"}),g.jsxs("div",{className:"absolute inset-0 opacity-40",children:[g.jsx("div",{className:"absolute top-1/4 left-1/6 w-96 h-96 bg-primary/10 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute top-3/4 right-1/6 w-80 h-80 bg-secondary/10 rounded-full blur-3xl animate-pulse animation-delay-1000"}),g.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-64 h-64 bg-accent/10 rounded-full blur-3xl animate-pulse animation-delay-2000"}),g.jsx("div",{className:"absolute top-1/2 right-1/4 w-72 h-72 bg-primary/5 rounded-full blur-3xl animate-pulse animation-delay-3000"})]}),g.jsx("div",{className:"absolute inset-0 opacity-[0.02]",children:g.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`
              linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px),
              linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px)
            `,backgroundSize:"50px 50px"}})}),g.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(8)].map((e,n)=>g.jsx("div",{className:"absolute w-1 h-1 bg-white/20 rounded-full animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${n*.8}s`,animationDuration:`${4+Math.random()*3}s`}},n))}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/20 via-transparent to-black/20"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/10 via-transparent to-black/20"})]}),g.jsx("div",{className:"relative z-10",children:g.jsxs(HR,{children:[g.jsx("div",{className:"relative z-50",children:g.jsx(bo,{})}),g.jsx("main",{className:"relative",children:g.jsxs(xR,{children:[g.jsx(kr,{path:"/",element:g.jsx(zV,{})}),g.jsx(kr,{path:"/login",element:g.jsx(tj,{})}),g.jsx(kr,{path:"/ideas",element:g.jsx(x5,{})}),g.jsx(kr,{path:"/share-idea",element:g.jsx(S5,{})}),g.jsx(kr,{path:"/profile",element:g.jsx(T5,{})}),g.jsx(kr,{path:"/privacy-policy",element:g.jsx(I5,{})}),g.jsx(kr,{path:"/data",element:t?g.jsx(E5,{}):g.jsx(_R,{to:"/login",replace:!0})})]})})]})}),g.jsx("div",{className:"fixed bottom-8 right-8 z-40 pointer-events-none",children:g.jsx("div",{className:"w-2 h-16 bg-white/10 rounded-full backdrop-blur-sm border border-white/20",children:g.jsx("div",{className:"w-full h-1/3 bg-gradient-to-b from-primary to-transparent rounded-full animate-pulse"})})})]})}Lx(document.getElementById("root")).render(g.jsx(x.StrictMode,{children:g.jsx(C5,{})}));
